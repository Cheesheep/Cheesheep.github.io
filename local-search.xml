<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>Hexoå’ŒFluidæ’ä»¶æ¨è</title>
    <link href="/2025/08/15/Hexo/Hexo%E5%92%8CFluid%E6%8F%92%E4%BB%B6%E6%8E%A8%E8%8D%90/"/>
    <url>/2025/08/15/Hexo/Hexo%E5%92%8CFluid%E6%8F%92%E4%BB%B6%E6%8E%A8%E8%8D%90/</url>
    
    <content type="html"><![CDATA[<blockquote><p>åœ¨è¿™è®°å½•ä¸€äº›æ¯”è¾ƒå¥½ç”¨çš„æ’ä»¶ï¼Œåœ¨ç¾åŒ–åšå®¢é¡µé¢çš„è¿‡ç¨‹ä¸­å°±é¡ºä¾¿è®°å½•ä¸‹æ¥äº†</p></blockquote><h2 id="1-Hexo-directory-categoryï¼šæ™ºèƒ½åˆ†ç±»"><a href="#1-Hexo-directory-categoryï¼šæ™ºèƒ½åˆ†ç±»" class="headerlink" title="1. Hexo-directory-categoryï¼šæ™ºèƒ½åˆ†ç±»"></a>1. Hexo-directory-categoryï¼šæ™ºèƒ½åˆ†ç±»</h2><p>å®ç”¨ç¨‹åº¦ï¼šâ­â­â­â­â­</p><p>æœ‰äº†è¿™ä¸ªæ’ä»¶å°±å¯ä»¥ç›´æ¥çœå»åœ¨mdæ–‡ä»¶çš„é¡¶éƒ¨æ·»åŠ <code>categories</code>äº†ï¼Œå¤ªå¥½ç”¨äº†åªèƒ½è¯´</p><p>ä¾‹å¦‚ä½ çš„åšå®¢æ ¹ç›®å½•ä¸‹æœ‰è¿™ä¹ˆä¸€ä¸ªæ–‡ä»¶<code>~/_post/hexo/day1/hello.md</code>ï¼Œé‚£ä¹ˆä»–ä¼šè‡ªåŠ¨ä¸ºè¿™ç¯‡æ–‡ç« æ·»åŠ ä¸€ä¸ªåä¸º<code>hexo</code>çš„ç±»åˆ«ï¼Œä»¥åŠä¸€ä¸ª<code> day1</code>çš„å­ç±»åˆ«</p><h3 id="å®‰è£…ï¼š"><a href="#å®‰è£…ï¼š" class="headerlink" title="å®‰è£…ï¼š"></a>å®‰è£…ï¼š</h3><p>åœ¨ç»ˆç«¯è¿›å…¥åšå®¢ç›®å½•ï¼Œè¿è¡Œä¸€ä¸‹å‘½ä»¤å®‰è£…æ’ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">npm install hexo-directory-category --save<br></code></pre></td></tr></table></figure><p>å®‰è£…å®Œæˆåï¼Œåœ¨Hexoçš„_config.ymlé…ç½®æ–‡ä»¶ä¸­æ·»åŠ </p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">plugins:</span><br>  <span class="hljs-bullet">-</span> <span class="hljs-string">hexo-directory-category</span><br></code></pre></td></tr></table></figure><p>æ›´å¤šçš„åŠŸèƒ½å¯ä»¥å‚è€ƒä»¥ä¸‹è¿™ç¯‡æ–‡ç« æˆ–è€…æ’ä»¶æœ¬èº«çš„GitHub</p><p><a href="https://developer.baidu.com/article/details/3284831">Hexo-directory-categoryï¼šè®©æ–‡ç« åˆ†ç±»æ›´æ™ºèƒ½-ç™¾åº¦å¼€å‘è€…ä¸­å¿ƒ</a></p><p><a href="https://github.com/zthxxx/hexo-directory-category">zthxxx&#x2F;hexo-directory-category: Automatically add category to Hexo article according to the article file directory.</a></p><h2 id="2-Loadingã€‚ã€‚ã€‚"><a href="#2-Loadingã€‚ã€‚ã€‚" class="headerlink" title="2. Loadingã€‚ã€‚ã€‚"></a>2. Loadingã€‚ã€‚ã€‚</h2>]]></content>
    
    
    <categories>
      
      <category>Hexo</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>é…ç½®Fluidè¿‡ç¨‹ä¸­é‡åˆ°çš„é—®é¢˜</title>
    <link href="/2025/08/14/Hexo/%E9%85%8D%E7%BD%AEFluid%E8%BF%87%E7%A8%8B%E4%B8%AD%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98/"/>
    <url>/2025/08/14/Hexo/%E9%85%8D%E7%BD%AEFluid%E8%BF%87%E7%A8%8B%E4%B8%AD%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98/</url>
    
    <content type="html"><![CDATA[<h1 id="é…ç½®Fluidè¿‡ç¨‹ä¸­é‡åˆ°çš„é—®é¢˜"><a href="#é…ç½®Fluidè¿‡ç¨‹ä¸­é‡åˆ°çš„é—®é¢˜" class="headerlink" title="é…ç½®Fluidè¿‡ç¨‹ä¸­é‡åˆ°çš„é—®é¢˜"></a>é…ç½®Fluidè¿‡ç¨‹ä¸­é‡åˆ°çš„é—®é¢˜</h1><blockquote><p>æ—¢ç„¶åˆšåˆšå¼€å§‹ï¼Œé‚£å°±åœ¨è°ƒè¯•çš„æ—¶å€™é¡ºä¾¿è®°å½•ä¸€ä¸‹é‡åˆ°çš„é—®é¢˜å§ï¼Œè¾¹é…ç½®è¾¹å†™</p></blockquote><h2 id="1-Giteeå›¾åºŠçš„å›¾ç‰‡æ— æ³•æ­£å¸¸æ‰“å¼€"><a href="#1-Giteeå›¾åºŠçš„å›¾ç‰‡æ— æ³•æ­£å¸¸æ‰“å¼€" class="headerlink" title="1. Giteeå›¾åºŠçš„å›¾ç‰‡æ— æ³•æ­£å¸¸æ‰“å¼€"></a>1. Giteeå›¾åºŠçš„å›¾ç‰‡æ— æ³•æ­£å¸¸æ‰“å¼€</h2><p>è¿™å±äºä¸€ä¸ªæ¯”è¾ƒå¸¸è§çš„é—®é¢˜ï¼Œçœ‹äº†åˆ«çš„åšä¸»è¯´æ˜¯è¯¥æ­»çš„Giteeï¼ˆå°±ä½ äº‹å¤šï¼‰å¯ç”¨äº†é˜²ç›—é“¾æœºåˆ¶</p><p>å¯¼è‡´å›¾åºŠå›¾ç‰‡æ— æ³•æ˜¾ç¤ºåœ¨å…¶ä»–ç½‘ç«™ä¸Šé¢</p><p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæœ¬è´¨ä¸Šæ¥è¯´ï¼Œåªéœ€è¦åœ¨å¯¹åº”é¡µé¢çš„<code>HTML</code>æ–‡ä»¶çš„<code>head</code>éƒ¨åˆ†åŠ ä¸Šä¸€è¡Œï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;referrer&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;no-referrer&quot;</span> /&gt;</span><br></code></pre></td></tr></table></figure><p>è€Œç”±äºæˆ‘ä½¿ç”¨çš„æ˜¯Fluidæ¡†æ¶ï¼Œå“ªæ¥çš„<code>HTML</code>æ–‡ä»¶å‘¢ï¼Œæœ‰ä¸¤ä¸ªæ–¹æ³•</p><ol><li><p>åœ¨åšå®¢æ ¹ç›®å½•çš„<code>\node_modules\hexo-theme-fluid\layout\_partials\head.ejs</code>å½“ä¸­æ·»åŠ ä¸Šé¢çš„é‚£ä¸€è¡Œï¼Œä½†æ˜¯è¿™æ ·åœ¨ä»¥åå¦‚æœæ›´æ–°äº†fluidæ¡†æ¶åˆ™è¿™å¥è¯è‡ªç„¶å°±æ²¡æœ‰äº†ï¼Œå› æ­¤ä¸å¤Ÿrobust</p></li><li><p>æ‰€ä»¥éœ€è¦ä½¿ç”¨æ— ç—›æ³¨å…¥EJSçš„æ–¹æ³•ï¼Œåœ¨åšå®¢æ ¹ç›®å½•çš„scriptsç›®å½•ä¸‹æ–°å»ºä¸€ä¸ªjsæ–‡ä»¶ï¼ˆä»»æ„èµ·åï¼‰ï¼Œç„¶åå†™å…¥ä¸‹é¢çš„ä»£ç ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// scripts/inject-head.js</span><br>hexo.<span class="hljs-property">extend</span>.<span class="hljs-property">injector</span>.<span class="hljs-title function_">register</span>(<br>  <span class="hljs-string">&#x27;head_begin&#x27;</span>,                  <span class="hljs-comment">// æ’å…¥åˆ° &lt;head&gt; å¼€å¤´</span><br>  <span class="hljs-string">&#x27;&lt;meta name=&quot;referrer&quot; content=&quot;no-referrer&quot; /&gt;&#x27;</span>, <span class="hljs-comment">//ç”¨äºè®©Giteeçš„å›¾åºŠå¾—ä»¥æ˜¾ç¤ºï¼Œå› ä¸ºä¸€äº›é˜²æŠ¤æœºåˆ¶æ— æ³•æ­£å¸¸æ˜¾ç¤ºå›¾ç‰‡</span><br>  <span class="hljs-string">&#x27;default&#x27;</span>                      <span class="hljs-comment">// æ³¨å…¥åˆ°æ‰€æœ‰é¡µé¢</span><br>);<br></code></pre></td></tr></table></figure><p>è¿™æ ·å°±å¯ä»¥æ— ç—›å°†å…¶æ³¨å…¥åˆ°æ‰€æœ‰é¡µé¢å½“ä¸­ï¼Œå½“ä½ æ‰“å¼€ä½ çš„åšå®¢é¡µé¢ä½¿ç”¨å¼€å‘è€…å·¥å…·å°±å¯ä»¥æŸ¥çœ‹åˆ°headå¤„ç¡®å®æ˜¯æ·»åŠ äº†è¿™ä¹ˆä¸€å¥è¯</p></li></ol><p>ç„¶åGiteeå›¾åºŠçš„å›¾ç‰‡å°±èƒ½æ­£å¸¸æ˜¾ç¤ºå•¦~</p><h2 id="2-LeanCloudé…ç½®äº†ä¹‹åä¹Ÿæ— æ³•æ˜¾ç¤ºé˜…è¯»é‡ä¹‹ç±»çš„å‚æ•°"><a href="#2-LeanCloudé…ç½®äº†ä¹‹åä¹Ÿæ— æ³•æ˜¾ç¤ºé˜…è¯»é‡ä¹‹ç±»çš„å‚æ•°" class="headerlink" title="2. LeanCloudé…ç½®äº†ä¹‹åä¹Ÿæ— æ³•æ˜¾ç¤ºé˜…è¯»é‡ä¹‹ç±»çš„å‚æ•°"></a>2. LeanCloudé…ç½®äº†ä¹‹åä¹Ÿæ— æ³•æ˜¾ç¤ºé˜…è¯»é‡ä¹‹ç±»çš„å‚æ•°</h2><p>ç½‘ä¸Šæœåˆ°è¯´æ˜¯ç°åœ¨LeanCloudä¸æ”¯æŒå›½å†…ä½¿ç”¨äº†ï¼Œæ‰€ä»¥å³ä½¿æ³¨å†ŒæˆåŠŸäº†API keyï¼Œé…ç½®å¥½äº†ä¹Ÿæ˜¯æ— æ•ˆçš„</p><p>å¯ä»¥å»æ‰¾å…¶ä»–çš„ç½‘é¡µç»Ÿè®¡å·¥å…·</p>]]></content>
    
    
    <categories>
      
      <category>Hexo</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>é‡æ–°å¼€å§‹å†™MDï¼Œé‡æ–°é…ç½®ä¸€æ¬¡typora</title>
    <link href="/2025/08/13/%E6%97%A5%E8%AE%B0%E9%9A%8F%E7%AC%94/%E9%87%8D%E6%96%B0%E5%BC%80%E5%A7%8B%E5%86%99MD/"/>
    <url>/2025/08/13/%E6%97%A5%E8%AE%B0%E9%9A%8F%E7%AC%94/%E9%87%8D%E6%96%B0%E5%BC%80%E5%A7%8B%E5%86%99MD/</url>
    
    <content type="html"><![CDATA[<p>æ—¶éš”å¤šä¹…äº†ï¼Œä¸¤å¹´å¤šäº†ï¼Ÿéƒ½å¿˜äº†</p><p>ç°åœ¨æ˜¯2025å¹´8æœˆ13æ—¥æ—©ä¸Š10ï¼š48ï¼Œåæ ‡ä½äºæ·±åœ³å¤§å­¦è®¡ç®—æœºä¸è½¯ä»¶å­¦é™¢516æˆ‘çš„å·¥ä½ä¸Š</p><p>è‡ªä»23å¹´å¹´åº•å¼€æ‘†åœ¨ä¹‹åå¥½åƒå°±æ²¡æœ‰å†™è¿‡MDäº†ï¼Œå”‰ğŸ˜”</p><p>æ²¡äº‹å„¿ï¼Œæœ‰ç»“æŸï¼Œä¹Ÿæœ‰å¼€å§‹ï¼Œæœ¬ç¯‡MDæ‹¿æ¥æµ‹è¯•ä¸€ä¸‹æ–°ä¹°çš„å°å¼ç”µè„‘é…ç½®çš„typoraå›¾åºŠæ˜¯å¦èƒ½å¤Ÿä¸Šä¼ åˆ°Gitee</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20250813104958998.png" alt="image-20250813104958998"></p><p>æ‹äº†å¼ ç”µè„‘å…¨å±ï¼Œyesï¼</p><p>ä¸Šä¼ æˆåŠŸå•¦ï¼ï¼å ‚å ‚å¤æ´»ï¼ï¼</p><p>ç®€å•æ€»ç»“ä¸€ä¸‹å§ï¼Œå…¶å®ä¹Ÿæ‹–äº†æ¯”è¾ƒä¹…æ‰å¼„å®Œ</p><ol><li>å—åˆ°ç»„é•¿å¯å‘ï¼Œæƒ³å¼„ä¸ªäººåšå®¢ç½‘ç«™</li><li>æ¡†æ¶ä¸‹çš„åšå®¢ç½‘ç«™åªéœ€è¦ä¸Šä¼ MDæ–‡ä»¶ï¼Œå› æ­¤æ‰“ç®—é‡æ–°å†™MDï¼Œè¿™æ ·å°±éœ€è¦é‡æ–°é…ä¸€æ¬¡Typora</li><li>ä¸‹è½½Nodejsï¼ˆåšå®¢ç½‘ç«™çš„æ¡†æ¶æœ¬æ¥ä¹Ÿè¦ç”¨åˆ°npmå»ä¸‹è½½ï¼Œä¾‹å¦‚hexoï¼‰ï¼Œä¸‹è½½å¹¶é…ç½®Pathåä¹Ÿéœ€è¦é‡å¯æ‰èƒ½å…¨å±€cmdæœ‰npmçš„æŒ‡ä»¤ç”Ÿæ•ˆ</li><li>ä¸‹è½½Typoraå¹¶æ¿€æ´»ï¼ˆéšä¾¿æ‰¾ä¸ªæ•™ç¨‹ï¼Œé‡Œé¢æœ‰æ¿€æ´»å·¥å…·ï¼Œä¼šç”Ÿæˆä¸€ä¸ªåºåˆ—å·ï¼‰</li><li>ä¸‹è½½PicGoï¼ˆç°åœ¨æ¨èä¸‹è½½2.4.0Beta9ä»¥åçš„ï¼Œå¦åˆ™æ’ä»¶é‡Œé¢æ‰¾ä¸åˆ°Giteeï¼Œä¸è¿‡ä¹Ÿå¯ä»¥ç›´æ¥åœ¨picgoæ–‡ä»¶å¤¹ä¸‹ç”¨å‘½ä»¤è¡Œå»npm installå¯¹åº”çš„pluginå°±è¡Œï¼‰</li><li>ä¸Šç½‘æœæ€ä¹ˆé…ç½®Typoraå’ŒPicGoï¼Œç”±äºä¹‹å‰æˆ‘å·²ç»åˆ›å»ºè¿‡GIteeä»“åº“äº†ï¼Œé…ç½®å¥½åï¼Œç«‹åˆ»å°±èƒ½ç”¨äº†å˜¿å˜¿</li><li>æ¥ä¸‹æ¥å°±æ˜¯å»å¼„ç½‘ç«™äº†</li></ol><p>å†æµ‹è¯•å¤šä¸€å¼ ï¼š</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20250813110648510.png" alt="image-20250813110648510"></p><p>å¥½çš„æ²¡é—®é¢˜ï¼Œgood luck~</p>]]></content>
    
    
    <categories>
      
      <category>æ—¥è®°éšç¬”</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>æœ¬ç«™å¯¼èˆª</title>
    <link href="/2025/08/13/hello-world/"/>
    <url>/2025/08/13/hello-world/</url>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is <a href="https://bilibili.com/">your</a> very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><p>æ¬¢è¿æ¥åˆ°æœ¬ç½‘ç«™ï¼Œè¿™é‡Œæ˜¯å¯¼èˆªé¡µ</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>æ˜ç«ä¸çƒŸé›¾æ£€æµ‹ç®—æ³•--ç¬”è®°</title>
    <link href="/2023/10/15/%E5%A4%A7%E5%AD%A6%E7%AB%9E%E8%B5%9B/CV%E6%AF%94%E8%B5%9B/%E6%98%8E%E7%81%AB%E4%B8%8E%E7%83%9F%E9%9B%BE%E6%A3%80%E6%B5%8B%E7%AE%97%E6%B3%95--%E7%AC%94%E8%AE%B0/"/>
    <url>/2023/10/15/%E5%A4%A7%E5%AD%A6%E7%AB%9E%E8%B5%9B/CV%E6%AF%94%E8%B5%9B/%E6%98%8E%E7%81%AB%E4%B8%8E%E7%83%9F%E9%9B%BE%E6%A3%80%E6%B5%8B%E7%AE%97%E6%B3%95--%E7%AC%94%E8%AE%B0/</url>
    
    <content type="html"><![CDATA[<h1 id="æ˜ç«ä¸çƒŸé›¾æ£€æµ‹ç®—æ³•â€“ç¬”è®°"><a href="#æ˜ç«ä¸çƒŸé›¾æ£€æµ‹ç®—æ³•â€“ç¬”è®°" class="headerlink" title="æ˜ç«ä¸çƒŸé›¾æ£€æµ‹ç®—æ³•â€“ç¬”è®°"></a>æ˜ç«ä¸çƒŸé›¾æ£€æµ‹ç®—æ³•â€“ç¬”è®°</h1><h2 id="0-å‰è¨€"><a href="#0-å‰è¨€" class="headerlink" title="0. å‰è¨€"></a>0. å‰è¨€</h2><blockquote><p>é¢˜ç›®ï¼ˆæ¥è‡ªæå¸‚æ‰“æ¦œï¼‰ï¼š<a href="https://cvmart.net/topList/10885?tab=RankDescription">ã€æ˜ç«ä¸çƒŸé›¾è¯†åˆ«ã€‘-è§†è§‰ç®—æ³•æ‰“æ¦œ-æå¸‚å¼€å‘è€…å¹³å° (cvmart.net)</a></p><p>æ•™ç¨‹å‚è€ƒï¼ˆä»¥ä¸‹ä»£ç åŸºæœ¬ç›´æ¥å‚è€ƒï¼‰ï¼š<a href="https://cvmart.net/community/detail/6224">å¿«é€’çˆ†ä»“è¯†åˆ«ç®—æ³•å† å†›æ–¹æ¡ˆæ€»ç»“-æå¸‚å¼€å‘è€…ç¤¾åŒº (cvmart.net)</a></p><p>ä¸€äº›æ³¨æ„ï¼šåé¢çš„partï¼šã€Šé‡åˆ°çš„é—®é¢˜ã€‹éƒ½æ˜¯åœ¨å‚è€ƒä¸Šé¢çš„æ•™ç¨‹çš„æ—¶å€™é‡åˆ°çš„å„ç§å„æ ·çš„é—®é¢˜ï¼Œå¯ä»¥è¯´æ˜¯éå¸¸éå¸¸å¤šé—®é¢˜ï¼Œå®Œæ•´æµç¨‹è¿™é‡Œéƒ½æ˜¯åŸºäºå·²ç»è§£å†³äº†ä¸Šé¢çš„é‚£äº›é—®é¢˜</p></blockquote><h2 id="1-å®Œæ•´æµç¨‹"><a href="#1-å®Œæ•´æµç¨‹" class="headerlink" title="1. å®Œæ•´æµç¨‹"></a>1. å®Œæ•´æµç¨‹</h2><blockquote><ul><li>åˆ†æˆå¦‚ä¸‹éƒ¨åˆ†ï¼šæ¨¡å‹è®­ç»ƒã€æ¨¡å‹æ¨ç†</li><li>æˆ‘çš„æ‰€æœ‰è¿‡ç¨‹éƒ½æ˜¯åŸºäºæå¸‚çš„è¦æ±‚å®Œæˆï¼Œä¾‹å¦‚æ–‡ä»¶å¤¹ä½ç½®çš„åˆ†å¸ƒï¼Œè¿è¡Œç‰¹å®šä»£ç çš„æ–‡ä»¶åï¼Œå› æ­¤æœ‰ä¸äº†è§£çš„éƒ¨åˆ†å¯ä»¥å»çœ‹ä¸‹æå¸‚çš„ç›¸å…³æ–‡æ¡£<a href="https://cvmart.net/document">æå¸‚å¼€å‘è€…å¹³å°-è®¡ç®—æœºè§†è§‰ç®—æ³•å¼€å‘è½åœ°å¹³å°-æå¸‚ç§‘æŠ€ (cvmart.net)</a></li></ul></blockquote><p>é¦–å…ˆæ¥çœ‹ä¸‹æ–‡ä»¶æ¶æ„</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20231015222841703.png" alt="image-20231015222841703"></p><ul><li><p>è®­ç»ƒï¼šè°ƒç”¨trainé‡Œé¢çš„æ–‡ä»¶å†…å®¹ï¼Œå¹¶ä¸”æ¨¡å‹è¾“å‡ºä¹Ÿæ˜¯åœ¨<code>project/train/models</code>ä¸‹</p><p>ç½‘ç»œæ¨¡å‹çš„ä»£ç å°±æ”¾åœ¨<code>src_repo</code>é‡Œé¢ï¼Œç›¸å…³æ–‡ä»¶å¯ä»¥æ”¾åˆ°trainä¸‹</p></li><li><p>æµ‹è¯•ï¼šè°ƒç”¨ev_sdké‡Œé¢çš„ä»£ç ï¼Œæœ€ç»ˆè°ƒç”¨çš„æ–‡ä»¶<code>ji.py</code>ï¼Œç›¸å…³çš„æ–‡ä»¶å¯ä»¥æ”¾åˆ°<code>project/ev_sdk/src</code>æ–‡ä»¶å¤¹ä¸‹é¢ï¼Œä¾‹å¦‚è®­ç»ƒå¥½çš„æ¨¡å‹ï¼Œæˆ–è€…ä¸€äº›è¦ç”¨åˆ°çš„è„šæœ¬ä¹‹ç±»çš„</p></li></ul><h3 id="1-1-æ¨¡å‹è®­ç»ƒ"><a href="#1-1-æ¨¡å‹è®­ç»ƒ" class="headerlink" title="1.1 æ¨¡å‹è®­ç»ƒ"></a>1.1 æ¨¡å‹è®­ç»ƒ</h3><h4 id="1-1-1-æ¨¡å‹é€‰å–ï¼š"><a href="#1-1-1-æ¨¡å‹é€‰å–ï¼š" class="headerlink" title="1.1.1 æ¨¡å‹é€‰å–ï¼š"></a>1.1.1 æ¨¡å‹é€‰å–ï¼š</h4><p><img src="https://minio.cvmart.net/cvmart-community/images/202206/30/0/006C3FgEgy1h0qq7iizr4j30u80jmdlf.jpg" alt="img"></p><p>ç®—æ³•é€‰æ‹©<code>BiseNetV2</code>ä½œä¸ºBaselineï¼Œå…¶åœ¨é€Ÿåº¦å’Œç²¾åº¦ä¸Šéƒ½æ˜¯å¾ˆå¥½çš„ï¼Œæ–‡ç« æåˆ°STDCä¹Ÿå¾ˆä¸é”™</p><p>Githubé“¾æ¥ï¼š<a href="https://github.com/CoinCheung/BiSeNet">https://github.com/CoinCheung/BiSeNet</a></p><p>ç›´æ¥å°†æ•´ä¸ªä»“åº“cloneä¸‹æ¥ï¼Œæ”¾å…¥<code>project/train/src_repo</code>ä¸‹é¢</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20231015223343850.png" alt="image-20231015223343850"></p><h4 id="1-1-2-æ•°æ®é›†åˆ’åˆ†"><a href="#1-1-2-æ•°æ®é›†åˆ’åˆ†" class="headerlink" title="1.1.2 æ•°æ®é›†åˆ’åˆ†"></a>1.1.2 æ•°æ®é›†åˆ’åˆ†</h4><p>åœ¨<code>src_repo</code>ä¸‹é¢åˆ›å»ºæ–‡ä»¶<code>split_dataset.py</code></p><p>ç”¨äºè®­ç»ƒé›†å’Œæµ‹è¯•é›†çš„åˆ’åˆ†ï¼Œè¯¥æ–‡ä»¶åœ¨åé¢çš„run.shæ–‡ä»¶å½“ä¸­ä¼šç”¨åˆ°</p><p>å½“ç„¶ä¹Ÿå¯ä»¥ç›´æ¥è¿è¡Œï¼š<code>python split_dataset.py /home/data</code></p><p>ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-string">&#x27;&#x27;&#x27;</span><br><span class="hljs-string">Usage: python split_dataset.py /home/data</span><br><span class="hljs-string">&#x27;&#x27;&#x27;</span><br><span class="hljs-keyword">from</span> __future__ <span class="hljs-keyword">import</span> division<br><span class="hljs-keyword">from</span> __future__ <span class="hljs-keyword">import</span> print_function<br><span class="hljs-keyword">from</span> __future__ <span class="hljs-keyword">import</span> absolute_import<br><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> sys<br><span class="hljs-keyword">import</span> shutil<br><span class="hljs-keyword">import</span> pathlib<br><span class="hljs-keyword">import</span> random<br><br><span class="hljs-keyword">import</span> xml.etree.ElementTree <span class="hljs-keyword">as</span> ET<br><span class="hljs-keyword">import</span> io<br><br>dataset_root = <span class="hljs-string">&#x27;/project/train/src_repo/dataset&#x27;</span><br>supported_fmt = [<span class="hljs-string">&#x27;.jpg&#x27;</span>, <span class="hljs-string">&#x27;.JPG&#x27;</span>]<br>       <br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>    os.makedirs(dataset_root, exist_ok=<span class="hljs-literal">True</span>)<br>    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> os.path.exists(sys.argv[<span class="hljs-number">1</span>]):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;<span class="hljs-subst">&#123;sys.argv[<span class="hljs-number">1</span>]&#125;</span> ä¸å­˜åœ¨!&#x27;</span>)<br>        exit(-<span class="hljs-number">1</span>)<br><br>    <span class="hljs-comment"># éå†æ•°æ®é›†ç›®å½•ä¸‹æ‰€æœ‰xmlæ–‡ä»¶åŠå…¶å¯¹åº”çš„å›¾ç‰‡</span><br>    dataset_path = pathlib.Path(sys.argv[<span class="hljs-number">1</span>])<br>    found_data_list = []<br>    <span class="hljs-keyword">for</span> mask_file <span class="hljs-keyword">in</span> dataset_path.glob(<span class="hljs-string">&#x27;**/*.png&#x27;</span>):<br>        possible_images = [mask_file.with_suffix(suffix) <span class="hljs-keyword">for</span> suffix <span class="hljs-keyword">in</span> supported_fmt]<br>        supported_images = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">filter</span>(<span class="hljs-keyword">lambda</span> p: p.is_file(), possible_images))<br>        <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(supported_images) == <span class="hljs-number">0</span>:<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">f&#x27;æ‰¾ä¸åˆ°å¯¹åº”çš„å›¾ç‰‡æ–‡ä»¶ï¼š`<span class="hljs-subst">&#123;mask_file.as_posix()&#125;</span>`&#x27;</span>)<br>            <span class="hljs-keyword">continue</span><br>        found_data_list.append(&#123;<span class="hljs-string">&#x27;image&#x27;</span>: supported_images[<span class="hljs-number">0</span>], <span class="hljs-string">&#x27;label&#x27;</span>: mask_file&#125;)<br><br>    <span class="hljs-comment"># éšæœºåŒ–æ•°æ®é›†ï¼Œå°†æ•°æ®é›†æ‹†åˆ†æˆè®­ç»ƒé›†å’ŒéªŒè¯é›†ï¼Œå¹¶å°†å…¶æ‹·è´åˆ°/project/train/src_repo/datasetä¸‹</span><br>    random.shuffle(found_data_list)<br>    train_data_count = <span class="hljs-built_in">len</span>(found_data_list) * <span class="hljs-number">4</span> / <span class="hljs-number">5</span><br>    train_data_list = []<br>    valid_data_list = []<br>    <span class="hljs-keyword">for</span> i, data <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(found_data_list):<br>        <span class="hljs-keyword">if</span> i &lt; train_data_count:  <span class="hljs-comment"># è®­ç»ƒé›†</span><br>            data_list = train_data_list<br>        <span class="hljs-keyword">else</span>:  <span class="hljs-comment"># éªŒè¯é›†</span><br>            data_list = valid_data_list<br>        data_list.append(data)<br><br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(os.path.join(dataset_root, <span class="hljs-string">&#x27;train.txt&#x27;</span>), <span class="hljs-string">&#x27;w&#x27;</span>) <span class="hljs-keyword">as</span> f:<br>        <span class="hljs-keyword">for</span> name <span class="hljs-keyword">in</span> train_data_list:<br>            f.write(name[<span class="hljs-string">&#x27;image&#x27;</span>].as_posix() + <span class="hljs-string">&#x27;,&#x27;</span> + name[<span class="hljs-string">&#x27;label&#x27;</span>].as_posix() + <span class="hljs-string">&#x27;\n&#x27;</span>)<br>    <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(os.path.join(dataset_root, <span class="hljs-string">&#x27;val.txt&#x27;</span>), <span class="hljs-string">&#x27;w&#x27;</span>) <span class="hljs-keyword">as</span> f:<br>        <span class="hljs-keyword">for</span> name <span class="hljs-keyword">in</span> valid_data_list:<br>            f.write(name[<span class="hljs-string">&#x27;image&#x27;</span>].as_posix() + <span class="hljs-string">&#x27;,&#x27;</span> + name[<span class="hljs-string">&#x27;label&#x27;</span>].as_posix() + <span class="hljs-string">&#x27;\n&#x27;</span>)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Done&#x27;</span>)<br></code></pre></td></tr></table></figure><p>è¯¥æ–‡ä»¶å¯ä»¥é€‚ç”¨äºå…¶ä»–æ‰€æœ‰ç±»å‹çš„è¯­ä¹‰åˆ†å‰²æ•°æ®é›†åˆ’åˆ†ï¼Œæ²¡æœ‰éœ€è¦ç‰¹æ„ä¿®æ”¹çš„åœ°æ–¹</p><h4 id="1-1-3-æ•°æ®é›†ç±»"><a href="#1-1-3-æ•°æ®é›†ç±»" class="headerlink" title="1.1.3 æ•°æ®é›†ç±»"></a>1.1.3 æ•°æ®é›†ç±»</h4><p>è¿™é‡Œçš„å…·ä½“æ–‡ä»¶æ˜¯å“ªä¸€ä¸ªåœ¨åŸæ¥çš„æ•™ç¨‹é‡Œé¢å¹¶æ²¡æœ‰è¯´æ˜æ¸…æ¥šï¼Œå› æ­¤å½“æ—¶æ‰¾æ–‡ä»¶èŠ±äº†æˆ‘ä¸€ç‚¹æ—¶é—´</p><p>é¦–å…ˆæ˜¯åœ¨<code>src_repo/BiseNet/lib/data</code>å½“ä¸­æ–°å»ºä¸€ä¸ª<code>fireandsmoke.py</code>æ–‡ä»¶ï¼Œä½œä¸ºæˆ‘ä»¬æ˜ç«çƒŸé›¾è¯†åˆ«çš„ä¸€ä¸ªåŸºæœ¬æ•°æ®é›†ç±»</p><p>ä»£ç å¦‚ä¸‹ï¼ˆå’Œdataæ–‡ä»¶ä¸‹çš„å…¶ä»–æ–‡ä»¶æ ¼å¼æ˜¯éå¸¸ç±»ä¼¼çš„ï¼‰:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#!/usr/bin/python</span><br><span class="hljs-comment"># -*- encoding: utf-8 -*-</span><br><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> os.path <span class="hljs-keyword">as</span> osp<br><span class="hljs-keyword">import</span> json<br><span class="hljs-keyword">import</span> torch<br><span class="hljs-keyword">from</span> torch.utils.data <span class="hljs-keyword">import</span> Dataset, DataLoader<br><span class="hljs-keyword">import</span> torch.distributed <span class="hljs-keyword">as</span> dist<br><span class="hljs-keyword">import</span> cv2<br><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br><span class="hljs-keyword">import</span> lib.data.transform_cv2 <span class="hljs-keyword">as</span> T<br><span class="hljs-keyword">from</span> lib.data.sampler <span class="hljs-keyword">import</span> RepeatedDistSampler<br><span class="hljs-keyword">from</span> lib.data.base_dataset <span class="hljs-keyword">import</span> BaseDataset<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">FireAndSmoke</span>(<span class="hljs-title class_ inherited__">BaseDataset</span>):<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, dataroot, annpath, trans_func=<span class="hljs-literal">None</span>, mode=<span class="hljs-string">&#x27;train&#x27;</span></span>):<br>        <span class="hljs-built_in">super</span>(FireAndSmoke, <span class="hljs-variable language_">self</span>).__init__(dataroot, annpath, trans_func, mode)<br>        <span class="hljs-variable language_">self</span>.n_cats = <span class="hljs-number">6</span> <br>        <span class="hljs-variable language_">self</span>.lb_ignore = <span class="hljs-number">255</span><br><br>        <span class="hljs-variable language_">self</span>.to_tensor = T.ToTensor(<br>            mean=(<span class="hljs-number">0.46962251</span>, <span class="hljs-number">0.4464104</span>,  <span class="hljs-number">0.40718787</span>), <br>            std=(<span class="hljs-number">0.27469736</span>, <span class="hljs-number">0.27012361</span>, <span class="hljs-number">0.28515933</span>),<br>        )<br></code></pre></td></tr></table></figure><p>è¯¥ä»£ç ç”¨åˆ°å…¶ä»–ä¾‹å­ä¸Šåªéœ€è¦ä¿®æ”¹ç±»åå³å¯ï¼Œä¾‹å¦‚å¦‚æœæ˜¯åˆ†å‰²å¿«é€’çˆ†ä»“å›¾ç‰‡ï¼Œç±»ååˆ™å¯ä»¥ä¸ºExpressage</p><p>æ¥ä¸‹æ¥åŒæ ·æ˜¯åœ¨<code>src_repo/BiseNet/lib/data</code>æ–‡ä»¶å¤¹é‡Œé¢ï¼Œè¿™æ¬¡æ˜¯ä¿®æ”¹<code>get_dataloader.py</code>ï¼Œéœ€è¦åŠ å…¥ä¸€äº›æ–°çš„ä»£ç ï¼Œä¸‹é¢ç»™å‡ºæ•´ä¸ªæ–‡ä»¶çš„ä»£ç </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><code class="hljs python"><br><span class="hljs-keyword">import</span> torch<br><span class="hljs-keyword">from</span> torch.utils.data <span class="hljs-keyword">import</span> Dataset, DataLoader<br><span class="hljs-keyword">import</span> torch.distributed <span class="hljs-keyword">as</span> dist<br><br><span class="hljs-keyword">import</span> lib.data.transform_cv2 <span class="hljs-keyword">as</span> T<br><span class="hljs-keyword">from</span> lib.data.sampler <span class="hljs-keyword">import</span> RepeatedDistSampler<br><br><span class="hljs-keyword">from</span> lib.data.cityscapes_cv2 <span class="hljs-keyword">import</span> CityScapes<br><span class="hljs-keyword">from</span> lib.data.coco <span class="hljs-keyword">import</span> CocoStuff<br><span class="hljs-keyword">from</span> lib.data.ade20k <span class="hljs-keyword">import</span> ADE20k<br><span class="hljs-keyword">from</span> lib.data.customer_dataset <span class="hljs-keyword">import</span> CustomerDataset<br><span class="hljs-comment"># æ·»åŠ ä¸‹é¢çš„è¯­å¥</span><br><span class="hljs-keyword">from</span> lib.data.fireandsmoke <span class="hljs-keyword">import</span> FireAndSmoke<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">TransformationTrain</span>(<span class="hljs-title class_ inherited__">object</span>):<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, scales, cropsize</span>):<br>        <span class="hljs-variable language_">self</span>.trans_func = T.Compose([<br>            T.RandomResizedCrop(scales, cropsize),<br>            T.RandomHorizontalFlip(),<br>            T.ColorJitter(<br>                brightness=<span class="hljs-number">0.4</span>,<br>                contrast=<span class="hljs-number">0.4</span>,<br>                saturation=<span class="hljs-number">0.4</span><br>            ),<br>        ])<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__call__</span>(<span class="hljs-params">self, im_lb</span>):<br>        im_lb = <span class="hljs-variable language_">self</span>.trans_func(im_lb)<br>        <span class="hljs-keyword">return</span> im_lb<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">TransformationVal</span>(<span class="hljs-title class_ inherited__">object</span>):<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__call__</span>(<span class="hljs-params">self, im_lb</span>):<br>        im, lb = im_lb[<span class="hljs-string">&#x27;im&#x27;</span>], im_lb[<span class="hljs-string">&#x27;lb&#x27;</span>]<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">dict</span>(im=im, lb=lb)<br><br><span class="hljs-comment"># ä¸‹é¢æ˜¯è¯¥ä»£ç åŸæœ¬å°±æœ‰äº†çš„</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_data_loader</span>(<span class="hljs-params">cfg, mode=<span class="hljs-string">&#x27;train&#x27;</span></span>):<br>    <span class="hljs-keyword">if</span> mode == <span class="hljs-string">&#x27;train&#x27;</span>:<br>        trans_func = T.TransformationTrain(cfg.scales, cfg.cropsize)<br>        batchsize = cfg.ims_per_gpu<br>        annpath = cfg.train_im_anns<br>        shuffle = <span class="hljs-literal">True</span><br>        drop_last = <span class="hljs-literal">True</span><br>    <span class="hljs-keyword">elif</span> mode == <span class="hljs-string">&#x27;val&#x27;</span>:<br>        trans_func = T.TransformationVal()<br>        batchsize = cfg.eval_ims_per_gpu<br>        annpath = cfg.val_im_anns<br>        shuffle = <span class="hljs-literal">False</span><br>        drop_last = <span class="hljs-literal">False</span><br><br>    ds = <span class="hljs-built_in">eval</span>(cfg.dataset)(cfg.im_root, annpath, trans_func=trans_func, mode=mode)<br><br>    <span class="hljs-keyword">if</span> dist.is_initialized():<br>        <span class="hljs-keyword">assert</span> dist.is_available(), <span class="hljs-string">&quot;dist should be initialzed&quot;</span><br>        <span class="hljs-keyword">if</span> mode == <span class="hljs-string">&#x27;train&#x27;</span>:<br>            <span class="hljs-keyword">assert</span> <span class="hljs-keyword">not</span> cfg.max_iter <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span><br>            n_train_imgs = cfg.ims_per_gpu * dist.get_world_size() * cfg.max_iter<br>            sampler = RepeatedDistSampler(ds, n_train_imgs, shuffle=shuffle)<br>        <span class="hljs-keyword">else</span>:<br>            sampler = torch.utils.data.distributed.DistributedSampler(<br>                ds, shuffle=shuffle)<br>        batchsampler = torch.utils.data.sampler.BatchSampler(<br>            sampler, batchsize, drop_last=drop_last<br>        )<br>        dl = DataLoader(<br>            ds,<br>            batch_sampler=batchsampler,<br>            num_workers=<span class="hljs-number">4</span>,<br>            pin_memory=<span class="hljs-literal">True</span>,<br>        )<br>    <span class="hljs-keyword">else</span>:<br>        dl = DataLoader(<br>            ds,<br>            batch_size=batchsize,<br>            shuffle=shuffle,<br>            drop_last=drop_last,<br>            num_workers=<span class="hljs-number">4</span>,<br>            pin_memory=<span class="hljs-literal">True</span>,<br>        )<br>    <span class="hljs-keyword">return</span> dl<br><br></code></pre></td></tr></table></figure><p>ä¸è¿‡è¿™é‡Œæˆ‘æ²¡å¤ªçœ‹æ‡‚ï¼Œè¿™é‡Œçš„ä»£ç æ ¹æœ¬æ²¡æœ‰ç”¨åˆ°fireandsmokeç±»çš„å†…å®¹ï¼Œä½†æ˜¯å´å¯¼å…¥äº†ã€‚</p><p>ä¸è¿‡æ‡’å¾—ç®¡äº†ã€‚</p><h4 id="1-1-4-é…ç½®æ–‡ä»¶ï¼š"><a href="#1-1-4-é…ç½®æ–‡ä»¶ï¼š" class="headerlink" title="1.1.4 é…ç½®æ–‡ä»¶ï¼š"></a>1.1.4 é…ç½®æ–‡ä»¶ï¼š</h4><blockquote><p>1. </p></blockquote><p>é…ç½®æ–‡ä»¶çš„ä½ç½®æ˜¯<code>src_repo/BiseNet/config</code>ï¼Œå¯ä»¥çœ‹åˆ°é‡Œé¢æœ‰è®¸å¤šå®˜æ–¹ç»™å‡ºçš„é…ç½®æ–‡ä»¶ï¼Œä¾‹å¦‚<code>bisenetv2_city.py</code>æ˜¯ç”¨æ¥è¿›è¡ŒåŸå¸‚é“è·¯åˆ†å‰²</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20231019171459244.png" alt="image-20231019171459244"></p><p>å› æ­¤æˆ‘ä»¬è‡ªå·±æ–°å»ºä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼Œå°±å«<code>bisenetv2_fireandsmoke.py</code></p><p>é…ç½®ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">## bisenetv2</span><br>cfg = <span class="hljs-built_in">dict</span>(<br>    model_type=<span class="hljs-string">&#x27;bisenetv2&#x27;</span>,<br>    n_cats=<span class="hljs-number">6</span>, <span class="hljs-comment">#è¿™é‡Œæ˜¯å…­ä¸ªç±»åˆ«ï¼Œå’Œå¿«é€’çˆ†ä»“ä¸åŒ</span><br>    num_aux_heads=<span class="hljs-number">4</span>,<br>    lr_start=<span class="hljs-number">5e-3</span>,<br>    weight_decay=<span class="hljs-number">1e-4</span>,<br>    warmup_iters=<span class="hljs-number">1000</span>,<br>    max_iter=<span class="hljs-number">32000</span>,<br>    dataset=<span class="hljs-string">&#x27;FireAndSmoke&#x27;</span>,<br>    im_root=<span class="hljs-string">&#x27;&#x27;</span>,<br>    train_im_anns=<span class="hljs-string">&#x27;/project/train/src_repo/dataset/train.txt&#x27;</span>,<br>    val_im_anns=<span class="hljs-string">&#x27;/project/train/src_repo/dataset/val.txt&#x27;</span>,<br>    scales=[<span class="hljs-number">0.75</span>, <span class="hljs-number">2.</span>],<br>    cropsize=[<span class="hljs-number">640</span>, <span class="hljs-number">640</span>],<br>    eval_crop=[<span class="hljs-number">640</span>, <span class="hljs-number">640</span>],<br>    eval_scales=[<span class="hljs-number">0.5</span>, <span class="hljs-number">0.75</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1.25</span>, <span class="hljs-number">1.5</span>, <span class="hljs-number">1.75</span>],<br>    ims_per_gpu=<span class="hljs-number">16</span>,<br>    eval_ims_per_gpu=<span class="hljs-number">1</span>,<br>    use_fp16=<span class="hljs-literal">True</span>,<br>    use_sync_bn=<span class="hljs-literal">True</span>,<br>    respth=<span class="hljs-string">&#x27;/project/train/models&#x27;</span>,<br>)<br></code></pre></td></tr></table></figure><blockquote><ol><li><p>è¿™é‡Œé‡‡ç”¨<code>bisenetv2</code>è¿›è¡Œè®­ç»ƒï¼ŒåŒæ—¶ç½‘ç»œè¾“å‡ºç»´åº¦ä¸º<code>2</code>ã€‚æ•°æ®é›†çš„è¾“å…¥é‡‡ç”¨ä¸Šé¢åˆ’åˆ†æ•°æ®é›†å¾—åˆ°çš„ä¸¤ä¸ª<code>txtæ–‡æ¡£çš„åœ°å€</code>ã€‚</p></li><li><p>æ•´ä¸ªè®­ç»ƒä¸€å…±è¿­ä»£<code>30000</code>æ¬¡ï¼Œ<code>batch size(ims_per_gpu)</code>ä¸º16ï¼ŒåŒæ—¶é‡‡ç”¨<code>æ··åˆç²¾åº¦è®­ç»ƒ(use_fp16)</code>ã€‚</p></li><li><p>é‡‡ç”¨æ··åˆç²¾åº¦è®­ç»ƒçš„<strong>å¥½å¤„</strong>æ˜¯ï¼šæ¨ç†çš„æ—¶å€™åå¯ä»¥é‡‡ç”¨fp16è¿›è¡Œæ¨ç†ï¼Œä»è€ŒåŠ å¿«ç½‘ç»œæ¨ç†é€Ÿåº¦åŒæ—¶ä¸æŸå¤±å¾ˆå¤šç²¾åº¦ã€‚</p></li><li><p>æœ€åä¸€å®šè¦æ³¨æ„æ¨¡å‹ä¿å­˜è·¯å¾„ï¼Œè¿™é‡Œå¯ä»¥è®¾ç½®ä¸º<code>/project/train/models</code>ï¼Œè¿™æ˜¯å¹³å°ä¿å­˜æ¨¡å‹çš„è·¯å¾„ã€‚</p></li></ol></blockquote><p>è¿™é‡Œè¦æ³¨æ„<strong>warmup_iters</strong> å’Œ <strong>max_iter</strong>ä¸èƒ½æ˜¯ç›¸åŒçš„æ•°å€¼ï¼Œå¦åˆ™ä¼šå‘ç”Ÿ<strong>é™¤æ•°ä¸º0</strong>çš„æŠ¥é”™</p><h4 id="1-1-5-è¿›è¡Œè®­ç»ƒ"><a href="#1-1-5-è¿›è¡Œè®­ç»ƒ" class="headerlink" title="1.1.5 è¿›è¡Œè®­ç»ƒ"></a>1.1.5 è¿›è¡Œè®­ç»ƒ</h4><p>è¯¥è„šæœ¬å†™åœ¨ä»€ä¹ˆä½ç½®éƒ½å¯ä»¥ï¼Œå› ä¸ºæœ€ç»ˆæ˜¯è¦åˆ°å¹³å°ä¸Šé¢è®­ç»ƒï¼Œæˆ‘çš„ä½ç½®æ˜¯åœ¨ <code>/project/train/src_repo</code></p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20231019172957424.png" alt="image-20231019172957424"></p><p>å¦‚å›¾ï¼Œç›´æ¥æ‰§è¡Œå‘½ä»¤ï¼Œç„¶åé€‰æ‹©æ•°æ®é›†å³å¯ï¼Œæœ‰çš„æ•°æ®é›†æ•°é‡éå¸¸åºå¤§ï¼Œå› æ­¤è¦çœ‹å¥½ï¼Œè®­ç»ƒçš„æ—¶é—´ä¸èƒ½è¶…è¿‡12å°æ—¶ï¼Œä¸ç„¶ä¼šè¢«å¼ºè¡Œä¸­æ–­ã€‚</p><p>æˆ‘åœ¨è®­ç»ƒçš„æ—¶å€™ï¼Œæ‰“æ¦œV3æ˜¯æœ‰1wå¤šå¼ å›¾ç‰‡ï¼Œåˆå§‹åŒ–éœ€è¦èŠ±è´¹20åˆ†é’Ÿ-40åˆ†é’Ÿä¸ç­‰</p><p>è®­ç»ƒå‘½ä»¤å¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs bash">project_root_dir=/project/train/src_repo<br>dataset_dir=/home/data<br>log_file=/project/train/log/log.txt<br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;æŸ¥çœ‹æ˜¾å¡å‚æ•°:&quot;</span><br>nvidia-smi<br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;æŸ¥çœ‹Pythonç‰ˆæœ¬:&quot;</span><br>python --version<br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;Prepare environment...&quot;</span><br><span class="hljs-comment"># pip install -i https://mirrors.cloud.tencent.com/pypi/simple -r $&#123;project_root_dir&#125;/BiSeNet/requirements.txt</span><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;Prepare dataset...&quot;</span><br><span class="hljs-built_in">cd</span> <span class="hljs-variable">$&#123;project_root_dir&#125;</span> &amp;&amp; python split_dataset.py <span class="hljs-variable">$&#123;dataset_dir&#125;</span> | <span class="hljs-built_in">tee</span> -a <span class="hljs-variable">$&#123;log_file&#125;</span><br><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;Start training...&quot;</span><br><span class="hljs-built_in">cd</span> <span class="hljs-variable">$&#123;project_root_dir&#125;</span>/BiSeNet<br><span class="hljs-comment"># bisenetv2 æ˜ç«è¯†åˆ«</span><br><span class="hljs-built_in">export</span> CUDA_VISIBLE_DEVICES=0<br>cfg_file=configs/bisenetv2_fireandsmoke.py<br>NGPUS=1<br>python -m torch.distributed.launch --nproc_per_node=<span class="hljs-variable">$NGPUS</span> --use_env tools/train_amp.py --config <span class="hljs-variable">$cfg_file</span> | <span class="hljs-built_in">tee</span> -a <span class="hljs-variable">$&#123;log_file&#125;</span><br><span class="hljs-comment">#  è¾“å‡ºONNX</span><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;Convert model to onnx...&quot;</span><br>python tools/export_onnx.py --config <span class="hljs-variable">$cfg_file</span> --weight-path /project/train/models/model_final.pth --outpath /project/train/models/model.onnx<br>python -m onnxsim /project/train/models/model.onnx /project/train/models/model_sim.onnx<br></code></pre></td></tr></table></figure><p>æ‰§è¡Œå‘½ä»¤çš„è¿‡ç¨‹ï¼š</p><ol><li>è¿è¡Œ<code>split_datasey.py</code>åˆ’åˆ†æ•°æ®é›†</li><li>æ‰§è¡Œ<code>train_amp.py</code>æ–‡ä»¶ï¼ˆè¿è¡Œè¿‡ç¨‹ä¸­ä¼šæœ‰ä¸€äº›æ¨¡å—ç¼ºå¤±ï¼Œç”¨pipä¸‹è½½å°±è¡Œï¼‰</li><li>è®­ç»ƒçš„è¾“å‡ºæ—¥å¿—ä»£ç éƒ½åœ¨train_ampæ–‡ä»¶å½“ä¸­ï¼Œæ¯100è½®ä¼šè¾“å‡ºä¸€æ¬¡lossç­‰ç›¸å…³ä¿¡æ¯</li><li>è®­ç»ƒéœ€è¦çš„æ—¶é—´æ˜¯æœ€ä¹…çš„ï¼šTesla T4è®­ç»ƒ100è½®æ‰€éœ€æ—¶é—´åœ¨110s - 220sä¹‹é—´ï¼Œæ¯”è¾ƒå¤šäººä½¿ç”¨çš„æ—¶å€™ï¼ˆå¯èƒ½æ˜¯è¿™ä¸ªåŸå› ï¼‰ï¼Œå°±æ˜¯200sä»¥ä¸Šæ‰æœ‰100è½®ï¼Œå¿«çš„æ—¶å€™å¯ä»¥110så·¦å³</li><li>è®­ç»ƒå®Œæˆåä¼šè¿›è¡ŒevaluateéªŒè¯ï¼Œè¿™é‡Œå¦‚æœæ•°æ®é›†å¾ˆå¤šä¹Ÿä¼šè€—è´¹å¾ˆå¤šçš„æ—¶é—´</li></ol><p>æœ€åæœ‰ä¸€éƒ¨åˆ†æ˜¯å…³äºå¯¼å‡º<code>onnx</code>æ¨¡å‹çš„ä»£ç ï¼Œè¿™é‡ŒåŠ å…¥è¿™éƒ¨åˆ†ä»£ç æ˜¯ä¸ºäº†åç»­é‡‡ç”¨TensorRTè¿›è¡Œæ¨ç†åšå‡†å¤‡ã€‚onnxçš„æ¨¡å‹ç³»ç»Ÿé‡Œé¢ä¹Ÿæ˜¯æ²¡æœ‰çš„</p><p>æ­£å¸¸å¼€å§‹è®­ç»ƒåçš„æ—¥å¿—è¾“å‡ºå¦‚ä¸‹</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20231019213503378.png" alt="image-20231019213503378"></p><hr><h3 id="1-2-æ¨ç†æµ‹è¯•"><a href="#1-2-æ¨ç†æµ‹è¯•" class="headerlink" title="1.2 æ¨ç†æµ‹è¯•"></a>1.2 æ¨ç†æµ‹è¯•</h3><blockquote><p> å…ˆè¯´ä¸‹æ¨ç†æµ‹è¯•çš„å¤§è‡´åŸç†å§ï¼š</p><p>æ¯”è¾ƒç®€å•ï¼Œä¸»è¦å°±æ˜¯è¿è¡Œ<code>project/ev_sdk/src</code> ä¸‹çš„<code>ji.py</code>æ–‡ä»¶ï¼Œæœ‰ç€å…·ä½“çš„æ ¼å¼æ¥å£ï¼Œ<strong>init</strong>å’Œ<strong>process_image</strong>ä¸¤ä¸ªæ¥å£æ˜¯åˆ°æ—¶å€™ä¼šè¢«æµ‹è¯•æ–‡ä»¶è°ƒç”¨çš„ï¼Œå…·ä½“æ ¼å¼å‚è€ƒæ¯”èµ›ç»™å‡ºçš„é¢˜ç›®</p></blockquote><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20231019220228527.png" alt="image-20231019220228527"></p><p>ä»¥ä¸Šæ˜¯è¿›è¡Œæ¨ç†æµ‹è¯•çš„æ—¶å€™ç”¨åˆ°çš„æ–‡ä»¶ï¼Œè¿™äº›å¤§éƒ½å’Œ<code>project/train</code>é‡Œé¢çš„éƒ½æ²¡å¤šå¤§å…³ç³»</p><p>è¿™é‡Œå½“æ—¶ä¹Ÿå¼„äº†æŒºä¹…ï¼Œç‰¹åˆ«æ˜¯å› ä¸ºCUDAç‰ˆæœ¬å’ŒNVIDIAé©±åŠ¨ç‰ˆæœ¬ä¸åŒ¹é…ï¼Œå¯¼è‡´æˆ‘å¼„äº†å¾ˆä¹…ï¼Œå› ä¸ºæ˜æ˜åœ¨ç¼–ç ç¯å¢ƒæµ‹è¯•æ˜¯æ²¡é—®é¢˜çš„ï¼Œç»“æœåˆ°äº†å¹³å°ç¯å¢ƒå°±ä¸è¡Œï¼Œæ‰€ä»¥ä»¥ä¸ºä¸æ˜¯CUDAçš„é—®é¢˜ï¼Œå‰©ä¸‹çš„å»çœ‹é‚£ç¯‡é‡åˆ°çš„é—®é¢˜å§ã€‚</p><h4 id="1-2-1-å®‰è£…TensoRT"><a href="#1-2-1-å®‰è£…TensoRT" class="headerlink" title="1.2.1 å®‰è£…TensoRT"></a>1.2.1 å®‰è£…TensoRT</h4><p>è¿™é‡Œéœ€è¦ä¸‹è½½ä¸¤ä¸ªä¸œè¥¿ï¼Œä¸€ä¸ªæ˜¯cudnnï¼ˆä½†æ˜¯æˆ‘ä¸ç¡®å®šè¿™ä¸ªåˆ°åº•æœ‰æ²¡æœ‰ç”¨ä¸Šï¼Œæ— æ‰€è°“äº†ï¼‰</p><p>å¦ä¸€ä¸ªåˆ™æ˜¯TensoRTï¼ŒTensoRTæ˜¯ç”¨äºå°†onnxæ–‡ä»¶è½¬æˆtrtæ–‡ä»¶</p><p>ä¸Šç½‘æ‰¾åˆ°<strong>åŒ¹é…ç‰ˆæœ¬</strong>çš„å®‰è£…åŒ…ï¼Œå¯¹åº”ç½‘å€å¦‚ä¸‹ï¼Œè®°å¾—è¦ä¸‹è½½Linuxç‰ˆæœ¬ä¸‹çš„taræ–‡ä»¶ï¼Œdebæ–‡ä»¶æˆ‘ä¸å¤ªçŸ¥é“æ€ä¹ˆå®‰è£…</p><p><strong>ä¸‹è½½ç½‘å€</strong>ï¼š</p><p><a href="https://developer.nvidia.com/rdp/cudnn-download">cuDNN Download | NVIDIA Developer</a></p><p><a href="https://developer.nvidia.com/nvidia-tensorrt-8x-download#trt860">NVIDIA TensorRT 8.x Download | NVIDIA Developer</a></p><p>æˆ‘ä½¿ç”¨çš„æ˜¯CUDA 11.1ç‰ˆæœ¬çš„ï¼Œåœ¨ä¸Šé¢ç½‘é¡µé‡Œé¢æ‰¾åˆ°å¯¹åº”çš„å³å¯</p><p><strong>å®‰è£…æ–¹æ³•</strong>ï¼š</p><p>cudnnå…·ä½“<strong>å®‰è£…æ–¹æ³•</strong>å‚è€ƒä¸‹æ–‡ï¼š</p><p><a href="https://blog.csdn.net/h3c4lenovo/article/details/119003405">Ubuntu 20.04å®‰è£…CUDA &amp; CUDNN æ‰‹æŠŠæ‰‹å¸¦ä½ æ’¸_cuda ubuntu æ‰‹æŠŠæ‰‹æ’¸ csdn_å“ˆå¸ŒMapçš„åšå®¢-CSDNåšå®¢</a></p><p>TensorRTå®‰è£…ä»¥åŠè½¬æ¢æ–‡ä»¶çš„æ–¹æ³•ï¼š</p><p><a href="https://blog.csdn.net/weixin_42905141/article/details/124452516">TensorRT8â€”â€”ONNXè½¬trt_tensorrt onnx trt_ä»¤ç‹å°‘ä¾ ã€çš„åšå®¢-CSDNåšå®¢</a></p><p>å®é™…ä¸Šéƒ½å¾ˆç®€å•ï¼Œåªéœ€è¦å¯¹taråŒ…ä½œä¸€ä¸ªè§£å‹ï¼Œcudnnçš„å°±æ˜¯å°†ä¸€äº›libæ–‡ä»¶ç§»åŠ¨åˆ°CUDAçš„å®‰è£…è·¯å¾„ä¸‹é¢ã€‚</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20231019215646874.png" alt="image-20231019215646874"></p><p>å¦‚å›¾ä¸ºæˆ‘çš„å®‰è£…ä½ç½®ï¼Œcudnnå¯ä»¥éšæ„ï¼Œå› ä¸ºåªéœ€è¦å°†é‡Œé¢çš„æ–‡ä»¶å¤¹å¤åˆ¶åˆ°CUDAä¸‹é¢åå°±æ²¡æœ‰ç”¨äº†</p><p>è€Œ<strong>TensorRT</strong>å› ä¸ºåœ¨åé¢éœ€è¦ç”¨åˆ°é“¾æ¥åº“ï¼Œji.pyå½“ä¸­ä¹Ÿéœ€è¦ç”¨åˆ°ï¼Œæ‰€ä»¥æ”¾å…¥<code>ev_sdk/src</code>è·¯å¾„ä¸‹ï¼Œå› ä¸ºæ¨ç†çš„æ—¶å€™ä¹Ÿæ˜¯åœ¨å…¶ä»–æœºå™¨ä¸‹ï¼Œ<strong>åªæ˜¯ä¼šå°†ç¯å¢ƒä»¥åŠev_sdké‡Œé¢çš„æ–‡ä»¶æ‹·è´è¿‡å»</strong>è€Œå·²</p><p><strong>æ³¨æ„ï¼ï¼ï¼</strong></p><p>è¿™é‡ŒTensorRTçš„å®‰è£…è¯´ä¸€ä¸ªé‡è¦çš„åœ°æ–¹ï¼Œè¿™é‡Œå’Œæ•™ç¨‹ä¸ä¸€æ ·</p><ul><li>åœ¨ä¸Šé¢çš„æ•™ç¨‹é‡Œé¢ï¼Œæœ‰ä¸€ä¸ªä½¿ç”¨sample_mnistæ–‡ä»¶è¿›è¡ŒéªŒè¯çš„ï¼Œæˆ‘è·‘çš„æ—¶å€™æ˜¯éªŒè¯å¤±è´¥äº†</li></ul><p>ä½†æ˜¯å¹¶ä¸å½±å“åé¢çš„è½¬trtæ–‡ä»¶æ‰§è¡Œ</p><ul><li><p>å¦å¤–ï¼Œæ•™ç¨‹é‡Œè¯´åˆ°è¦ä½¿ç”¨<code>TensorRT-8.4.3.1/targets/x86_64-linux-gnu/bin/trtexec</code>è¿™ä¸ªæ–‡ä»¶æ¥è½¬trtçš„æ—¶å€™ï¼Œéœ€è¦å…ˆåœ¨æ§åˆ¶å°ä¸‹å°†TensorRTçš„libæ–‡ä»¶å¤¹è·¯å¾„exportåˆ°å…¨å±€</p><p>ä½†æ˜¯å®é™…ä¸Šæ¯æ¬¡å…³é—­æ§åˆ¶å°åå†æ¬¡æ‰“å¼€ï¼Œéƒ½ä¼šå‘ç”Ÿæ‰¾ä¸åˆ°libé‡Œé¢çš„åŠ¨æ€åº“é“¾æ¥çš„æŠ¥é”™ï¼Œå› ä¸ºexportåªæ˜¯æš‚æ—¶çš„ï¼Œ</p><p>åŒæ ·åœ¨åé¢æ‰§è¡Œæ¨ç†çš„pythonæ–‡ä»¶çš„æ—¶å€™ï¼Œä¹Ÿè¦ç”¨åˆ°libåŠ¨æ€åº“é“¾æ¥ï¼Œå› æ­¤æˆ‘ç»™å‡ºçš„æ–¹æ³•å°±æ˜¯<strong>æ·»åŠ è½¯é“¾æ¥</strong>åˆ°python çš„tensorRTå¯¹åº”çš„åº“æ–‡ä»¶è·¯å¾„ä¸‹ï¼š<code>ln -s /usr/local/ev_sdk/src/TensorRT-8.4.1.5/lib/* /opt/conda/lib/python3.7/site-packages/tensorrt</code></p></li></ul><h4 id="1-2-2-onnx-è½¬-trt"><a href="#1-2-2-onnx-è½¬-trt" class="headerlink" title="1.2.2 onnx è½¬ trt"></a>1.2.2 onnx è½¬ trt</h4><p>è¿™ä¸€æ­¥ç”±äºæˆ‘ä»¬è¦ç”¨åˆ°çš„æ˜¯å¹³å°ä¸‹è®­ç»ƒå‡ºæ¥çš„æ¨¡å‹ï¼ˆå› ä¸ºç¼–è¯‘ç¯å¢ƒä¸‹çš„æ•°æ®é›†åªæœ‰äº”å¼ å›¾ç‰‡ï¼Œå¹³å°è®­ç»ƒçš„è¯ä¼šæœ‰å‡ ä¸‡å¼ å¯ä»¥é€‰æ‹©ï¼‰ï¼Œå› æ­¤ä¸èƒ½æå‰åœ¨ç¼–è¯‘ç¯å¢ƒé‡Œé¢ç”Ÿæˆtrtæ–‡ä»¶</p><p>æ‰€ä»¥éœ€è¦å°†ä»£ç å†™å…¥åˆ°ji.pyå½“ä¸­ï¼Œä»è€Œåœ¨æ­£å¼æ¨ç†çš„æ—¶å€™ç”Ÿæˆtrtæ–‡ä»¶</p><p>ç¼–å†™<code>onnx2trt.sh</code>æ–‡ä»¶åˆ°<code>ev_sdk/src</code>å½“ä¸­</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment">#è·å–trtæ–‡ä»¶</span><br><span class="hljs-built_in">export</span> LD_LIBRARY_PATH=<span class="hljs-variable">$LD_LIBRARY_PATH</span>:/usr/local/ev_sdk/src/TensorRT-8.4.1.5/lib/<br>/usr/local/ev_sdk/src/TensorRT-8.4.1.5/targets/x86_64-linux-gnu/bin/trtexec --onnx=/project/train/models/model_sim.onnx --explicitBatch --saveEngine=/usr/local/ev_sdk/src/model.trt --workspace=1024 --fp16<br><br></code></pre></td></tr></table></figure><p>å…ˆè¿›è¡Œå…¨å±€çš„TensorRTåŠ¨æ€åº“é“¾æ¥å£°æ˜ã€‚</p><p>ç„¶åæ‰§è¡Œtrtexecæ–‡ä»¶æ¥è½¬trtæ–‡ä»¶</p><p>æœ€åå¯ä»¥åœ¨ji.pyè¿›è¡Œæ¨ç†ä¹‹å‰æ‰§è¡Œè¯¥bashæ–‡ä»¶æ¥è·å–trtï¼Œæ³¨æ„å¥½è·¯å¾„é—®é¢˜å°±è¡Œï¼Œ<code>model_sim.onnx</code>çš„è·¯å¾„æ˜¯åœ¨å¹³å°å½“ä¸­è®­ç»ƒçš„ï¼Œæ¨ç†æµ‹è¯•çš„æ—¶å€™è¦è®°å¾—é€‰å–</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20231019223643682.png" alt="image-20231019223643682"></p><p>åœ¨æ­£å¼æ¨ç†ä¹‹å‰ï¼Œä½ ä¹Ÿå¯ä»¥åœ¨ç¼–è¯‘ç¯å¢ƒé‡Œé¢å…ˆæ‹¿è®­ç»ƒå¥½çš„onnxæ–‡ä»¶æµ‹è¯•ä¸‹æ˜¯å¦ç¡®å®å¯ä»¥ç”Ÿæˆtrtï¼Œä¸èƒ½çš„è¯å°±æ‰¾ä¸€ä¸‹æŠ¥é”™é—®é¢˜</p><h4 id="1-2-3-ji-pyç¼–å†™"><a href="#1-2-3-ji-pyç¼–å†™" class="headerlink" title="1.2.3 ji.pyç¼–å†™"></a>1.2.3 ji.pyç¼–å†™</h4><p>é™¤äº†<code>ji.py</code>ï¼Œè¿˜éœ€è¦å¦å¤–ä¸€ä¸ªæ–‡ä»¶<code>bisenet_trt.py</code>ï¼Œä½¿ç”¨åˆ°TensoRTçš„ä»£ç åº“è¿›è¡Œæ¨ç†ï¼Œè¯¥æ–‡ä»¶å’Œji.pyæ”¾åœ¨åŒä¸€ç›®å½•ä¸‹å³å¯</p><p>ji.py</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> bisenet_trt <span class="hljs-keyword">import</span> *<br><span class="hljs-keyword">import</span> json<br><span class="hljs-keyword">import</span> cv2<br><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">from</span> PIL <span class="hljs-keyword">import</span> Image<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">init</span>():<br><br>  <span class="hljs-string">&quot;&quot;&quot;Initialize model</span><br><span class="hljs-string">  Returns: model</span><br><span class="hljs-string">  &quot;&quot;&quot;</span><br>  <span class="hljs-comment"># onnx_file_path = &quot;/project/train/models/model_sim.onnx&quot;</span><br>  engine_file_path = <span class="hljs-string">&quot;/usr/local/ev_sdk/src/model.trt&quot;</span><br>  os.system(<span class="hljs-string">&quot;bash /usr/local/ev_sdk/src/onnx2trt.sh&quot;</span>)<br>  bisenet = BiSeNet_TRT(engine_file_path)<br>  <span class="hljs-keyword">try</span>:<br>      <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">10</span>):<br>          <span class="hljs-comment"># create a new thread to do warm_up </span><br>          thread1 = warmUpThread(bisenet)<br>          thread1.start()<br>          thread1.join()<br>  <span class="hljs-keyword">finally</span>:<br>      <span class="hljs-comment"># destroy the instance</span><br>      bisenet.destroy()<br>  <span class="hljs-keyword">return</span> bisenet<br><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">process_image</span>(<span class="hljs-params">handle=<span class="hljs-literal">None</span>,input_image=<span class="hljs-literal">None</span>,args=<span class="hljs-literal">None</span>, **kwargs</span>):<br><br>  <span class="hljs-string">&quot;&quot;&quot;Do inference to analysis input_image and get output</span><br><span class="hljs-string">  Attributes:</span><br><span class="hljs-string">      handle: algorithm handle returned by init()</span><br><span class="hljs-string">      input_image (numpy.ndarray): image to be process, format: (h, w, c), BGR</span><br><span class="hljs-string">      args: string in JSON format, format: &#123;</span><br><span class="hljs-string">          &quot;mask_output_path&quot;: &quot;/path/to/output/mask.png&quot;</span><br><span class="hljs-string">      &#125;</span><br><span class="hljs-string">  Returns: process result</span><br><span class="hljs-string">  &quot;&quot;&quot;</span><br>  args =json.loads(args)<br>  mask_output_path =args[<span class="hljs-string">&#x27;mask_output_path&#x27;</span>]<br><br>  output = handle.infer( input_image)<br>  cv2.imwrite(mask_output_path, output)<br><br>  fake_result = &#123;&#125;<br>  fake_result[<span class="hljs-string">&quot;model_data&quot;</span>] = &#123;<span class="hljs-string">&quot;mask&quot;</span>: []&#125;<br>  fake_result[<span class="hljs-string">&quot;model_data&quot;</span>] = &#123;<br>        <span class="hljs-string">&#x27;mask&#x27;</span>: mask_output_path<br>    &#125;<br>  <span class="hljs-keyword">return</span> json.dumps(fake_result, indent=<span class="hljs-number">4</span>)<br>  <span class="hljs-comment"># return json.dumps(&#123;&#x27;mask&#x27;: mask_output_path&#125;, indent=4)</span><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&#x27;__main__&#x27;</span>:<br>  <span class="hljs-comment"># Test API</span><br>  img = cv2.imread(<span class="hljs-string">&#x27;/home/data/2605/20230320102618_f18835_in.jpg&#x27;</span>)<br>  predictor = init()<br>  res = process_image(predictor, img, <span class="hljs-string">&quot;&#123;\&quot;mask_output_path\&quot;:\&quot;/project/ev_sdk/output/mask.jpg\&quot;&#125;&quot;</span>)<br>  <span class="hljs-built_in">print</span>(res)<br>  <br></code></pre></td></tr></table></figure><p>bisenet_trt.py</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">An example that uses TensorRT&#x27;s Python api to make inferences for BiSeNet.</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> sys<br><br><span class="hljs-keyword">import</span> shutil<br><span class="hljs-keyword">import</span> random<br><span class="hljs-keyword">import</span> threading<br><span class="hljs-keyword">import</span> time<br><span class="hljs-keyword">import</span> cv2<br><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> pycuda.autoinit<br><span class="hljs-keyword">import</span> pycuda.driver <span class="hljs-keyword">as</span> cuda<br><span class="hljs-keyword">import</span> tensorrt <span class="hljs-keyword">as</span> trt<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_img_path_batches</span>(<span class="hljs-params">batch_size, img_dir</span>):<br>    ret = []<br>    batch = []<br>    <span class="hljs-keyword">for</span> root, dirs, files <span class="hljs-keyword">in</span> os.walk(img_dir):<br>        <span class="hljs-keyword">for</span> name <span class="hljs-keyword">in</span> files:<br>            <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(batch) == batch_size:<br>                ret.append(batch)<br>                batch = []<br>            batch.append(os.path.join(root, name))<br>    <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(batch) &gt; <span class="hljs-number">0</span>:<br>        ret.append(batch)<br>    <span class="hljs-keyword">return</span> ret<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">BiSeNet_TRT</span>(<span class="hljs-title class_ inherited__">object</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    description: A BiSeNet class that warps TensorRT ops, preprocess and postprocess ops.</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, engine_file_path</span>):<br>        <span class="hljs-comment"># Create a Context on this device,</span><br>        <span class="hljs-variable language_">self</span>.cfx = cuda.Device(<span class="hljs-number">0</span>).make_context()<br>        stream = cuda.Stream()<br>        runtime = trt.Runtime(trt.Logger(trt.Logger.INFO))<br>        <span class="hljs-keyword">assert</span> runtime<br>        <br>        <span class="hljs-comment"># Deserialize the engine from file</span><br>        <span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(engine_file_path, <span class="hljs-string">&quot;rb&quot;</span>) <span class="hljs-keyword">as</span> f:<br>            engine = runtime.deserialize_cuda_engine(f.read())<br>        context = engine.create_execution_context()<br><br>        host_inputs = []<br>        cuda_inputs = []<br>        host_outputs = []<br>        cuda_outputs = []<br>        bindings = []<br><br>        <span class="hljs-keyword">for</span> binding <span class="hljs-keyword">in</span> engine:<br>            size = trt.volume(engine.get_binding_shape(binding)) * engine.max_batch_size<br>            dtype = trt.nptype(engine.get_binding_dtype(binding))<br>            <span class="hljs-comment"># Allocate host and device buffers</span><br>            host_mem = cuda.pagelocked_empty(size, dtype)<br>            cuda_mem = cuda.mem_alloc(host_mem.nbytes)<br>            <span class="hljs-comment"># Append the device buffer to device bindings.</span><br>            bindings.append(<span class="hljs-built_in">int</span>(cuda_mem))<br>            <span class="hljs-comment"># Append to the appropriate list.</span><br>            <span class="hljs-keyword">if</span> engine.binding_is_input(binding):<br>                <span class="hljs-variable language_">self</span>.input_w = engine.get_binding_shape(binding)[-<span class="hljs-number">1</span>]<br>                <span class="hljs-variable language_">self</span>.input_h = engine.get_binding_shape(binding)[-<span class="hljs-number">2</span>]<br>                host_inputs.append(host_mem)<br>                cuda_inputs.append(cuda_mem)<br>            <span class="hljs-keyword">else</span>:<br>                host_outputs.append(host_mem)<br>                cuda_outputs.append(cuda_mem)<br><br>        <span class="hljs-comment"># Store</span><br>        <span class="hljs-variable language_">self</span>.stream = stream<br>        <span class="hljs-variable language_">self</span>.context = context<br>        <span class="hljs-variable language_">self</span>.engine = engine<br>        <span class="hljs-variable language_">self</span>.host_inputs = host_inputs<br>        <span class="hljs-variable language_">self</span>.cuda_inputs = cuda_inputs<br>        <span class="hljs-variable language_">self</span>.host_outputs = host_outputs<br>        <span class="hljs-variable language_">self</span>.cuda_outputs = cuda_outputs<br>        <span class="hljs-variable language_">self</span>.bindings = bindings<br>        <span class="hljs-variable language_">self</span>.batch_size = engine.max_batch_size<br>        <br>        <span class="hljs-variable language_">self</span>.img_mean = (<span class="hljs-number">0.46962251</span>, <span class="hljs-number">0.4464104</span>,  <span class="hljs-number">0.40718787</span>)<br>        <span class="hljs-variable language_">self</span>.img_std = (<span class="hljs-number">0.27469736</span>, <span class="hljs-number">0.27012361</span>, <span class="hljs-number">0.28515933</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">infer</span>(<span class="hljs-params">self, image_raw</span>):<br>        threading.Thread.__init__(<span class="hljs-variable language_">self</span>)<br>        <span class="hljs-comment"># Make self the active context, pushing it on top of the context stack.</span><br>        <span class="hljs-variable language_">self</span>.cfx.push()<br>        <span class="hljs-comment"># Restore</span><br>        stream = <span class="hljs-variable language_">self</span>.stream<br>        context = <span class="hljs-variable language_">self</span>.context<br>        engine = <span class="hljs-variable language_">self</span>.engine<br>        host_inputs = <span class="hljs-variable language_">self</span>.host_inputs<br>        cuda_inputs = <span class="hljs-variable language_">self</span>.cuda_inputs<br>        host_outputs = <span class="hljs-variable language_">self</span>.host_outputs<br>        cuda_outputs = <span class="hljs-variable language_">self</span>.cuda_outputs<br>        bindings = <span class="hljs-variable language_">self</span>.bindings<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;ori_shape: &#x27;</span>, image_raw.shape)<br>        <span class="hljs-comment"># if image_raw is constant, image_raw.shape[1] != self.input_w</span><br>        w_ori, h_ori = image_raw.shape[<span class="hljs-number">1</span>], image_raw.shape[<span class="hljs-number">0</span>]<br>        <span class="hljs-comment"># Do image preprocess</span><br>        input_image = <span class="hljs-variable language_">self</span>.preprocess_image(image_raw)<br>        <span class="hljs-comment"># Copy input image to host buffer</span><br>        np.copyto(host_inputs[<span class="hljs-number">0</span>], input_image.ravel())<br>        <span class="hljs-comment"># Transfer input data to the GPU.</span><br>        cuda.memcpy_htod_async(cuda_inputs[<span class="hljs-number">0</span>], host_inputs[<span class="hljs-number">0</span>], stream)<br>        <span class="hljs-comment"># Run inference.</span><br>        context.execute_async(bindings=bindings, stream_handle=stream.handle)<br>        <span class="hljs-comment"># Transfer predictions back from the GPU.</span><br>        cuda.memcpy_dtoh_async(host_outputs[<span class="hljs-number">0</span>], cuda_outputs[<span class="hljs-number">0</span>], stream)<br>        <span class="hljs-comment"># Synchronize the stream</span><br>        stream.synchronize()<br>        <span class="hljs-comment"># Remove any context from the top of the context stack, deactivating it.</span><br>        <span class="hljs-variable language_">self</span>.cfx.pop()<br>        <span class="hljs-comment"># Here we use the first row of output in that batch_size = 1</span><br>        output = host_outputs[<span class="hljs-number">0</span>]<br>        <br>        <span class="hljs-comment"># Do postprocess</span><br>        output = output.reshape(<span class="hljs-variable language_">self</span>.input_h, <span class="hljs-variable language_">self</span>.input_w).astype(<span class="hljs-string">&#x27;uint8&#x27;</span>)<br>        output = cv2.resize(output, (w_ori, h_ori), interpolation=cv2.INTER_NEAREST)<br>        <br>        <span class="hljs-comment">#palette = np.random.randint(0, 256, (256, 3), dtype=np.uint8)</span><br>        <span class="hljs-comment">#output = palette[output]</span><br>        <span class="hljs-keyword">return</span> output<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">destroy</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-comment"># Remove any context from the top of the context stack, deactivating it.</span><br>        <span class="hljs-variable language_">self</span>.cfx.pop()<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">preprocess_image</span>(<span class="hljs-params">self, image_raw</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">        description: Read an image from image path</span><br><span class="hljs-string">        param:</span><br><span class="hljs-string">            image_raw: numpy, raw image</span><br><span class="hljs-string">        return:</span><br><span class="hljs-string">            img_input:  the processed image</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br>        <br>        img_resize = cv2.resize(image_raw, (<span class="hljs-variable language_">self</span>.input_w, <span class="hljs-variable language_">self</span>.input_h))[:, :, ::-<span class="hljs-number">1</span>] <span class="hljs-comment">#bgr2rgb</span><br>        img_input = np.transpose(img_resize, [<span class="hljs-number">2</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>]) <span class="hljs-comment"># hwc2chw</span><br>        <br>        img_input = img_input.astype(np.float32) / <span class="hljs-number">255.0</span><br>        img_mean = np.array(<span class="hljs-variable language_">self</span>.img_mean, dtype=np.float32).reshape(<span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>)<br>        img_std = np.array(<span class="hljs-variable language_">self</span>.img_std, dtype=np.float32).reshape(<span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>)<br>        img_input = (img_input - img_mean) / img_std<br>        <span class="hljs-comment"># expand dims</span><br>        img_input = np.expand_dims(img_input, axis=<span class="hljs-number">0</span>)<br>        <br>        <span class="hljs-keyword">return</span> img_input<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">get_raw_image</span>(<span class="hljs-params">self, image_path_batch</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">        description: Read an image from image path</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br>        <span class="hljs-keyword">for</span> img_path <span class="hljs-keyword">in</span> image_path_batch:<br>            <span class="hljs-keyword">return</span> cv2.imread(img_path)<br>    <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">get_raw_image_zeros</span>(<span class="hljs-params">self, image_path_batch=<span class="hljs-literal">None</span></span>):<br>        <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">        description: Ready data for warmup</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br>        <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-variable language_">self</span>.batch_size):<br>            <span class="hljs-keyword">return</span> np.zeros([<span class="hljs-variable language_">self</span>.input_h, <span class="hljs-variable language_">self</span>.input_w, <span class="hljs-number">3</span>], dtype=np.uint8)<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">inferThread</span>(threading.Thread):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, bisenet, image_path_batch</span>):<br>        threading.Thread.__init__(<span class="hljs-variable language_">self</span>)<br>        <span class="hljs-variable language_">self</span>.bisenet = bisenet<br>        <span class="hljs-variable language_">self</span>.image_path_batch = image_path_batch<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">run</span>(<span class="hljs-params">self</span>):<br>        batch_image_raw = <span class="hljs-variable language_">self</span>.bisenet.infer(<span class="hljs-variable language_">self</span>.bisenet.get_raw_image(<span class="hljs-variable language_">self</span>.image_path_batch))<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">warmUpThread</span>(threading.Thread):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, bisenet</span>):<br>        threading.Thread.__init__(<span class="hljs-variable language_">self</span>)<br>        <span class="hljs-variable language_">self</span>.bisenet = bisenet<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">run</span>(<span class="hljs-params">self</span>):<br>        batch_image_raw = <span class="hljs-variable language_">self</span>.bisenet.infer(<span class="hljs-variable language_">self</span>.bisenet.get_raw_image_zeros())<br><br><br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    <span class="hljs-comment"># load custom engine</span><br>    engine_file_path = <span class="hljs-string">&quot;build/model.trt&quot;</span>  <span class="hljs-comment"># the generated engine file</span><br>    <br>    <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(sys.argv) &gt; <span class="hljs-number">1</span>:<br>        engine_file_path = sys.argv[<span class="hljs-number">1</span>]<br><br>    <span class="hljs-keyword">if</span> os.path.exists(<span class="hljs-string">&#x27;output/&#x27;</span>):<br>        shutil.rmtree(<span class="hljs-string">&#x27;output/&#x27;</span>)<br>    os.makedirs(<span class="hljs-string">&#x27;output/&#x27;</span>)<br>    <span class="hljs-comment"># a hrnet instance</span><br>    bisenet = BiSeNet_TRT(engine_file_path)<br>    <span class="hljs-keyword">try</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;batch size is&#x27;</span>, bisenet.batch_size)  <span class="hljs-comment"># batch size is set to 1!</span><br>        <br>        image_dir = <span class="hljs-string">&quot;samples/&quot;</span><br>        image_path_batches = get_img_path_batches(bisenet.batch_size, image_dir)<br><br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">10</span>):<br>            <span class="hljs-comment"># create a new thread to do warm_up</span><br>            thread1 = warmUpThread(bisenet)<br>            thread1.start()<br>            thread1.join()<br>        <span class="hljs-keyword">for</span> batch <span class="hljs-keyword">in</span> image_path_batches:<br>            <span class="hljs-comment"># create a new thread to do inference</span><br>            thread1 = inferThread(bisenet, batch)<br>            thread1.start()<br>            thread1.join()<br>    <span class="hljs-keyword">finally</span>:<br>        <span class="hljs-comment"># destroy the instance</span><br>        bisenet.destroy()<br><br></code></pre></td></tr></table></figure><h4 id="1-2-4æ­£å¼æ¨ç†"><a href="#1-2-4æ­£å¼æ¨ç†" class="headerlink" title="1.2.4æ­£å¼æ¨ç†"></a>1.2.4æ­£å¼æ¨ç†</h4><p>ç¼–å†™å¥½åå°±å¯ä»¥æ­£å¼è¿›è¡Œæ¨ç†äº†ï¼Œæ¯æ¬¡æ¨ç†å¤§æ¦‚ä¼šè€—è´¹3å°æ—¶å·¦å³çš„æ—¶é—´</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20231019224333399.png" alt="image-20231019224333399"></p><p>é¢ä¸è¿‡è®­ç»ƒç»“æœéå¸¸æƒ¨ä¸å¿ç¹å°±æ˜¯äº†ï¼Œç¬¬ä¸€æ¬¡å¼„ï¼Œä¹Ÿæ˜¯ç›´æ¥ç…§ç€åˆ«äººçš„åšï¼Œè¿˜æœ‰å¾ˆå¤šå¾ˆå¤šä¸ä¼šçš„åœ°æ–¹ï¼Œä¹Ÿè¿˜æ²¡æœ‰å»æ”¹è¿›æ¨¡å‹å’Œè®­ç»ƒçš„å‚æ•°ï¼Œè¿™ä¸ªä»¥åå†æ…¢æ…¢è°ƒæ•´å§ã€‚ä»…ä»…æä¾›ä¸€ä¸ªç®€å•çš„æ•™ç¨‹</p>]]></content>
    
    
    <categories>
      
      <category>å¤§å­¦ç«èµ›</category>
      
      <category>CVæ¯”èµ›</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>æ˜ç«ç®—æ³•é‡åˆ°çš„é—®é¢˜</title>
    <link href="/2023/10/15/%E5%A4%A7%E5%AD%A6%E7%AB%9E%E8%B5%9B/CV%E6%AF%94%E8%B5%9B/%E6%98%8E%E7%81%AB%E7%83%9F%E9%9B%BE%E7%AE%97%E6%B3%95%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98/"/>
    <url>/2023/10/15/%E5%A4%A7%E5%AD%A6%E7%AB%9E%E8%B5%9B/CV%E6%AF%94%E8%B5%9B/%E6%98%8E%E7%81%AB%E7%83%9F%E9%9B%BE%E7%AE%97%E6%B3%95%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98/</url>
    
    <content type="html"><![CDATA[<h2 id="2-é‡åˆ°çš„ä¸€äº›é—®é¢˜ï¼ˆå‚è€ƒæ•™ç¨‹çš„æ—¶å€™ï¼‰"><a href="#2-é‡åˆ°çš„ä¸€äº›é—®é¢˜ï¼ˆå‚è€ƒæ•™ç¨‹çš„æ—¶å€™ï¼‰" class="headerlink" title="2. é‡åˆ°çš„ä¸€äº›é—®é¢˜ï¼ˆå‚è€ƒæ•™ç¨‹çš„æ—¶å€™ï¼‰"></a>2. é‡åˆ°çš„ä¸€äº›é—®é¢˜ï¼ˆå‚è€ƒæ•™ç¨‹çš„æ—¶å€™ï¼‰</h2><h3 id="BiSeNetç¼–ç ç¯å¢ƒä¸‹è®­ç»ƒé‡åˆ°çš„é—®é¢˜ï¼š"><a href="#BiSeNetç¼–ç ç¯å¢ƒä¸‹è®­ç»ƒé‡åˆ°çš„é—®é¢˜ï¼š" class="headerlink" title="BiSeNetç¼–ç ç¯å¢ƒä¸‹è®­ç»ƒé‡åˆ°çš„é—®é¢˜ï¼š"></a>BiSeNetç¼–ç ç¯å¢ƒä¸‹è®­ç»ƒé‡åˆ°çš„é—®é¢˜ï¼š</h3><ol start="0"><li>è‹¥è¦é€šè¿‡PIPä¸‹è½½ï¼Œè®°å¾—æ›´æ¢PIPæº<br>pip config set global.index-url <a href="https://pypi.tuna.tsinghua.edu.cn/simple">https://pypi.tuna.tsinghua.edu.cn/simple</a><br>æ¸…åæºçš„åé¢éœ€è¦åŠ ä¸Š<code>/simple</code>ï¼Œä¸ç„¶å¾ˆå¤šä¸œè¥¿ä¸‹è½½ä¸äº†</li><li>å…³äºæ•°æ®é›†åˆ’åˆ†<br>æ•°æ®é›†å®˜æ–¹æä¾›çš„æ˜¯å›¾ç‰‡å¯¹åº”çš„JPGå’ŒPNGï¼Œå®˜æ–¹å·²ç»å¸®æˆ‘ä»¬å¼„å¥½åˆ†å‰²çƒŸé›¾åƒç´ çš„å›¾åƒï¼Œæ˜¯PNGæ ¼å¼ï¼ŒåŸå›¾åˆ™æ˜¯JPGã€‚<br>æä¾›çš„æ•°æ®é›†åˆ’åˆ†ä»£ç å¯ä»¥æ”¾åœ¨<code>/src_repo</code>æ–‡ä»¶å¤¹ä¸‹,ç›´æ¥è¿è¡ŒPythonå‘½ä»¤</li><li>æ•°æ®é›†çš„é…ç½®æ–‡ä»¶<br>é¦–å…ˆæ˜¯å®šä¹‰çš„å¯¹åº”çš„ç±»ï¼Œæ”¾åœ¨<code>/BiSeNet/lib/data</code>ä¸‹ï¼Œé‡Œé¢æœ‰å…¶ä»–demoç±»çš„ç¤ºä¾‹<br>ç„¶åæ˜¯å°†å…¶å¯¼å…¥åˆ°<code>get_dataloader.py</code>æ–‡ä»¶é‡Œé¢</li><li>æ›´æ”¹bisenetv2è®­ç»ƒçš„å‚æ•°<br>æ›´æ”¹çš„æ–‡ä»¶å†…å®¹åœ¨<code>/BiSeNet/config</code>ä¸‹é¢ï¼Œå¦‚æœä½ æ˜¯å›¾ç‰‡ç±»è®­ç»ƒï¼Œåˆ™å¯¹åº”æ–°å»ºä¸€ä¸ª<code>bisenetv2_yourModel.py</code>æ–‡ä»¶</li></ol><h3 id="ç¼–è¯‘ç¯å¢ƒè¿è¡Œè®­ç»ƒè„šæœ¬æ—¶çš„é—®é¢˜"><a href="#ç¼–è¯‘ç¯å¢ƒè¿è¡Œè®­ç»ƒè„šæœ¬æ—¶çš„é—®é¢˜" class="headerlink" title="ç¼–è¯‘ç¯å¢ƒè¿è¡Œè®­ç»ƒè„šæœ¬æ—¶çš„é—®é¢˜"></a>ç¼–è¯‘ç¯å¢ƒè¿è¡Œè®­ç»ƒè„šæœ¬æ—¶çš„é—®é¢˜</h3><ol><li><p>ç¼ºå¤±<code>tabulate</code>åº“<br>é€šè¿‡pipå®‰è£…</p></li><li><p>onnxç¼ºå°‘æ–‡ä»¶<br>ä¸€ç›´å¡åœ¨è¿™é‡Œçš„ä¸‹è½½å¤„<br>  Downloading: â€œ<a href="https://github.com/CoinCheung/BiSeNet/releases/download/0.0.0/backbone_v2.pth">https://github.com/CoinCheung/BiSeNet/releases/download/0.0.0/backbone_v2.pth</a>â€œ to &#x2F;project&#x2F;.cache&#x2F;torch&#x2F;hub&#x2F;checkpoints&#x2F;backbone_v2.pth</p></li><li></li><li><p>æŠ¥é”™train_amp.py: error: unrecognized arguments: â€“local_rank&#x3D;0<br>ERROR:torch.distributed.elastic.multiprocessing.api:failed (exitcode: 2) local_rank: 0 (pid: 18934) of binary: &#x2F;opt&#x2F;conda&#x2F;bin&#x2F;python<br>  è§£å†³æ–¹æ³•ï¼šåœ¨æ‰§è¡Œçš„é‚£æ¡å‘½ä»¤è¯­å¥ä¹‹å‰åŠ ä¸Š<code>--use_env</code>,ä¾‹å¦‚<br>  <code>python -m torch.distributed.launch --nproc_per_node=$NGPUS --use_env tools/train_amp.py --config $cfg_file | tee -a $&#123;log_file&#125;</code><br>  åœ¨æ‰§è¡Œtools&#x2F;train_amp.pyä¹‹å‰åŠ ä¸Šè¿™ä¸ª</p></li><li><p>no module name onnixsim<br>é€šè¿‡pipä¸‹è½½</p></li><li><p>æ²¡æœ‰sudoå‘½ä»¤:<br>è§£å†³æ–¹æ³•ï¼šä½¿ç”¨<code>apt-get update</code>ï¼Œå¦‚æœæ— æ³•æ­£å¸¸updateï¼Œåˆ™éœ€è¦æ¢é•œåƒæºï¼Œ<br>  è¿™é‡Œå¯ä»¥ä½¿ç”¨æ¸…åæº ï¼Œå¯ä»¥ç›´æ¥<code>vim /etc/apt/sources.list</code>ï¼Œå°†é‡Œé¢çš„å†…å®¹æ›¿æ¢æˆæ¸…åæºçš„å¯¹åº”ï¼ˆä¸Šç½‘æœï¼‰</p></li><li><p>File â€œ.&#x2F;lib&#x2F;lr_scheduler.pyâ€, line 69, in get_main_ratio<br> alpha &#x3D; real_iter &#x2F; real_max_iter<br>  ZeroDivisionError: division by zero</p></li></ol><p>  æ¨¡å‹è®­ç»ƒæ—¶å‡ºç°å¦‚ä¸ŠæŠ¥é”™ï¼Œæ˜¯å› ä¸º<strong>warmup_iterså’Œmax_iter</strong>æ•°å€¼ä¸€æ ·ï¼Œå¯¼è‡´é™¤æ•°ä¸º0</p><h3 id="ç½‘ç«™è®­ç»ƒæ¨¡å‹æ—¶çš„é—®é¢˜"><a href="#ç½‘ç«™è®­ç»ƒæ¨¡å‹æ—¶çš„é—®é¢˜" class="headerlink" title="ç½‘ç«™è®­ç»ƒæ¨¡å‹æ—¶çš„é—®é¢˜"></a>ç½‘ç«™è®­ç»ƒæ¨¡å‹æ—¶çš„é—®é¢˜</h3><ol><li>RuntimeError: Unexpected error from cudaGetDeviceCount(). Did you run some cuda functions before calling NumCudaDevices() that might have already set an error? Error 804: forward compatibility was attempted on non supported HW<br>ç›®å‰è¿˜ä¸çŸ¥é“æ˜¯ä»€ä¹ˆåŸå› <br>å°è¯•è§£å†³ï¼ˆéƒ½æ— æ•ˆï¼‰ï¼š</li></ol><ul><li>å‡çº§nvidiaé©±åŠ¨ï¼ˆ460-&gt;470ï¼‰</li><li>æ›´æ¢Pythonç‰ˆæœ¬ï¼ˆ3.7.x -&gt; 3.8.8ï¼‰</li><li>ä¸‹è½½Torchæœ‰å…³çš„å„ç§åŒ…ï¼ˆpytorchè®ºå›ä¸Šé¢çœ‹åˆ°çš„ä¸€æ¡è§£å†³å¸–å­ï¼‰</li></ul><ol start="2"><li>å¦‚ä½•ä¸‹è½½sudoä»¥åŠæ›´æ–°nvidiaé©±åŠ¨ï¼š<br>å°†aptæ¢æºæˆæ¸…åæºçš„ï¼š</li></ol><ul><li>é¦–å…ˆ<code>vim /etc/apt/sources.list</code></li><li>ç„¶åå°†é‡Œé¢çš„æ›¿æ¢æˆæ¸…åæº</li><li>æ¥ç€æ›´æ–°è½¯ä»¶åŒ… apt-get update</li><li>ç„¶åå°±å¯ä»¥å®‰è£…sudoäº† <code>apt-get install sudo</code></li><li>æ¥ç€è¦æ·»åŠ nvidiaé©±åŠ¨æºï¼Œå‘½ä»¤<code>sudo add-apt-repository ppa:graphics-drivers/ppa</code></li><li>ä½†æ˜¯ä¼šå‘ç°æŠ¥é”™ï¼Œæ‰¾ä¸åˆ°add-apt-repositort</li><li>äºæ˜¯å†è¾“å…¥<code>sudo apt install software-properties-common</code></li><li>å®‰è£…éœ€è¦ä¸€å®šçš„æ—¶é—´ï¼Œå®‰è£…æˆåŠŸåä¸Šé¢é‚£æ¡æŒ‡ä»¤å°±å¯ä»¥æ‰§è¡Œäº†</li><li>æœ€åå¯ä»¥é€šè¿‡sudoæ¥æ›´æ–°nvidiaçš„é©±åŠ¨ï¼Œ<code>sudo apt install nvidia-driver-&lt;version&gt;</code>ï¼Œæœ€åè¦é‡å¯ç”µè„‘</li></ul><hr><h3 id="BiSeNetæµ‹è¯•æ¨ç†é‡åˆ°çš„é—®é¢˜ï¼š"><a href="#BiSeNetæµ‹è¯•æ¨ç†é‡åˆ°çš„é—®é¢˜ï¼š" class="headerlink" title="BiSeNetæµ‹è¯•æ¨ç†é‡åˆ°çš„é—®é¢˜ï¼š"></a>BiSeNetæµ‹è¯•æ¨ç†é‡åˆ°çš„é—®é¢˜ï¼š</h3><ol><li><p>å®‰è£…Cudnnå’Œtensorrt<br>å®‰è£…tensorrtéœ€è¦ä¸Šç½‘æ‰¾åˆ°å¯¹åº”ç‰ˆæœ¬ï¼Œcudnnä¹Ÿæ˜¯ï¼Œcudnnéœ€è¦å…ˆä¸‹è½½ï¼Œæ‰èƒ½ä½¿ç”¨tensorrtï¼ˆæœ‰å¾…è€ƒç©¶ï¼‰<br>è¿™é‡Œå¼„äº†å¾ˆä¹…ï¼Œ<br>CUDNNå®‰è£…ï¼šcudnnåªéœ€è¦è§£å‹taråŒ…åï¼Œå°†é‡Œé¢çš„ä¸€äº›æ–‡ä»¶å¤åˆ¶åˆ°Cudaç›¸åº”çš„ä¸€äº›ç›®å½•ä¸‹é¢ï¼Œ<br>TensorRTå®‰è£…ï¼šä¹Ÿæ˜¯å…ˆè§£å‹taråŒ…åï¼Œè®°å¾—æ·»åŠ åˆ°ç¯å¢ƒå˜é‡ï¼š<code>export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:~/yourpath/TensorRT-8.4.0.6/lib</code>,æ¥ç€å°±å¯ä»¥æ ¹æ®æ•™ç¨‹ä½¿ç”¨<code>trtexec</code>å‘½ä»¤æˆåŠŸå¯¼å‡ºäº†trtæ–‡ä»¶ï¼Œä½†æ˜¯ä¹Ÿä¸çŸ¥é“è¡Œä¸è¡Œ<br>å¯¼å‡ºä»£ç å¦‚ä¸‹ï¼š<code>/project/TensorRT-8.4.3.1/targets/x86_64-linux-gnu/bin/trtexec --onnx=your_sim.onnx --explicitBatch --saveEngine= yourmodel.trt --workspace=1024</code></p></li><li><p>è¿è¡ŒJi.pyæŠ¥é”™numpyæ‰¾ä¸åˆ°attribute bool<br>åŸå› å¯èƒ½æ˜¯numpyç‰ˆæœ¬é—®é¢˜ï¼Œéœ€è¦æ›´æ–°åˆ°1.20ä»¥ä¸Šï¼Œä¾‹å¦‚1.23.2ï¼ˆä½†æ˜¯æˆ‘å¸è½½çš„æ—¶å€™çœ‹åˆ°åŸæ¥çš„ç‰ˆæœ¬å¥½åƒæ˜¯1.24.4ï¼Œä½†æ˜¯é‡æ–°å®‰è£…ä¹‹åç¡®å®åˆè·³è¿‡äº†è¿™ä¸ªæŠ¥é”™çš„åŸå› ï¼‰</p></li><li><p>ä¸‹è½½tensorrtå¯¹åº”çš„pythonåŒ…çš„æ—¶å€™ï¼Œè¦æ³¨æ„ç‰ˆæœ¬ï¼Œtensorrtçš„æ–‡ä»¶é‡Œé¢è‡ªå¸¦äº†ä¸åŒç‰ˆæœ¬çš„ä¾‹å¦‚3.6x,3.7x,3.8x</p></li><li><p>æµ‹è¯•ç¯å¢ƒæŠ¥é”™ï¼šmessage: TypeError: Descriptors cannot not be created directly.<br>If this call came from a _pb2.py file, your generated code is out of date and must be regenerated with protoc &gt;&#x3D; 3.19.0.<br>è§£å†³æ–¹æ³•ï¼šå¯èƒ½éœ€è¦é™ä½<code>protobuf</code>çš„ç‰ˆæœ¬ï¼Œéœ€è¦é™ä½åˆ°3.20.0ä»¥ä¸‹ï¼Œä½†æ˜¯ä¼šäº§ç”Ÿå¦ä¸€ä¸ªé—®é¢˜ï¼šonnxä¼šå¯¹protobufçš„ç‰ˆæœ¬æœ‰è¦æ±‚ï¼Œå¯ä»¥å°è¯•é™åˆ°1.11.0</p></li><li><p><code>import tensorrt</code>çš„æ—¶å€™æ‰¾ä¸åˆ°<strong>åŠ¨æ€é“¾æ¥åº“</strong>ï¼š<br>å°è¯•äº†å¾ˆå¤šæ–¹æ³•ï¼Œæœ€åä½¿ç”¨åŠ¨æ€é“¾æ¥åº“è§£å†³ï¼Œå°†libé‡Œé¢çš„å…¨éƒ¨å¯¼å…¥åˆ°condaçš„python sitepackageä¸‹é¢çš„tensorrtçš„æ–‡ä»¶å¤¹é‡Œé¢ï¼Œæ–¹æ³•å¦‚ä¸‹ï¼š<br><code>ln -s /usr/local/ev_sdk/src/TensorRT-8.4.1.5/lib/* /opt/conda/lib/python3.7/site-packages/tensorrt</code><br>ä½¿ç”¨exportæˆ–è€…æ”¹.bashrcç­‰æ–¹æ³•æ˜¯æ— æ³•ä½œç”¨åˆ°æˆ‘çš„æµ‹è¯•ç¯å¢ƒé‡Œé¢çš„ï¼Œå› ä¸ºç¼–ç ç¯å¢ƒå’Œæµ‹è¯•ç¯å¢ƒç”¨çš„ä¸æ˜¯åŒä¸€å°ç”µè„‘å’Œæ˜¾å¡</p></li><li><p>æŠ¥é”™<code>The engine plan file is generated on an incompatible device, expecting compute 8.6 got compute 7.5,</code></p><p>åŸå› ï¼šonnxè½¬trtæ‰€åœ¨æœºå™¨çš„æ˜¾å¡ä¸è°ƒç”¨è¿è¡Œtrtæ—¶å€™æ‰€åœ¨çš„æœºå™¨æ˜¾å¡ä¸ä¸€è‡´ï¼Œä¾‹å¦‚ä¸Šé¢æ„æ€æ˜¯3080ç®—åŠ›æ˜¯8.6ï¼Œä½†æ˜¯å´å¾—åˆ°äº†7.5ï¼Œè€Œ7.5æ˜¯2080æ˜¾å¡çš„ç®—åŠ›ï¼ŒTesla T4ä¹Ÿæ˜¯è¿™ä¸ªç®—åŠ›ï¼Œå› æ­¤éœ€è¦åœ¨åŒæ ·ç®—åŠ›çš„æ˜¾å¡ä¸Šè½¬æ¢å’Œè¿è¡Œtrtï¼Œå¦åˆ™å°±ä¼šæŠ¥é”™</p><p>è§£å†³æ–¹æ³•ï¼šåœ¨<code>ji.py</code>å½“ä¸­è°ƒæ•´ä»£ç </p></li></ol>]]></content>
    
    
    <categories>
      
      <category>å¤§å­¦ç«èµ›</category>
      
      <category>CVæ¯”èµ›</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>å†°ç®±ç®¡ç†åŠ©æ‰‹é¡¹ç›®æ€»ç»“</title>
    <link href="/2023/08/09/%E6%9C%AC%E7%A7%91/%E5%A4%A7%E4%B8%89%E4%B8%8B/%E8%BD%AF%E5%B7%A5%E5%AE%9E%E8%AE%AD/%E5%86%B0%E7%AE%B1%E7%AE%A1%E7%90%86%E5%8A%A9%E6%89%8B%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93/"/>
    <url>/2023/08/09/%E6%9C%AC%E7%A7%91/%E5%A4%A7%E4%B8%89%E4%B8%8B/%E8%BD%AF%E5%B7%A5%E5%AE%9E%E8%AE%AD/%E5%86%B0%E7%AE%B1%E7%AE%A1%E7%90%86%E5%8A%A9%E6%89%8B%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93/</url>
    
    <content type="html"><![CDATA[<h1 id="é¡¹ç›®æ€»ç»“"><a href="#é¡¹ç›®æ€»ç»“" class="headerlink" title="é¡¹ç›®æ€»ç»“"></a>é¡¹ç›®æ€»ç»“</h1><h2 id="1-é¡¹ç›®ä»£ç "><a href="#1-é¡¹ç›®ä»£ç " class="headerlink" title="1. é¡¹ç›®ä»£ç "></a>1. é¡¹ç›®ä»£ç </h2><h3 id="1-1-å®Œæ•´é¡¹ç›®é€šè¿‡ä»¥ä¸‹æ–¹å¼æŸ¥çœ‹"><a href="#1-1-å®Œæ•´é¡¹ç›®é€šè¿‡ä»¥ä¸‹æ–¹å¼æŸ¥çœ‹" class="headerlink" title="1.1 å®Œæ•´é¡¹ç›®é€šè¿‡ä»¥ä¸‹æ–¹å¼æŸ¥çœ‹"></a>1.1 å®Œæ•´é¡¹ç›®é€šè¿‡ä»¥ä¸‹æ–¹å¼æŸ¥çœ‹</h3><ul><li><p>é¡¹ç›®è¿­ä»£ï¼š<a href="https://www.tapd.cn/59680053/prong/iterations/card_view?q=799e1adaffa6c12dc3b3786f82a83950&left_tree=1">è¿­ä»£å››-è¿­ä»£-æ˜¥_2023_å†°ç®±ç‰©èµ„ç®¡ç†-TAPDå¹³å°</a></p></li><li><p>Githubåç«¯ä»£ç ä»“åº“ï¼š<a href="https://github.com/jlhstart/refrigerator">jlhstart&#x2F;refrigerator (github.com)</a></p></li><li><p>å°ç¨‹åºæ¼”ç¤ºè§†é¢‘ï¼š<a href="https://www.bilibili.com/video/BV1om4y1H7NR/?spm_id_from=333.880.my_history.page.click&vd_source=734b21e997d61ab1db5d4f657c1753c3">å†°ç®±ç®¡ç†å°ç¨‹åºæ¼”ç¤ºè§†é¢‘_å“”å“©å“”å“©_bilibili</a></p></li><li><p>æœ¬åœ°çš„é¡¹ç›®è¿­ä»£æ–‡æ¡£</p></li><li><p>APIfoxæŸ¥çœ‹<strong>æ¥å£æ–‡æ¡£</strong></p></li></ul><h3 id="1-2-æ–‡ä»¶ç»“æ„"><a href="#1-2-æ–‡ä»¶ç»“æ„" class="headerlink" title="1.2 æ–‡ä»¶ç»“æ„"></a>1.2 æ–‡ä»¶ç»“æ„</h3><p>å‰æœŸæ˜¯æ­£å¸¸çš„<code>MVC</code>æ¶æ„</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230316113851596.png" alt="image-20230316113851596"></p><p>æ­¤æ—¶æ‰€æœ‰å®ä½“ç±»éƒ½åœ¨Daoå±‚ï¼Œæ§åˆ¶ç±»éƒ½åœ¨Controlå±‚ï¼Œå…¶ä»–åŒç†</p><p>è€Œæœ€åä½¿ç”¨äº†<code>SpringCloud</code>ç»“æ„ï¼š</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230809125729015.png" alt="image-20230809125729015"></p><p>æ­¤æ—¶åˆ™æ˜¯æŒ‰ç…§<strong>æ•°æ®è¡¨table</strong>çš„ç±»åˆ«æ¥åŒºåˆ†</p><p>ä¸è¿‡ç»†åˆ†åˆ°æ¯ä¸ªè¡¨é‡Œé¢ä»ç„¶æ˜¯MVCç»“æ„</p><h2 id="2-ä¸ªäººè´Ÿè´£éƒ¨åˆ†"><a href="#2-ä¸ªäººè´Ÿè´£éƒ¨åˆ†" class="headerlink" title="2. ä¸ªäººè´Ÿè´£éƒ¨åˆ†"></a>2. ä¸ªäººè´Ÿè´£éƒ¨åˆ†</h2><blockquote><p>è¿™é‡Œä¸»è¦æ˜¯ä»‹ç»ä¸€äº›æ¯”è¾ƒç‰¹åˆ«çš„æ¥å£ï¼Œå…¶ä»–æ­£å¸¸å¢åˆ æ”¹æŸ¥çš„æ¥å£å°±ä¸èµ˜è¿°äº†ï¼Œå¯ä»¥é€šè¿‡æŸ¥çœ‹APIFOXçœ‹æ›¾ç»è´Ÿè´£çš„æ¥å£æœ‰å“ªäº›</p></blockquote><h3 id="2-1-æ‹ç…§è¯†åˆ«æ¥å£"><a href="#2-1-æ‹ç…§è¯†åˆ«æ¥å£" class="headerlink" title="2.1 æ‹ç…§è¯†åˆ«æ¥å£"></a>2.1 æ‹ç…§è¯†åˆ«æ¥å£</h3><ul><li>å®ç°åŠŸèƒ½ï¼š</li></ul><p>å°ç¨‹åºé€šè¿‡æ‹ç…§<strong>è¯†åˆ«å‡ºç‰©èµ„</strong>åç§°åï¼Œç„¶åè¿›è¡Œ<strong>ç‰©èµ„æ·»åŠ </strong>çš„æ“ä½œ</p><ul><li>å¤–éƒ¨æ¥å£ï¼š</li></ul><p>ä½¿ç”¨ç™¾åº¦çš„ã€Šé€šç”¨è¯†åˆ«æ¥å£æ¥å£ã€‹</p><ul><li>å…·ä½“æ•™ç¨‹ï¼š</li></ul><p><a href="https://ai.baidu.com/ai-doc/IMAGERECOGNITION/Xk3bcxe21">å›¾åƒè¯†åˆ« - é€šç”¨ç‰©ä½“å’Œåœºæ™¯è¯†åˆ« | ç™¾åº¦AIå¼€æ”¾å¹³å° (baidu.com)</a></p><p>ä»£ç ç¤ºä¾‹ï¼ˆä½äºContentControllerï¼‰ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@PostMapping(&quot;/content&quot;)</span><br><span class="hljs-keyword">public</span> Result <span class="hljs-title function_">getContentByImage</span><span class="hljs-params">(String image)</span> <span class="hljs-keyword">throws</span> Exception &#123;<br><br>    <span class="hljs-comment">//ä¼ è¿‡æ¥çš„å‚æ•°æ˜¯Base64ç¼–ç çš„</span><br>    <span class="hljs-comment">//å»æ‰å¤´éƒ¨ä¿¡æ¯</span><br>    image = image.replaceAll(<span class="hljs-string">&quot;data:image/jpeg;base64,&quot;</span>,<span class="hljs-string">&quot;&quot;</span>);<br>    <span class="hljs-type">String</span> <span class="hljs-variable">imgParam</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;image=&quot;</span> + URLEncoder.encode(image,<span class="hljs-string">&quot;UTF-8&quot;</span>);<br>    <span class="hljs-type">String</span> <span class="hljs-variable">accessToken</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;ä½ çš„token&quot;</span>;<br>    <span class="hljs-type">String</span> <span class="hljs-variable">url</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;https://aip.baidubce.com/rest/2.0/image-classify/v2/advanced_general&quot;</span>;<br>    <span class="hljs-comment">//è°ƒç”¨ã€Šé€šç”¨è¯†åˆ«ã€‹æ¥å£ï¼Œè¿”å›è¯†åˆ«ç»“æœ</span><br>    <span class="hljs-type">String</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> HttpUtil.post(url,accessToken,imgParam);<br><br>    <span class="hljs-comment">//è½¬æ¢æˆjsonæ ¼å¼ï¼Œå°†è¯†åˆ«åˆ°çš„é£Ÿç‰©åå­—æå–å‡ºæ¥</span><br>    <span class="hljs-type">JSONObject</span> <span class="hljs-variable">jsonObject</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">JSONObject</span>(JSONObject.parseObject(result));<br>    <span class="hljs-type">JSONArray</span> <span class="hljs-variable">resultArray</span> <span class="hljs-operator">=</span> jsonObject.getJSONArray(<span class="hljs-string">&quot;result&quot;</span>);<br>    <span class="hljs-comment">//ç”¨æ¥å­˜æ”¾è¯†åˆ«åˆ†æ•°é«˜äº7åˆ†çš„é£Ÿæ</span><br>    List&lt;Map&lt;String,Object&gt;&gt; contentList = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; resultArray.size(); i++) &#123;<br>        <span class="hljs-type">JSONObject</span> <span class="hljs-variable">obj</span> <span class="hljs-operator">=</span> resultArray.getJSONObject(i);<br>        System.out.println(<span class="hljs-string">&quot;è¯†åˆ«ç»“æœï¼š&quot;</span> +<br>                obj.getString(<span class="hljs-string">&quot;keyword&quot;</span>) + <span class="hljs-string">&quot;---&quot;</span> + obj.getDouble(<span class="hljs-string">&quot;score&quot;</span>));<br>        <span class="hljs-keyword">if</span>(obj.getDouble(<span class="hljs-string">&quot;score&quot;</span>) &gt; <span class="hljs-number">0.6</span>)&#123;<br>            <span class="hljs-type">String</span> <span class="hljs-variable">foodName</span> <span class="hljs-operator">=</span> obj.getString(<span class="hljs-string">&quot;keyword&quot;</span>);<br>            contentList.addAll(contentService.getContentInfo(foodName));<br>            <span class="hljs-comment">//æ¸…é™¤æ‰è¿”å›nullçš„æ•°æ®</span><br>            contentList.remove(<span class="hljs-literal">null</span>);<br>            <span class="hljs-comment">//å»æ‰é‡å¤è¯†åˆ«çš„å†…å®¹</span><br>            <span class="hljs-type">Set</span> <span class="hljs-variable">set</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashSet</span>(contentList);<br>            contentList = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;(set);<br>        &#125;<br>        <span class="hljs-keyword">else</span> System.out.println(<span class="hljs-string">&quot;è¯¥ç»“æœè¯†åˆ«åº¦è¿‡ä½&quot;</span>);<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Result</span>&lt;&gt;(<span class="hljs-number">200</span>,contentList);<br>&#125;<br></code></pre></td></tr></table></figure><p>è¯†åˆ«åè¿”å›çš„æ˜¯ä¸€ä¸ª<strong>JSON</strong>æ ¼å¼ï¼Œè§£æå¹¶ä¸”é€‰å–<strong>è¯†åˆ«åº¦</strong>æ¯”è¾ƒé«˜çš„</p><p><strong>æ³¨æ„</strong>ï¼šaccess tokenè¿‡ä¸€æ®µæ—¶é—´ä¼šå¤±æ•ˆï¼Œéœ€è¦æ›´æ–°</p><h3 id="2-2-çˆ¬è™«çˆ¬å–èœè°±"><a href="#2-2-çˆ¬è™«çˆ¬å–èœè°±" class="headerlink" title="2.2 çˆ¬è™«çˆ¬å–èœè°±"></a>2.2 çˆ¬è™«çˆ¬å–èœè°±</h3><ul><li><p>å®ç°åŠŸèƒ½</p><p>ç»™åå°æä¾›ä¸€ä¸ªå¿«é€Ÿæ·»åŠ å¤šä¸ªé£Ÿè°±çš„æ¥å£</p><p><strong>èœè°±ä¸»é¡µ</strong>å¦‚ä¸‹ï¼š</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230809144428779.png" alt="image-20230809144428779"></p></li><li><p>å¤–éƒ¨æ¥å£</p><p>çˆ¬å–ç½‘ç«™ç½‘å€ï¼š<a href="https://www.meishichina.com/">ç¾é£Ÿå¤©ä¸‹_åŸåˆ›èœè°±ä¸ç¾é£Ÿç”Ÿæ´»ç¤¾åŒºï¼Œæˆ‘æ‰€æœ‰çš„æœ‹å‹éƒ½æ˜¯åƒè´§ï¼ (meishichina.com)</a></p><p>è¯¥ç½‘å€çš„èœè°±åˆ†ç±»å½“ä¸­çš„å‰ç¼€æ˜¯ä¸€æ ·çš„ï¼Œå› æ­¤åªéœ€è¦æ”¹å˜åé¢çš„ç±»åˆ«åå­—å°±å¯ä»¥çˆ¬å–ä¸åŒçš„ç±»åˆ«å’Œä¸åŒçš„ç½‘é¡µã€‚</p></li><li><p>ä»£ç ç¤ºä¾‹ï¼ˆRecipeController + RecipeUtilï¼‰</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@PostMapping(&quot;/allRecipe&quot;)</span><br><span class="hljs-keyword">public</span> Result <span class="hljs-title function_">crawlRecipe</span><span class="hljs-params">(Integer category_id, Integer page)</span> <span class="hljs-keyword">throws</span> IOException, InterruptedException &#123;<br>    <span class="hljs-type">String</span> <span class="hljs-variable">name</span> <span class="hljs-operator">=</span> recipeService.getRecipeCategoryName(category_id);<br>    List&lt;RecipeDTO&gt; recipeDTOList = crawlRecipeList(page, category_id, name);<br>    <span class="hljs-type">Integer</span> <span class="hljs-variable">count</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span> (RecipeDTO dto : recipeDTOList) &#123;<br>        <span class="hljs-comment">//å…ˆåˆ¤æ–­æ˜¯å¦å·²ç»å­˜åœ¨</span><br>        <span class="hljs-type">Integer</span> <span class="hljs-variable">recipeId</span> <span class="hljs-operator">=</span> recipeService.getRecipeIdByName(dto.getTitle());<br>        <span class="hljs-keyword">if</span> (recipeId == <span class="hljs-literal">null</span>) &#123;<br>            addRecipe(dto);<br>            count++;<span class="hljs-comment">//è‹¥æ–°å¢ä¸€ä¸ªè®°å½•ä¸€æ¬¡</span><br>        &#125; <span class="hljs-keyword">else</span><br>            System.out.println(<span class="hljs-string">&quot;ã€Š&quot;</span> + dto.getTitle() + <span class="hljs-string">&quot;ã€‹é£Ÿè°±å·²ç»å­˜åœ¨&quot;</span>);<br>    &#125;<br>    Pair&lt;String, Integer&gt; recipeNum = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Pair</span>&lt;&gt;(<span class="hljs-string">&quot;æ–°å¢èœè°±æ•°é‡ï¼š&quot;</span>, count);<br>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Result</span>&lt;&gt;(<span class="hljs-number">200</span>, recipeNum);<br>&#125;<br></code></pre></td></tr></table></figure><p>çˆ¬è™«çš„ä»£ç å†RecipeUtilçš„<code>crawlRecipeList()</code>å‡½æ•°é‡Œé¢</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">static</span> List&lt;RecipeDTO&gt; recipeDTOList;<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> List&lt;RecipeDTO&gt; <span class="hljs-title function_">crawlRecipeList</span><span class="hljs-params">(Integer page,Integer category_id,String name)</span> <span class="hljs-keyword">throws</span> IOException, InterruptedException &#123;<br>    <span class="hljs-comment">//åˆå§‹åŒ–æ•°æ®</span><br>    initWebMap();<br>    recipeDTOList = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br>    name = webMap.get(name);<br>    <span class="hljs-type">String</span> <span class="hljs-variable">url</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;https://home.meishichina.com/recipe/&quot;</span> + name + <span class="hljs-string">&quot;/page/&quot;</span> + page;<br>    <span class="hljs-type">Document</span> <span class="hljs-variable">document</span> <span class="hljs-operator">=</span> Jsoup.connect(url).get();<br>    <span class="hljs-comment">// ä½¿ç”¨ cssé€‰æ‹©å™¨ æå–åˆ—è¡¨æ–°é—» a æ ‡ç­¾</span><br>    <span class="hljs-comment">// &lt;a href=&quot;https://voice.hupu.com/nba/2484553.html&quot; target=&quot;_blank&quot;&gt;éœåå¾·ï¼šå¤ä¼‘æœŸå†…æ›¾èŠ‚é£Ÿ30å¤©ï¼Œè¿™è€ƒéªŒäº†æˆ‘çš„èº«å¿ƒ&lt;/a&gt;</span><br>    <span class="hljs-type">Elements</span> <span class="hljs-variable">elements</span> <span class="hljs-operator">=</span> document.select(<span class="hljs-string">&quot;div.ui_newlist_1 &gt; ul &gt; li &gt; div &gt; a[href]&quot;</span>);<span class="hljs-comment">//è¿™é‡Œå»ç­›é€‰è¢«h2åŒ…è£¹ä½çš„aæ ‡ç­¾ï¼Œä½¿ç”¨ä¸€å±‚çˆ¶çº§å…ƒç´ </span><br>    <span class="hljs-keyword">for</span> (Element element: elements)&#123;<br>        <span class="hljs-comment">// è·å–è¯¦æƒ…é¡µé“¾æ¥</span><br>        <span class="hljs-type">String</span> <span class="hljs-variable">d_url</span> <span class="hljs-operator">=</span> element.attr(<span class="hljs-string">&quot;href&quot;</span>);<br>        <span class="hljs-comment">//è·å–å¹¶è¿‡æ»¤å…¶ä»–æ ‡é¢˜</span><br>        <span class="hljs-type">String</span> <span class="hljs-variable">title</span> <span class="hljs-operator">=</span> element.select(<span class="hljs-string">&quot;a&quot;</span>).attr(<span class="hljs-string">&quot;title&quot;</span>);<br>        <span class="hljs-comment">//è·å–å°é¢url</span><br>        <span class="hljs-type">String</span> <span class="hljs-variable">cover_url</span> <span class="hljs-operator">=</span> element.select(<span class="hljs-string">&quot;img&quot;</span>).attr(<span class="hljs-string">&quot;data-src&quot;</span>);<br><br>        <span class="hljs-type">String</span> <span class="hljs-variable">line</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;é£Ÿè°±æ ‡é¢˜ï¼šã€Š&quot;</span>+title+<span class="hljs-string">&quot;ã€‹ ,è¯¦æƒ…é¡µé“¾æ¥ï¼š&quot;</span><br>                + d_url;<br>        System.out.println(line);<br>        System.out.println(<span class="hljs-string">&quot;å°é¢é“¾æ¥ï¼š &quot;</span> + cover_url);<br>        <span class="hljs-comment">//å°†recipeå±æ€§è¿›è¡Œè®¾ç½®</span><br>        <span class="hljs-type">RecipeDTO</span> <span class="hljs-variable">recipeDTO</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">RecipeDTO</span>();<br>        recipeDTO.setCategoryId(category_id);<br>        recipeDTO.setTitle(title);<br>        recipeDTO.setCoverUrl(cover_url);<br>        <span class="hljs-comment">//çˆ¬å–èœè°±å…·ä½“å†…å®¹</span><br>        crawlRecipeDetail(d_url,recipeDTO);<br>        recipeDTOList.add(recipeDTO);<br>        System.out.println(<span class="hljs-string">&quot;-----------------\n---------------------&quot;</span>);<br>    &#125;<br>    <span class="hljs-keyword">return</span> recipeDTOList;&#125;<br></code></pre></td></tr></table></figure><p>è§£æï¼šä¸»è¦é€šè¿‡Jsoupåº“æ¥å®ç°æ•°æ®çš„çˆ¬å–ï¼Œæ­¥éª¤å¦‚ä¸‹ï¼š</p><ol><li>çˆ¬å–æ•´ä¸ªç½‘é¡µ</li><li>è‡ªå·±æŸ¥çœ‹éœ€è¦çš„èœè°±ä¿¡æ¯åœ¨å“ªäº›htmlçš„æ ‡ç­¾ä¸‹</li><li>è·å–ç‰¹å®šçš„æ ‡ç­¾å†…å®¹ï¼ˆä¾‹å¦‚divï¼Œaï¼Œhrefï¼Œimgç­‰ï¼‰</li><li>æ”¾å…¥<code>recipeDTO</code>ç±»å½“ä¸­ï¼ˆè¯¥ç±»å°†recipeç›¸å…³çš„å‡ ä¸ªè¡¨å…ƒç´ åˆå¹¶åˆ°äº†ä¸€èµ·ï¼‰</li></ol></li></ul><h3 id="2-3-Elastic-Searchå®ç°æ¨¡ç³Šæœç´¢èœè°±"><a href="#2-3-Elastic-Searchå®ç°æ¨¡ç³Šæœç´¢èœè°±" class="headerlink" title="2.3 Elastic Searchå®ç°æ¨¡ç³Šæœç´¢èœè°±"></a>2.3 Elastic Searchå®ç°æ¨¡ç³Šæœç´¢èœè°±</h3><blockquote><p>æœ€éš¾çš„ä¸€ä¸ªéƒ¨åˆ†</p></blockquote><p>ç”±äºå†…å®¹è¾ƒå¤šï¼Œå†™åœ¨å¦ä¸€ç¯‡æ–‡ç« é‡Œé¢</p><p>[Springbootä½¿ç”¨Elastic Searchæ•™ç¨‹](.&#x2F;Springbootä½¿ç”¨Elastic Searchæ•™ç¨‹.md)</p>]]></content>
    
    
    <categories>
      
      <category>æœ¬ç§‘</category>
      
      <category>å¤§ä¸‰ä¸‹</category>
      
      <category>è½¯å·¥å®è®­</category>
      
    </categories>
    
    
    <tags>
      
      <tag>åç«¯</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ä¼ è¾“å±‚çŸ¥è¯†æ€»ç»“</title>
    <link href="/2023/06/21/%E6%9C%AC%E7%A7%91/%E5%A4%A7%E4%B8%89%E4%B8%8B/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E4%BC%A0%E8%BE%93%E5%B1%82%E7%9F%A5%E8%AF%86%E6%80%BB%E7%BB%93/"/>
    <url>/2023/06/21/%E6%9C%AC%E7%A7%91/%E5%A4%A7%E4%B8%89%E4%B8%8B/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E4%BC%A0%E8%BE%93%E5%B1%82%E7%9F%A5%E8%AF%86%E6%80%BB%E7%BB%93/</url>
    
    <content type="html"><![CDATA[<h1 id="ä¼ è¾“å±‚çŸ¥è¯†æ€»ç»“"><a href="#ä¼ è¾“å±‚çŸ¥è¯†æ€»ç»“" class="headerlink" title="ä¼ è¾“å±‚çŸ¥è¯†æ€»ç»“"></a>ä¼ è¾“å±‚çŸ¥è¯†æ€»ç»“</h1><hr><p>[TOC]</p><h2 id="1-ä¼ è¾“å±‚åŸºæœ¬åŠŸèƒ½"><a href="#1-ä¼ è¾“å±‚åŸºæœ¬åŠŸèƒ½" class="headerlink" title="1. ä¼ è¾“å±‚åŸºæœ¬åŠŸèƒ½"></a>1. ä¼ è¾“å±‚åŸºæœ¬åŠŸèƒ½</h2><p><strong>æ ¹æœ¬ç›®çš„</strong>ï¼šåœ¨ç½‘ç»œå±‚æä¾›çš„æ•°æ®é€šä¿¡æœåŠ¡åŸºç¡€ä¸Šï¼Œå®ç°ä¸»æœº<strong>è¿›ç¨‹é—´å¯é </strong>æœåŠ¡ï¼Œå®ç°â€œ<strong>ç«¯åˆ°ç«¯</strong>â€æœåŠ¡ï¼ˆä¸»æœº-ä¸»æœº â†’ ç«¯-ç«¯ï¼‰</p><p><strong>åº”ç”¨è¿›ç¨‹æ ‡è¯†ï¼š</strong></p><p>è¿›ç¨‹æ ‡è¯†<strong>ä¸‰å…ƒç»„</strong>ï¼šåè®®ã€æœ¬åœ°åœ°å€ã€æœ¬åœ°ç«¯å£ï¼Œä¹Ÿå«åŠç›¸å…³</p><p>â€¢æ¯”å¦‚ï¼šTCP, 202.1.2.5:3022</p><p>Ã˜è¿›ç¨‹é€šä¿¡æ ‡è¯†<strong>äº”å…ƒç»„</strong>ï¼ˆ<strong>å”¯ä¸€æ ‡è¯†</strong>ï¼‰ï¼šåè®®ã€æœ¬åœ°åœ°å€ã€æœ¬åœ°ç«¯å£ã€è¿œç¨‹åœ°å€ã€è¿œç¨‹ç«¯å£å·ï¼Œä¹Ÿå«å…¨ç›¸å…³</p><h2 id="2-UDP"><a href="#2-UDP" class="headerlink" title="2. UDP"></a>2. UDP</h2><h3 id="2-1-UDPåè®®ä¸»è¦ç‰¹ç‚¹"><a href="#2-1-UDPåè®®ä¸»è¦ç‰¹ç‚¹" class="headerlink" title="2.1 UDPåè®®ä¸»è¦ç‰¹ç‚¹"></a>2.1 UDPåè®®ä¸»è¦ç‰¹ç‚¹</h3><ul><li><strong>æ— è¿æ¥ã€ä¸å¯é </strong>ï¼šå¼€é”€ä½ã€å°½åŠ›è€Œä¸º</li><li><strong>é¢å‘æŠ¥æ–‡</strong>çš„ä¼ è¾“å±‚åè®®ï¼šUDP å¯¹åº”ç”¨å±‚ä¼ é€’ä¸‹æ¥çš„æŠ¥æ–‡ï¼Œæ—¢ä¸åˆå¹¶ï¼Œä¹Ÿä¸æ‹†åˆ†ï¼Œè€Œæ˜¯ä¿ç•™è¿™äº›æŠ¥æ–‡çš„è¾¹ç•Œã€‚UDP å±‚ä¸€æ¬¡å‘å¯¹æ–¹äº¤ä»˜ä¸€ä¸ªå®Œæ•´çš„æŠ¥æ–‡</li><li><strong>æ²¡æœ‰æ‹¥å¡æ§åˆ¶</strong>ï¼šç½‘ç»œå‡ºç°çš„æ‹¥å¡æ—¶ï¼ŒUDPä¸ä¼šä½¿æºä¸»æœºçš„å‘é€é€Ÿç‡é™ä½ï¼Œé€‚åˆå®æ—¶é€šä¿¡åº”ç”¨</li><li><strong>é¦–éƒ¨å¼€é”€å°</strong>ï¼šåªæœ‰8å­—èŠ‚</li><li>æä¾›<strong>å¤ç”¨&#x2F;åˆ†ç”¨</strong></li></ul><h3 id="2-2-UDPæ•°æ®æŠ¥æ ¼å¼-ï¼ˆä¸åŒ…æ‹¬ä¼ªé¦–éƒ¨ï¼ï¼‰"><a href="#2-2-UDPæ•°æ®æŠ¥æ ¼å¼-ï¼ˆä¸åŒ…æ‹¬ä¼ªé¦–éƒ¨ï¼ï¼‰" class="headerlink" title="2.2 UDPæ•°æ®æŠ¥æ ¼å¼ ï¼ˆä¸åŒ…æ‹¬ä¼ªé¦–éƒ¨ï¼ï¼‰"></a>2.2 UDPæ•°æ®æŠ¥æ ¼å¼ ï¼ˆä¸åŒ…æ‹¬ä¼ªé¦–éƒ¨ï¼ï¼‰</h3><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230625164719657.png" alt="image-20230625164719657"></p><p>**ç«¯å£å·ï¼š**åŒ…æ‹¬æºç«¯å£å·å’Œç›®çš„ç«¯å£å·ï¼Œåˆ†åˆ«è¡¨ç¤ºå‘é€æ–¹å’Œæ¥æ”¶æ–¹çš„è¿›ç¨‹ç«¯å£å·ï¼Œå„ä¸º2å­—èŠ‚</p><p><strong>UDPæ€»é•¿åº¦</strong>ï¼š<strong>åŒ…æ‹¬æŠ¥å¤´</strong>åœ¨å†…çš„ç”¨æˆ·æ•°æ®æŠ¥çš„æ€»é•¿åº¦ï¼Œ2å­—èŠ‚ï¼ˆ<strong>ä¸åŒ…æ‹¬ä¼ªé¦–éƒ¨</strong>ï¼‰</p><p>**æ ¡éªŒå’Œï¼š**ç”¨äºæ£€æŸ¥æ•´ä¸ªæ•°æ®æŠ¥ï¼ˆå«æŠ¥å¤´ï¼‰æ˜¯å¦ä¼ è¾“å‡ºé”™ï¼Œ<strong>å¯é€‰</strong>ï¼Œè‹¥æ— ï¼Œå¡«0ï¼ˆTCPæ˜¯å¿…é€‰ï¼‰</p><h3 id="2-3-æ ¡éªŒå’Œè®¡ç®—"><a href="#2-3-æ ¡éªŒå’Œè®¡ç®—" class="headerlink" title="2.3 æ ¡éªŒå’Œè®¡ç®—"></a>2.3 æ ¡éªŒå’Œè®¡ç®—</h3><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230629172347620.png" alt="image-20230629172347620"></p><p>ä»¥ä¸‹ä¸¤ç§è¯´æ³•éƒ½æ˜¯æ²¡é”™çš„ï¼š</p><ul><li><p>UDPæ ¡éªŒå’Œå­—æ®µçš„è®¡ç®—æœºåŒ…æ‹¬ä¸€ä¸ªä¼ªé¦–éƒ¨ã€UDPé¦–éƒ¨å’Œæºå¸¦çš„ç”¨æˆ·æ•°æ®</p></li><li><p>UDPæ ¡éªŒå’Œå¯¹ä¼ªé¦–éƒ¨ã€UDPæŠ¥æ–‡å¤´ä»¥åŠåº”ç”¨å±‚æ•°æ®è¿›è¡Œæ ¡éªŒ</p></li></ul><h2 id="3-TCP"><a href="#3-TCP" class="headerlink" title="3. TCP"></a>3. TCP</h2><h3 id="3-1-TCPåè®®ä¸»è¦ç‰¹ç‚¹"><a href="#3-1-TCPåè®®ä¸»è¦ç‰¹ç‚¹" class="headerlink" title="3.1 TCPåè®®ä¸»è¦ç‰¹ç‚¹"></a>3.1 TCPåè®®ä¸»è¦ç‰¹ç‚¹</h3><ul><li>æ”¯æŒ<strong>é¢å‘è¿æ¥</strong>çš„æœåŠ¡ï¼šæ‰“ç”µè¯å¼ã€ä¼šè¯å¼é€šä¿¡</li><li>æ”¯æŒ<strong>å­—èŠ‚æµ</strong>ä¼ è¾“ï¼šå­—èŠ‚ç®¡é“ã€å­—èŠ‚æŒ‰åºä¼ è¾“å’Œåˆ°è¾¾</li><li>æ”¯æŒ<strong>å…¨åŒå·¥</strong>æœåŠ¡ï¼šä¸€ä¸ªåº”ç”¨è¿›ç¨‹å¯ä»¥åŒæ—¶æ”¶å‘æ•°æ®ã€æå¸¦ç¡®è®¤</li><li>æ”¯æŒå»ºç«‹å¤šä¸ª<strong>å¹¶å‘çš„</strong>TCPè¿æ¥**ï¼ˆæœåŠ¡å™¨åŒæ—¶å“åº”å¤šä¸ªè¿æ¥ï¼‰**</li><li><strong>æ”¯æŒ</strong>å¯é **ä¼ è¾“æœåŠ¡ï¼šä¸ä¸¢å¤±ã€ä¸é‡å¤ã€æœ‰åº</li></ul><h3 id="3-2-TCPæŠ¥æ–‡æ ¼å¼"><a href="#3-2-TCPæŠ¥æ–‡æ ¼å¼" class="headerlink" title="3.2 TCPæŠ¥æ–‡æ ¼å¼"></a>3.2 TCPæŠ¥æ–‡æ ¼å¼</h3><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230625211240920.png" alt="image-20230625211240920"></p><ul><li><p>çª—å£å€¼ï¼šæŒ‡ç¤ºå½“å‰è¿›ç¨‹å¯ä»¥æ¥æ”¶çš„æ•°æ®é•¿åº¦</p><ul><li><p>å‡†å¤‡æ¥æ”¶ä¸‹ä¸€ä¸ªTCPæŠ¥æ–‡çš„æ¥æ”¶æ–¹ï¼Œé€šçŸ¥å³å°†å‘é€æŠ¥æ–‡çš„å‘é€æ–¹ä¸‹ä¸€ä¸ªæŠ¥æ–‡ä¸­æœ€å¤šå¯ä»¥å‘é€çš„å­—èŠ‚æ•°ï¼Œ    </p><p> æ˜¯å‘é€æ–¹ç¡®å®š<strong>å‘é€çª—å£</strong>çš„ä¾æ®ï¼Œæ˜¯<strong>åŠ¨æ€å¯å˜</strong>çš„ã€‚</p></li></ul></li><li><p><strong>å¤´éƒ¨é•¿åº¦</strong>ï¼šå›ºå®šéƒ¨åˆ†ä¸º20ï¼Œé€‰é¡¹éƒ¨åˆ†ä¸º0<del>40ï¼Œæ‰€ä»¥TCPå¤´éƒ¨é•¿åº¦ä¸º20</del>60å­—èŠ‚</p></li><li><p><strong>æ ¡éªŒå’Œ</strong>ï¼š</p><ul><li>ä¸UDPæ ¡éªŒå’Œçš„<strong>ç›¸åŒç‚¹</strong>ï¼š1ï¼‰è®¡ç®—æ–¹å¼ç›¸åŒï¼›2ï¼‰ä¹Ÿéœ€è¦ä¼ªé¦–éƒ¨ã€‚</li><li>ä¸UDPæ ¡éªŒå’Œçš„<strong>ä¸åŒç‚¹</strong>ï¼š1ï¼‰UDPæ ¡éªŒå’Œå¯é€‰ï¼ŒTCPæ ¡éªŒå’Œå¿…é¡»ï¼›2ï¼‰ä¼ªé¦–éƒ¨åè®®å­—æ®µå€¼ä¸º6ã€‚</li></ul></li></ul><h3 id="3-3-ä¼ è¾“æ§åˆ¶åè®®"><a href="#3-3-ä¼ è¾“æ§åˆ¶åè®®" class="headerlink" title="3.3  ä¼ è¾“æ§åˆ¶åè®®"></a>3.3  ä¼ è¾“æ§åˆ¶åè®®</h3><p><strong>TCPæœ€å¤§æ®µé•¿åº¦ï¼ˆMSSï¼‰</strong>ï¼š</p><p><strong>å®šä¹‰ï¼š<strong>TCPæŠ¥æ–‡</strong>æ•°æ®éƒ¨åˆ†</strong>çš„æœ€å¤§é•¿åº¦ï¼Œ<strong>ä¸åŒ…æ‹¬TCPæŠ¥å¤´é•¿åº¦</strong>ã€‚é»˜è®¤å€¼ä¸º<strong>536****å­—èŠ‚</strong></p><p><strong>MSSå’Œçª—å£å­—æ®µå’ŒMTUçš„åŒºåˆ«</strong>ï¼š </p><p><strong>MSS</strong>æ˜¯TCPæŠ¥æ–‡æ®µä¸­æ•°æ®éƒ¨åˆ†çš„æœ€å¤§é•¿åº¦ï¼Œå¦‚æœä¸Šå±‚äº¤ä»˜ä¸‹æ¥çš„æ•°æ®è¶…è¿‡MSSå°±è¦å¯¹äº¤ä»˜ä¸‹æ¥çš„æ•°æ®è¿›è¡Œåˆ†æ®µã€‚åœ¨TCPè¿æ¥çš„ç¬¬ä¸€æ¬¡ã€ç¬¬äºŒæ¬¡æ¡æ‰‹ä¸­ä¼šåˆ†åˆ«å‘ŠçŸ¥å¯¹æ–¹MSSï¼Œä»è€Œèµ·åˆ°é€šä¿¡åŒæ–¹åå•†MSSçš„æ•ˆæœã€‚</p><p><strong>MTU</strong>ï¼š Maximum Transmit Unitï¼Œæœ€å¤§ä¼ è¾“å•å…ƒï¼Œå³ç‰©ç†æ¥å£ï¼ˆ<a href="https://so.csdn.net/so/search?q=%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82&spm=1001.2101.3001.7020">æ•°æ®é“¾è·¯å±‚</a>ï¼‰æä¾›ç»™å…¶ä¸Šå±‚ï¼ˆé€šå¸¸æ˜¯IPå±‚ï¼‰æœ€å¤§ä¸€æ¬¡ä¼ è¾“æ•°æ®çš„å¤§å°ï¼›ä»¥æ™®éä½¿ç”¨çš„ä»¥å¤ªç½‘æ¥å£ä¸ºä¾‹ï¼Œç¼ºçœMTU&#x3D;1500 Byteï¼Œè¿™æ˜¯ä»¥å¤ªç½‘æ¥å£å¯¹IPå±‚çš„çº¦æŸï¼Œå¦‚æœIPå±‚æœ‰&lt;&#x3D;1500 byte éœ€è¦å‘é€ï¼Œåªéœ€è¦ä¸€ä¸ªIPåŒ…å°±å¯ä»¥å®Œæˆå‘é€ä»»åŠ¡ï¼›å¦‚æœIPå±‚æœ‰&gt; 1500 byte æ•°æ®éœ€è¦å‘é€ï¼Œéœ€è¦åˆ†ç‰‡æ‰èƒ½å®Œæˆå‘é€ï¼Œè¿™äº›åˆ†ç‰‡æœ‰ä¸€ä¸ªå…±åŒç‚¹ï¼Œå³IP Header IDç›¸åŒã€‚</p><p><img src="https://iknow-pic.cdn.bcebos.com/810a19d8bc3eb135e1c04ec7b61ea8d3fd1f4443?x-bce-process=image/resize,m_lfit,w_600,h_800,limit_1/quality,q_85/format,f_auto" alt="img"></p><p>**çª—å£ï¼š**TCPæŠ¥æ–‡æ®µé¦–éƒ¨ä¸­ï¼Œâ€œçª—å£å¤§å°â€å­—æ®µé€šå¸¸ç”¨äºå‘ŠçŸ¥å¯¹æ–¹è‡ªå·±çš„èƒ½å¤Ÿæ¥å—çš„æ•°æ®é‡å¤§å°ã€‚çª—å£æœ¬è´¨å°±æ˜¯ä¸€ä¸ªç¼“å†²åŒºbufferï¼Œè¯¥å­—æ®µçš„å€¼ç”¨äºå‘ŠçŸ¥å¯¹æ–¹è‡ªå·±å‰©ä½™çš„å¯ç”¨ç¼“å†²åŒºå¤§å°ã€‚åœ¨æ¯ä¸€ä¸ªTCPæŠ¥æ–‡æ®µä¸­éƒ½ä¼šé€šè¿‡â€œçª—å£â€å­—æ®µå‘ŠçŸ¥å¯¹æ–¹è‡ªå·±çš„æ‰€èƒ½æ¥æ”¶æ•°æ®çš„å¤§å°ã€‚çª—å£å¤§å°é€šå¸¸ç”¨æ»‘åŠ¨çª—å£æµé‡æ§åˆ¶ã€‚</p><h3 id="3-4-TCPåŸºæœ¬é€šä¿¡è¿‡ç¨‹ï¼š"><a href="#3-4-TCPåŸºæœ¬é€šä¿¡è¿‡ç¨‹ï¼š" class="headerlink" title="3.4 TCPåŸºæœ¬é€šä¿¡è¿‡ç¨‹ï¼š"></a>3.4 TCPåŸºæœ¬é€šä¿¡è¿‡ç¨‹ï¼š</h3><p>è¿æ¥å»ºç«‹ï¼š</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230625213051169.png" alt="image-20230625213051169"></p><p>ACKä»£è¡¨æƒ³è¦æ”¶åˆ°çš„ä¸‹ä¸€ä¸ªå­—èŠ‚çš„åºå·å¼€å¤´ã€‚</p><p>é‡Šæ”¾è¿æ¥ï¼š</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230625213300260.png" alt="image-20230625213300260"></p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230625213317566.png" alt="image-20230625213317566"></p><p>é—®é¢˜ï¼š<strong>ä¸ºä½•ä¸é‡‡ç”¨ä¸‰æ¬¡æ¡æ‰‹é‡Šæ”¾è¿æ¥ï¼Œè€Œä¸”å‘é€æœ€åä¸€æ¬¡æ¡æ‰‹æŠ¥æ–‡åè¦ç­‰åˆ°2MSLçš„æ—¶é—´å‘¢ï¼Ÿ</strong><br>1)ä¿è¯Aå‘é€çš„æœ€åä¸€ä¸ªç¡®è®¤æŠ¥æ–‡æ®µèƒ½å¤Ÿåˆ°è¾¾Bï¼Œå¦‚æœAä¸ç­‰å¾…2MSLï¼Œå½“Aè¿”å›çš„æœ€åç¡®è®¤æŠ¥æ–‡æ®µä¸¢å¤±çš„ï¼Œé‚£ä¹ˆå°±ä¼šå¯¼è‡´Bä¸èƒ½è¿›å…¥æ­£å¸¸å…³é—­çŠ¶æ€ï¼Œè€Œä¸”å°±ç®—Bæ­¤æ—¶å†æ¬¡å‘é€äº†ä¸€ä¸ªFIN&#x3D;1çš„ç»“æŸæŠ¥æ–‡ï¼ŒAç”±äºæ­¤æ—¶å·²ç»å…³é—­äº†ï¼Œä¹Ÿä¸èƒ½å†æ¬¡é‡ä¼ äº†ã€‚Bå°±è¢«åŠç€äº†</p><h2 id="4-TCPæ»‘åŠ¨çª—å£ä¸è¶…æ—¶é‡ä¼ "><a href="#4-TCPæ»‘åŠ¨çª—å£ä¸è¶…æ—¶é‡ä¼ " class="headerlink" title="4. TCPæ»‘åŠ¨çª—å£ä¸è¶…æ—¶é‡ä¼ "></a>4. TCPæ»‘åŠ¨çª—å£ä¸è¶…æ—¶é‡ä¼ </h2><h3 id="4-1-TCPæ»‘åŠ¨çª—å£"><a href="#4-1-TCPæ»‘åŠ¨çª—å£" class="headerlink" title="4.1 TCPæ»‘åŠ¨çª—å£"></a>4.1 TCPæ»‘åŠ¨çª—å£</h3><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230626111232396.png" alt="image-20230626111232396"></p><p>æ»‘åŠ¨çª—å£çš„ç‰¹ç‚¹ï¼š</p><ul><li>ä½¿ç”¨å‘é€å’Œæ¥å—ç¼“å†²åŒºï¼Œä»¥åŠæ»‘åŠ¨çª—å£æœºåˆ¶æ§åˆ¶TCPè¿æ¥ä¸Šçš„å­—èŠ‚ä¼ è¾“</li><li>TCPæ»‘åŠ¨çª—å£é¢å‘å­—èŠ‚æµï¼Œå¯ä»¥èµ·åˆ°<strong>å·®é”™æ§åˆ¶</strong>å’Œ<strong>æµé‡æ§åˆ¶</strong>ä½œç”¨</li><li>æ¥æ”¶æ–¹å¯ä»¥åœ¨ä»»ä½•æ—¶å€™å‘é€ç¡®è®¤ï¼Œçª—å£å¤§å°å¯ç”±æ¥æ”¶æ–¹æ ¹æ®éœ€è¦å¢å¤§æˆ–å‡å°‘</li><li>å‘é€çª—å£å€¼<strong>ä¸èƒ½è¶…è¿‡</strong>æ¥æ”¶çª—å£å€¼ï¼Œå‘é€æ–¹å¯ä»¥æ ¹æ®<strong>è‡ªèº«éœ€è¦æ¥å†³å®š</strong></li></ul><p><strong>ç¡®è®¤é‡ä¼ æœºåˆ¶ï¼š</strong></p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230626111519354.png" alt="image-20230626111519354"></p><h3 id="4-2-è¶…æ—¶é‡ä¼ "><a href="#4-2-è¶…æ—¶é‡ä¼ " class="headerlink" title="4.2 è¶…æ—¶é‡ä¼ "></a>4.2 è¶…æ—¶é‡ä¼ </h3><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230626111610137.png" alt="image-20230626111610137"></p><h3 id="4-3-å„ç§å®šæ—¶å™¨ï¼š"><a href="#4-3-å„ç§å®šæ—¶å™¨ï¼š" class="headerlink" title="4.3 å„ç§å®šæ—¶å™¨ï¼š"></a>4.3 å„ç§å®šæ—¶å™¨ï¼š</h3><p>å››ä¸ªå®šæ—¶å™¨çš„ç›¸å…³é“¾æ¥ï¼š[TCPåè®®ä¸­çš„è®¡æ—¶å™¨ - è¯·å«æˆ‘å°å°å…½ - åšå®¢å›­ (cnblogs.com)](<a href="https://www.cnblogs.com/qingjiaowoxiaoxioashou/p/6506082.html#:~:text=TCP%E4%B8%AD%E6%9C%89%E5%9B%9B%E7%A7%8D%E8%AE%A1%E6%97%B6%E5%99%A8%EF%BC%88Timer%EF%BC%89%EF%BC%8C%E5%88%86%E5%88%AB%E4%B8%BA%EF%BC%9A">https://www.cnblogs.com/qingjiaowoxiaoxioashou/p/6506082.html#:~:text=TCPä¸­æœ‰å››ç§è®¡æ—¶å™¨ï¼ˆTimerï¼‰ï¼Œåˆ†åˆ«ä¸ºï¼š</a> 1.é‡ä¼ è®¡æ—¶å™¨ï¼šRetransmission Timer 2.åšæŒè®¡æ—¶å™¨ï¼šPersistent,Timer 3.ä¿æ´»è®¡æ—¶å™¨ï¼šKeeplive Timer 4.æ—¶é—´ç­‰å¾…è®¡æ—¶å™¨ï¼šTimer_Wait Timer)</p><ul><li>é‡ä¼ å®šæ—¶å™¨ï¼šç”¨äºæ§åˆ¶TCPä¼ è¾“è¿‡ç¨‹ä¸­æŠ¥æ–‡ç¡®è®¤ä¸<strong>ç­‰å¾…é‡ä¼ </strong>çš„æ—¶é—´</li><li>åšæŒè®¡æ—¶å™¨ï¼šç”¨äºæµé‡æ§åˆ¶ä¸­ï¼Œä¸¢å¤±äº†â€œ<strong>éé›¶çª—å£</strong>â€çš„é€šçŸ¥åå‡ºç°ä¸€ç›´ç­‰å¾…çš„æƒ…å†µ</li><li>ä¿æŒå®šæ—¶å™¨ï¼šç”¨äºé˜²æ­¢å‡ºç°<strong>é•¿æ—¶é—´çš„ç©ºé—²</strong>æ¯æ¬¡æ”¶åˆ°å®¢æˆ·ç«¯å‘æ¥çš„æ¶ˆæ¯å°±å¤ä½ï¼›å®šæ—¶å™¨è®¾å®šä¸º2å°æ—¶ï¼Œè¶…æ—¶åˆ™å‘é€æ¢æµ‹åŒ…ã€‚è¿ç»­åä¸ªæ¢æµ‹åŒ…è¿˜æ²¡æ”¶åˆ°å›åº”ï¼Œåˆ™ä¸­æ–­è¿æ¥ã€‚</li><li>æ—¶é—´ç­‰å¾…è®¡æ—¶å™¨ï¼šç”¨äºé‡Šæ”¾è¿æ¥ï¼Œä¹Ÿå°±æ˜¯<strong>å››æ¬¡æ¡æ‰‹</strong>çš„æ—¶å€™ï¼Œæ¯ä¸ªæ–¹å‘çš„è¿æ¥é‡Šæ”¾éœ€è¦å†ç­‰å¾…ä¸€æ®µæ—¶é—´æ‰èƒ½å…³é—­è¿æ¥ï¼Œè®¾ç½®ä¸ºæŠ¥æ–‡å¯¿å‘½ï¼ˆMSL maximum segment lifetimeï¼‰çš„ä¸¤å€ï¼Œä¹Ÿå°±æ˜¯2MSL</li></ul><h2 id="5-TCPçª—å£çš„æ‹¥å¡æ§åˆ¶å’Œæµé‡æ§åˆ¶"><a href="#5-TCPçª—å£çš„æ‹¥å¡æ§åˆ¶å’Œæµé‡æ§åˆ¶" class="headerlink" title="5. TCPçª—å£çš„æ‹¥å¡æ§åˆ¶å’Œæµé‡æ§åˆ¶"></a>5. TCPçª—å£çš„æ‹¥å¡æ§åˆ¶å’Œæµé‡æ§åˆ¶</h2><h3 id="5-1-æµé‡æ§åˆ¶"><a href="#5-1-æµé‡æ§åˆ¶" class="headerlink" title="5.1 æµé‡æ§åˆ¶"></a>5.1 æµé‡æ§åˆ¶</h3><h3 id="5-1-1å®šä¹‰ï¼š"><a href="#5-1-1å®šä¹‰ï¼š" class="headerlink" title="5.1.1å®šä¹‰ï¼š"></a>5.1.1å®šä¹‰ï¼š</h3><p>ç”±å‘é€æ–¹æ§åˆ¶å‘é€é€Ÿç‡ï¼Œä½¿ä¹‹ä¸è¶…è¿‡æ¥æ”¶é€Ÿç‡ï¼Œé˜²æ­¢æ¥æ”¶æ–¹æ¥ä¸åŠæ¥æ”¶å­—èŠ‚æµï¼Œè€Œå‡ºç°æŠ¥æ–‡ä¸¢å¤±ç°è±¡</p><p>TCPçš„å¤´éƒ¨çš„çª—å£å€¼ç”¨äº<strong>æµé‡æ§åˆ¶</strong></p><ul><li>æ¥æ”¶æ–¹ä»ç¼“å­˜ä¸­è¯»å–é€Ÿåº¦å¤§äºç­‰äºå­—èŠ‚åˆ°è¾¾é€Ÿåº¦ï¼Œæ¥æ”¶æ–¹åœ¨æ¯ä¸ªç¡®è®¤ä¸­å‘å‡ºä¸€ä¸ª<strong>éé›¶çª—å£</strong>é€šå‘Š</li><li>å¦‚æœå‘é€æ–¹å‘é€é€Ÿåº¦æ¯”æ¥æ”¶æ–¹è¯»å–é€Ÿåº¦å¿«ï¼Œå°†é€ æˆç¼“å†²åŒºè¢«å…¨éƒ¨å ç”¨ï¼Œä¹‹ååˆ°è¾¾çš„å­—èŠ‚å› ç¼“å†²åŒºæº¢å‡ºè€Œä¸¢å¼ƒã€‚æ­¤æ—¶ï¼Œæ¥æ”¶æ–¹å¿…é¡»å‘å‡ºä¸€ä¸ªâ€œ<strong>é›¶çª—å£</strong>â€çš„é€šå‘Šã€‚å‘ŠçŸ¥å½“å‘é€æ–¹åœæ­¢å‘é€ï¼ˆç›´åˆ°æ¥æ”¶â€œéé›¶çª—å£â€é€šå‘Šä¸ºæ­¢ï¼‰ã€‚</li><li>æ¥æ”¶æ–¹éœ€è¦æ¥æ”¶èƒ½åŠ›ç»™å‡ºä¸€ä¸ªåˆé€‚çš„<strong>æ¥æ”¶çª—å£</strong>ï¼Œå¹¶å°†å®ƒå†™å…¥TCPæŠ¥å¤´ä¸­ï¼Œé€šçŸ¥å‘é€æ–¹ã€‚æ¥æ”¶çª—å£åˆç§°ä¸º<strong>é€šçŸ¥çª—å£ï¼ˆrwndï¼‰</strong>ã€‚</li></ul><h3 id="5-1-2-ç³Šæ¶‚çª—å£ç»¼åˆå¾-Silly-Window-Syndrome-SWS-ï¼š"><a href="#5-1-2-ç³Šæ¶‚çª—å£ç»¼åˆå¾-Silly-Window-Syndrome-SWS-ï¼š" class="headerlink" title="5.1.2 ç³Šæ¶‚çª—å£ç»¼åˆå¾(Silly Window Syndrome, SWS)ï¼š"></a>5.1.2 ç³Šæ¶‚çª—å£ç»¼åˆå¾(Silly Window Syndrome, SWS)ï¼š</h3><p>â€¢å®šä¹‰ï¼šå°çš„æŠ¥æ–‡æ®µåœ¨TCPè¿æ¥ä¸Šä¼ è¾“ï¼Œå¯¼è‡´æœ‰æ•ˆæ•°æ®çš„é€šä¿¡æ•ˆç‡ä½ä¸‹ã€‚å°æŠ¥æ–‡æ®µçš„æ•°æ®å­—æ®µé•¿åº¦è¿œå°äºæŠ¥æ–‡æ®µé¦–éƒ¨é•¿åº¦20+IPé¦–éƒ¨é•¿åº¦20</p><p>â€¢SWSå¯ç”±TCPè¿æ¥çš„ä»»ä½•ä¸€ç«¯å¼•èµ·ï¼šæ¥æ”¶æ–¹é€šè¿‡çº¯ACKæŠ¥æ–‡æ®µå‘é€å°çš„çª—å£é€šå‘Šå¯¼è‡´SWSï¼›å‘é€æ–¹è¿‡äºç§¯æä¼ è¾“ç¼“å†²åŒºä¸­çš„å‰©ä½™æ•°æ®å¯¼è‡´SWS</p><h3 id="5-2-æ‹¥å¡æ§åˆ¶"><a href="#5-2-æ‹¥å¡æ§åˆ¶" class="headerlink" title="5.2 æ‹¥å¡æ§åˆ¶"></a>5.2 æ‹¥å¡æ§åˆ¶</h3><p><strong>åŸç†ï¼š</strong></p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230626113329398.png" alt="image-20230626113329398"></p><p><strong>æ…¢å¼€å§‹é˜¶æ®µä»¥åŠå›¾è§£ï¼š</strong></p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230626145149108.png" alt="image-20230626145149108"></p><p><strong>æ‹¥å¡é¿å…é˜¶æ®µï¼š</strong></p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230626145158053.png" alt="image-20230626145158053"></p><p>cwnd &gt;&#x3D; SSTçš„æ—¶å€™ä¼šå˜æˆ<strong>çº¿æ€§å¢é•¿</strong>ã€‚</p><p><strong>è®¡ç®—æ–¹æ³•ï¼š</strong></p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230629152724413.png" alt="image-20230629152724413"></p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230629175614610.png" alt="image-20230629175614610"></p><p><strong>å¿«é‡ä¼ ï¼š</strong></p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230626145430292.png" alt="image-20230626145430292"></p>]]></content>
    
    
    <categories>
      
      <category>æœ¬ç§‘</category>
      
      <category>å¤§ä¸‰ä¸‹</category>
      
      <category>è®¡ç®—æœºç½‘ç»œ</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ä¼ è¾“å±‚éš¾é¢˜</title>
    <link href="/2023/06/21/%E6%9C%AC%E7%A7%91/%E5%A4%A7%E4%B8%89%E4%B8%8B/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E4%BC%A0%E8%BE%93%E5%B1%82%E9%9A%BE%E9%A2%98/"/>
    <url>/2023/06/21/%E6%9C%AC%E7%A7%91/%E5%A4%A7%E4%B8%89%E4%B8%8B/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E4%BC%A0%E8%BE%93%E5%B1%82%E9%9A%BE%E9%A2%98/</url>
    
    <content type="html"><![CDATA[<h1 id="ä¼ è¾“å±‚éš¾é¢˜"><a href="#ä¼ è¾“å±‚éš¾é¢˜" class="headerlink" title="ä¼ è¾“å±‚éš¾é¢˜"></a>ä¼ è¾“å±‚éš¾é¢˜</h1><hr><ol><li><p>ä¼ è¾“å±‚ä¸ºï¼ˆ  B  ï¼‰ä¹‹é—´æä¾›é€»è¾‘é€šä¿¡ã€‚</p><p>A. ä¸»æœº B. è¿›ç¨‹ C. è·¯ç”±å™¨ D. æ“ä½œç³»ç»Ÿ</p></li><li><p>ä¸‹åˆ—å…³äºUDPæ ¡éªŒçš„æè¿°ä¸­ï¼Œï¼ˆ B   ï¼‰æ˜¯é”™è¯¯çš„ã€‚</p></li></ol><p>â€‹A. UDPæ ¡éªŒå’Œæ®µçš„ä½¿ç”¨æ˜¯å¯é€‰çš„ï¼Œå¦‚æœæºä¸»æœºä¸æƒ³è®¡ç®—æ ¡éªŒå’Œï¼Œé‚£ä¹ˆè¯¥æ ¡éªŒå’Œæ®µåº”ä¸ºå…¨0</p><p>â€‹B. åœ¨è®¡ç®—æ ¡éªŒå’Œçš„è¿‡ç¨‹ä¸­ï¼Œéœ€è¦ç”Ÿæˆä¸€ä¸ªä¼ªé¦–éƒ¨ï¼Œä¸»æœºéœ€è¦æŠŠè¯¥<strong>ä¼ªé¦–éƒ¨å‘é€</strong>ç»™ç›®çš„ä¸»æœº</p><p>â€‹C. å¦‚æœæ•°æ®æŠ¥åœ¨ä¼ è¾“è¿‡ç¨‹ä¸­è¢«ç ´åï¼Œé‚£ä¹ˆå°±æŠŠå®ƒä¸¢å¼ƒ</p><p>â€‹D. UDPæ•°æ®æŠ¥çš„ä¼ªé¦–éƒ¨åŒ…å«äº†IPåœ°å€ä¿¡æ¯</p><p>2è§£æï¼šä¼ªé¦–éƒ¨ä»…ä»…åœ¨å’Œç›®çš„ä¸»æœºæ ¡éªŒçš„æ—¶å€™å»ºç«‹ï¼Œ<strong>å¹¶ä¸å‘é€</strong></p><ol start="3"><li><p>Aå’ŒBå»ºç«‹äº†TCPè¿æ¥ï¼Œå½“Aæ”¶åˆ°ç¡®è®¤å·ä¸º100 çš„ç¡®è®¤æŠ¥æ–‡æ®µæ—¶ï¼Œè¡¨ç¤º( )ã€‚</p><p>A. æŠ¥æ–‡æ®µ99å·²æ”¶åˆ°</p><p>B. æŠ¥æ–‡æ®µ100å·²æ”¶åˆ°</p><p>C. æœ«å­—èŠ‚åºå·ä¸º99çš„æŠ¥æ–‡æ®µå·²æ”¶åˆ°</p><p>D. æœ«å­—èŠ‚åºå·ä¸º100çš„æŠ¥æ–‡æ®µå·²æ”¶åˆ°</p></li><li><p>.ä»¥ä¸‹å…³äºTCPæŠ¥å¤´æ ¼å¼çš„æè¿°ä¸­ï¼Œé”™è¯¯çš„æ˜¯ï¼ˆ D ï¼‰ã€‚</p><p>A. æŠ¥å¤´é•¿åº¦ä¸º20~60Bï¼Œå…¶ä¸­å›ºå®šéƒ¨åˆ†ä¸º20B</p><p>B. ç«¯å£å·å­—æ®µä¾æ¬¡è¡¨ç¤ºæºç«¯å£å·ä¸ç›®çš„ç«¯å£å·</p><p>C.æŠ¥å¤´é•¿åº¦æ€»æ˜¯4çš„å€æ•°ä¸ªå­—èŠ‚</p><p>D. TCPæ ¡éªŒå’Œä¼ªé¦–éƒ¨ä¸­IPåˆ†ç»„å¤´çš„åè®®å­—æ®µä¸º17</p></li></ol><p>4è§£æï¼šTCPçš„åè®®å·ç¡®è®¤åº”è¯¥ä¸º6ï¼Œ17æ˜¯UDPçš„</p><ol start="5"><li><p>. ä¸‹åˆ—å…³äº TCP åè®®çš„å››ä¸ªæè¿°ä¸­ï¼Œé”™è¯¯çš„æ˜¯ï¼ˆ â…  å’Œâ…¡ ï¼‰</p><p>â… . æ‹¥å¡çª—å£ï¼ˆcwndï¼‰æ˜¯æ¥æ”¶ç«¯æ ¹æ®ç½‘ç»œæ‹¥å¡æƒ…å†µç¡®å®šçš„çª—å£å€¼ï¼Œå…¶å¤§å°åœ¨å¼€å§‹æ—¶å¯</p><p>ä»¥æŒ‰æŒ‡æ•°è§„å¾‹å¢é•¿ã€‚</p><p>â…¡. TCP è¿æ¥å»ºç«‹çš„è¿‡ç¨‹éœ€è¦ç»è¿‡â€œä¸‰æ¬¡æ¡æ‰‹â€çš„è¿‡ç¨‹ï¼Œè€Œé‡Šæ”¾è¿‡ç¨‹ç›¸å¯¹å¤æ‚ä¸”åªæœ‰</p><p>å®¢æˆ·ç«¯å¯ä»¥ä¸»åŠ¨æå‡ºé‡Šæ”¾è¿æ¥çš„è¯·æ±‚ã€‚</p><p>â…¢. æ¥æ”¶çª—å£ï¼ˆrwndï¼‰é€šè¿‡ TCP é¦–éƒ¨ä¸­çš„çª—å£å­—æ®µé€šçŸ¥æ•°æ®çš„å‘é€æ–¹ã€‚</p><p>â…£. å‘é€çª—å£ç¡®å®šçš„ä¾æ®æ˜¯ï¼šå‘é€çª—å£&#x3D;min[æ¥æ”¶çª—å£ï¼Œæ‹¥å¡çª—å£]</p></li></ol><p>5è§£æï¼ŒAæ˜¯æ‹¥å¡çª—å£ï¼Œåº”å½“ç”±å‘é€æ–¹æ¥å†³å®šï¼Œæ¥æ”¶æ–¹å†³å®šçš„æ˜¯rwnd</p><ol start="6"><li><p>ä»¥ä¸‹å…³äºTCPä½¿ç”¨çš„å®šæ—¶å™¨è¯´æ³•é”™è¯¯çš„æ˜¯</p><p>A. è®¾ç½®é‡ä¼ è®¡æ—¶å™¨çš„ç›®çš„æ˜¯æ§åˆ¶æŠ¥æ–‡ç¡®è®¤ä¸ç­‰å¾…é‡ä¼ çš„æ—¶é—´ </p><p>B. è®¾ç½®ä¿æŒè®¡æ—¶å™¨çš„ç›®çš„æ˜¯ä¸ºäº†é˜²æ­¢ TCP è¿æ¥å¤„äºé•¿æ—¶æœŸç©ºé—²çŠ¶æ€</p><p>C. è®¾ç½®æ—¶é—´ç­‰ä¾è®¡æ—¶å™¨çš„ç›®çš„æ˜¯ä¸ºäº†ä¿è¯ TCP è¿æ¥é‡Šæ”¾è¿‡ç¨‹æ­£å¸¸åœ°è¿›è¡Œ</p><p>D. è®¾ç½®åšæŒè®¡æ—¶å™¨çš„ç›®çš„æ˜¯é˜²æ­¢æ¥æ”¶ç«¯å› æ¥æ”¶ä¸€ä¸ªé•¿æŠ¥æ–‡çš„å¤šä¸ªåˆ†æ®µè€Œé€ æˆæ­»é”</p></li></ol>]]></content>
    
    
    <categories>
      
      <category>æœ¬ç§‘</category>
      
      <category>å¤§ä¸‰ä¸‹</category>
      
      <category>è®¡ç®—æœºç½‘ç»œ</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>åº”ç”¨å±‚çŸ¥è¯†ç‚¹</title>
    <link href="/2023/06/21/%E6%9C%AC%E7%A7%91/%E5%A4%A7%E4%B8%89%E4%B8%8B/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E5%BA%94%E7%94%A8%E5%B1%82%E7%9F%A5%E8%AF%86%E6%80%BB%E7%BB%93/"/>
    <url>/2023/06/21/%E6%9C%AC%E7%A7%91/%E5%A4%A7%E4%B8%89%E4%B8%8B/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E5%BA%94%E7%94%A8%E5%B1%82%E7%9F%A5%E8%AF%86%E6%80%BB%E7%BB%93/</url>
    
    <content type="html"><![CDATA[<h1 id="åº”ç”¨å±‚çŸ¥è¯†ç‚¹"><a href="#åº”ç”¨å±‚çŸ¥è¯†ç‚¹" class="headerlink" title="åº”ç”¨å±‚çŸ¥è¯†ç‚¹"></a>åº”ç”¨å±‚çŸ¥è¯†ç‚¹</h1><hr><h2 id="1-ç½‘ç»œä½“ç³»ç»“æ„ä¸ç½‘ç»œåè®®"><a href="#1-ç½‘ç»œä½“ç³»ç»“æ„ä¸ç½‘ç»œåè®®" class="headerlink" title="1. ç½‘ç»œä½“ç³»ç»“æ„ä¸ç½‘ç»œåè®®"></a>1. ç½‘ç»œä½“ç³»ç»“æ„ä¸ç½‘ç»œåè®®</h2><p>\1. ç½‘ç»œåè®®</p><p>u ç»Ÿä¸€çš„ä¿¡æ¯äº¤æ¢è§„åˆ™ï¼Œè§„å®šä¿¡æ¯æ ¼å¼ï¼Œè§„å®šå¦‚ä½•å‘é€å’Œæ¥æ”¶ä¿¡æ¯ã€‚</p><p>u åè®®ä¸‰è¦ç´ ï¼š<strong>è¯­æ³•ã€è¯­ä¹‰ã€æ—¶åºï¼ˆæˆ–è€…æ˜¯ åŒæ­¥ ä¹Ÿæ˜¯æ­£ç¡®çš„ï¼‰ã€‚</strong></p><p>   \2. åè®®åˆ†å±‚æ€æƒ³</p><p>u å°†ç½‘ç»œç³»ç»ŸåŠŸèƒ½åˆ†è§£ä¸ºåŠŸèƒ½å±‚ï¼Œç”¨åè®®è§„å®šåŠŸèƒ½ï¼ˆè¦åšä»€ä¹ˆï¼‰ã€‚</p><p>u <strong>å¯¹ç­‰åŠŸèƒ½å±‚</strong>ä¹‹é—´é‡‡ç”¨<strong>åè®®</strong>è¿›è¡Œçº¦æŸï¼ˆåè®®æ•°æ®å•å…ƒã€åè®®æ ¼å¼ï¼‰ã€‚</p><p>u <strong>ç›¸é‚»åŠŸèƒ½å±‚</strong>ä¹‹é—´é‡‡ç”¨<strong>æ¥å£</strong>è¿›è¡Œäº¤äº’ï¼ˆæ¥å£æ ‡å‡†ã€ä½¿ç”¨æœåŠ¡ï¼‰ã€‚</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230624215020662.png" alt="image-20230624215020662"></p><h3 id="1-1èµ„æºå­ç½‘å’Œé€šä¿¡å­ç½‘ï¼š"><a href="#1-1èµ„æºå­ç½‘å’Œé€šä¿¡å­ç½‘ï¼š" class="headerlink" title="1.1èµ„æºå­ç½‘å’Œé€šä¿¡å­ç½‘ï¼š"></a>1.1èµ„æºå­ç½‘å’Œé€šä¿¡å­ç½‘ï¼š</h3><p>æŠŠè®¡ç®—æœºç½‘ç»œä¸­å®ç°ç½‘ç»œé€šä¿¡åŠŸèƒ½çš„è®¾å¤‡åŠå…¶è½¯ä»¶çš„é›†åˆç§°ä¸ºç½‘ç»œçš„<strong>é€šä¿¡å­ç½‘</strong>ï¼Œ</p><p>è€ŒæŠŠç½‘ç»œä¸­å®ç°èµ„æºå…±äº«åŠŸèƒ½çš„è®¾å¤‡åŠå…¶è½¯ä»¶çš„é›†åˆç§°ä¸º<strong>èµ„æºå­ç½‘</strong>ã€‚</p><p>é€šä¿¡å­ç½‘ç»„æˆï¼šå„ç§ç½‘ç»œé€šè®¯è®¾å¤‡ï¼Œå¦‚è·¯ç”±å™¨ï¼Œç½‘ç»œèŠ‚ç‚¹ï¼Œé€šä¿¡é“¾è·¯ç­‰</p><p>èµ„æºå­ç½‘ç»„æˆï¼šè®¡ç®—æœºã€å¤–éƒ¨è®¾å¤‡ï¼Œæ‰“å°æœºç­‰ç­‰</p><h3 id="1-12OSI-æ¨¡å‹å’ŒIP-TCP"><a href="#1-12OSI-æ¨¡å‹å’ŒIP-TCP" class="headerlink" title="1.12OSI æ¨¡å‹å’ŒIP&#x2F;TCP"></a>1.12OSI æ¨¡å‹å’ŒIP&#x2F;TCP</h3><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/5925973f8d684b58b25331ee78dd659b.png" alt="OSIå’ŒTCP&#x2F;IPåè®®ä¹‹é—´çš„å¯¹åº”å…³ç³»"></p><p>Nå±‚å®ä½“åˆ©ç”¨<strong>N-1å±‚å®ä½“</strong>æ‰€æä¾›çš„æœåŠ¡ï¼Œå‘N+Iå±‚å®ä½“æä¾›åŠŸèƒ½æ›´å¼ºå¤§çš„æœåŠ¡ã€‚è¿™å¯ä»¥æ¦‚æ‹¬ä¸ºâ€œæœåŠ¡æ˜¯å‚ç›´çš„â€ã€‚ä¾‹å¦‚ï¼Œä¼ è¾“å±‚å®ä½“åˆ©ç”¨ç½‘ç»œå±‚å®ä½“çš„æœåŠ¡ï¼Œå‘åº”ç”¨å±‚å®ä½“æä¾›<a href="https://baike.baidu.com/item/%E7%BD%91%E9%A1%B5/99347?fromModule=lemma_inlink">ç½‘é¡µ</a>ä¼ è¾“æœåŠ¡ã€‚ [4] </p><p>Nå±‚å®ä½“ä½¿ç”¨N-1å±‚å®ä½“æ‰€æä¾›çš„æœåŠ¡æ—¶ï¼Œä¸éœ€è¦çŸ¥é“N-1å±‚å®ä½“æ‰€æä¾›çš„æœåŠ¡æ˜¯å¦‚ä½•å®ç°çš„ä»¥åŠN-1å±‚å®ä½“é—´çš„åè®®ï¼Œè€Œåªéœ€è¦çŸ¥é“ä¸‹ä¸€å±‚å¯ä»¥ä¸ºè‡ªå·±æä¾›å“ªäº›æœåŠ¡(æ˜¯å¿«é€Ÿæ˜‚è´µé€šä¿¡è¿˜æ˜¯æ…¢é€Ÿä½å»‰é€šä¿¡)ï¼Œä»¥åŠ<strong>é€šè¿‡ä»€ä¹ˆæ ·çš„æ¥å£æ</strong>ä¾›çš„ã€‚</p><h2 id="2-æ•°æ®äº¤æ¢æŠ€æœ¯"><a href="#2-æ•°æ®äº¤æ¢æŠ€æœ¯" class="headerlink" title="2. æ•°æ®äº¤æ¢æŠ€æœ¯"></a>2. æ•°æ®äº¤æ¢æŠ€æœ¯</h2><ol><li><p><strong>ç”µè·¯äº¤æ¢</strong>(circuit switching)<br>æœ€å…¸å‹çš„ç”µè·¯äº¤æ¢ç½‘ç»œï¼šç”µè¯ç½‘ç»œ<br>ç”µè·¯äº¤æ¢åˆ†ä¸ºä¸‰ä¸ªé˜¶æ®µ</p><p>â€‹    å»ºç«‹è¿æ¥ï¼ˆç”µè·¯å»ºç«‹ï¼‰<br>â€‹    æ•°æ®ä¼ è¾“<br>â€‹    é‡Šæ”¾è¿æ¥ï¼ˆæ‹†é™¤ç”µè·¯ï¼‰<br>ç”µè·¯äº¤æ¢çš„ç‰¹å¾ï¼š<strong>èµ„æºç‹¬å </strong><br>é‡‡ç”¨ç”µè·¯äº¤æ¢çš„é€šä¿¡ä¸­ï¼Œé€šä¿¡åŒæ–¹ç‹¬å å…¶ä½¿ç”¨çš„é€šä¿¡èµ„æº<br>å³ä½¿æ²¡æœ‰æ•°æ®åœ¨ä¼ è¾“ï¼Œç¬¬ä¸‰æ–¹ä¹Ÿæ— æ³•ä½¿ç”¨è¿™ä¸ªé—²ç½®èµ„æº</p></li><li><p>æŠ¥æ–‡äº¤æ¢(message switching)</p><p>æŠ¥æ–‡äº¤æ¢å¹¿æ³›åº”ç”¨äºä¸Šä¸–çºªäº”å…­åå¹´ä»£è‡³ä¸ƒåå¹´ä»£çš„ç”µæŠ¥é€šä¿¡</p><ul><li>å°†è¦å‘é€çš„æ•°æ®æ•´ä½“ä½œä¸ºæŠ¥æ–‡ï¼Œå¦‚ ä¸€ä¸ªæ–‡ä»¶ï¼Œä»¥æŠ¥æ–‡ä¸ºå•ä½è¿›è¡Œä¼ è¾“</li><li>é‡‡ç”¨<strong>å­˜å‚¨</strong>+<strong>è½¬å‘</strong>çš„äº¤æ¢æ–¹å¼</li></ul></li></ol><h2 id="3-ç½‘ç»œåº”ç”¨å¯¹ä¼ è¾“å±‚çš„åè®®é€‰æ‹©"><a href="#3-ç½‘ç»œåº”ç”¨å¯¹ä¼ è¾“å±‚çš„åè®®é€‰æ‹©" class="headerlink" title="3. ç½‘ç»œåº”ç”¨å¯¹ä¼ è¾“å±‚çš„åè®®é€‰æ‹©"></a>3. ç½‘ç»œåº”ç”¨å¯¹ä¼ è¾“å±‚çš„åè®®é€‰æ‹©</h2><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230624220930869.png" alt="image-20230624220930869"></p><p><strong>å„ç§åè®®çš„å¸¸ç”¨ç«¯å£å·</strong></p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230624230047111.png" alt="image-20230624230047111"></p><p><strong>è¡¥å……ï¼š</strong></p><ul><li>TFTP ï¼š portï¼š 69 ç®€å•æ–‡ä»¶ä¼ è¾“åè®®</li></ul><h2 id="4-ç”µå­é‚®ä»¶æœåŠ¡ä¸åè®®"><a href="#4-ç”µå­é‚®ä»¶æœåŠ¡ä¸åè®®" class="headerlink" title="4. ç”µå­é‚®ä»¶æœåŠ¡ä¸åè®®"></a>4. ç”µå­é‚®ä»¶æœåŠ¡ä¸åè®®</h2><p>é‚®ä»¶<strong>ä¼ è¾“</strong>åè®®ï¼šSMTP&#x2F;MIME ï¼ˆé€šç”¨Interneté‚®ä»¶<strong>æ‰©å±•</strong>åè®®MIMEï¼‰</p><p>é‚®ä»¶<strong>å­˜å‚¨è®¿é—®</strong>åè®®ï¼šPOPã€IMAP</p><p>p<strong>é‚®ä»¶ä¼ è¾“åè®®</strong></p><p>Ã˜å®¢æˆ·ç«¯åˆ°é‚®ä»¶æœåŠ¡å™¨ã€é‚®ä»¶æœåŠ¡å™¨ä¹‹é—´ç®€å•<strong>é‚®ä»¶ä¼ è¾“åè®®STMP</strong></p><p><strong>SMTPï¼š</strong></p><p>ä¸æ”¯æŒå¤šè¯­ç§é‚®ä»¶çš„ä¼ è¾“ç­‰</p><p>æ˜¯ä¸€ä¸ªç›¸å¯¹ç®€å•çš„åŸºäºæ–‡æœ¬çš„åè®®ï¼ˆ <strong>åªä¼ é€7ä½çš„ASCIIç </strong>ï¼‰ï¼Œä½¿ç”¨TCPç«¯å£25</p><p>Ã˜é€šç”¨Interneté‚®ä»¶<strong>æ‰©å±•åè®®MIME</strong></p><p>åœ¨MIMEä¸‹ï¼Œå¯ä»¥å®ç°äºŒè¿›åˆ¶çš„ç¼–ç ï¼Œå¯<strong>ä¼ è¾“å„ç§æ ¼å¼çš„æ–‡ä»¶ï¼Œä»¥åŠæ”¯æŒå¤šè¯­ç§é‚®ä»¶ç­‰</strong></p><p>p<strong>é‚®ä»¶å­˜å‚¨è®¿é—®åè®®</strong></p><p>Ã˜é‚®ä»¶æœåŠ¡å™¨åˆ°å®¢æˆ·ç«¯</p><p>Ã˜é‚®æ”¿åè®®ç¬¬3ç‰ˆPOP-3</p><p>Ã˜Interneté‚®ä»¶è®¿é—®åè®®ç¬¬4ç‰ˆIMAP-4</p><h3 id="åŸºäºWebçš„ç”µå­é‚®ä»¶"><a href="#åŸºäºWebçš„ç”µå­é‚®ä»¶" class="headerlink" title="åŸºäºWebçš„ç”µå­é‚®ä»¶"></a>åŸºäºWebçš„ç”µå­é‚®ä»¶</h3><p>Ã˜20ä¸–çºª90å¹´ä»£ä¸­æœŸï¼ŒHotmailå¼€å‘äº†åŸºäºWebçš„ç”µå­é‚®ä»¶ç³»ç»Ÿ</p><p>Ã˜ç›®å‰å‡ ä¹æ‰€æœ‰é—¨æˆ·ç½‘ç«™éƒ½æä¾›åŸºäºWebçš„ç”µå­é‚®ä»¶ï¼Œä½¿ç”¨Webæµè§ˆå™¨æ”¶å‘é‚®ä»¶</p><p>Ã˜åŸºäºWebç”µå­é‚®ä»¶ï¼Œç”¨æˆ·ä»£ç†å°±æ˜¯Webæµè§ˆå™¨ï¼Œç”¨æˆ·ä¸è¿œç¨‹é‚®ç®±ä¹‹é—´çš„é€šä¿¡ä½¿ç”¨çš„æ˜¯HTTPåè®®ï¼Œè€Œä¸æ˜¯POP3æˆ–IMAP4åè®®</p><p>Ã˜é‚®ä»¶æœåŠ¡å™¨ä¹‹é—´çš„é€šä¿¡ä»ç„¶ä½¿ç”¨SMTPåè®®</p><h2 id="5-FTP"><a href="#5-FTP" class="headerlink" title="5. FTP"></a>5. FTP</h2><h3 id="5-1-å·¥ä½œåŸç†ï¼š"><a href="#5-1-å·¥ä½œåŸç†ï¼š" class="headerlink" title="5.1 å·¥ä½œåŸç†ï¼š"></a>5.1 å·¥ä½œåŸç†ï¼š</h3><p>p<strong>æ§åˆ¶è¿æ¥</strong>ï¼šFTPå®¢æˆ·ç«¯ä½¿ç”¨ä¸´æ—¶ç«¯å£å·ï¼ˆå¦‚5100ï¼‰ä¸æœåŠ¡å™¨ç«¯ç†ŸçŸ¥**ç«¯å£å·ï¼ˆ21ï¼‰**ä¹‹é—´è¿æ¥ä¸€ä¸ªæ§åˆ¶è¿æ¥</p><p>p<strong>ç”¨æˆ·é‰´åˆ«</strong>ï¼šæ§åˆ¶è¿æ¥å»ºç«‹ä¹‹åï¼ŒæœåŠ¡å™¨ç«¯è¦æ±‚å®¢æˆ·ç«¯å‘é€ç”¨æˆ·åå’Œå£ä»¤</p><p>p<strong>æ•°æ®è¿æ¥</strong>ï¼šæœåŠ¡å™¨ç«¯æ¥æ”¶åˆ°å®¢æˆ·ç«¯æ–‡ä»¶ä¼ è¾“å‘½ä»¤åï¼Œå¼€å§‹å‘èµ·ä¸å®¢æˆ·ç«¯çš„æ•°æ®è¿æ¥ã€‚å®¢æˆ·ç«¯ä½¿ç”¨ä¸´æ—¶ç«¯å£å·ï¼ˆå¦‚5000ï¼‰ä¸æœåŠ¡å™¨ç«¯ç†ŸçŸ¥<strong>ç«¯å£å·20</strong>ä¹‹é—´å»ºç«‹æ•°æ®è¿æ¥</p><p>p<strong>TFTP</strong>*çš„ç‰¹ç‚¹</p><p>Ã˜ä¼ è¾“å¯é æ€§ï¼šFTPé¢å‘è¿æ¥çš„å¯é ä¼ è¾“ï¼Œé‡‡ç”¨<strong>TCP</strong>ï¼›TFTPç®€æ´ã€é‡‡ç”¨<strong>UDP</strong></p><p>Ã˜åè®®å‘½ä»¤é›†ï¼šFTPåŒ…å«å‘é€&#x2F;æ¥æ”¶æ–‡ä»¶ã€åˆ—å‡ºç›®å½•ä¸åˆ é™¤æ–‡ä»¶ç­‰<strong>å¤æ‚å‘½ä»¤</strong>ï¼ŒTFTPåè®®åªå®šä¹‰æ–‡ä»¶å‘é€&#x2F;æ¥æ”¶<strong>åŸºæœ¬å‘½ä»¤</strong></p><p>Ã˜æ•°æ®è¡¨ç¤ºï¼šFTPå¯<strong>æŒ‡å®šæ•°æ®ç±»å‹</strong>ï¼ŒTFTPåªå…è®¸ä¼ è¾“<strong>ASCII****ç æˆ–äºŒè¿›åˆ¶æ–‡æœ¬æ–‡ä»¶</strong></p><p>Ã˜ç”¨æˆ·é‰´åˆ«ï¼šFTPæœ‰ç™»å½•ç”¨æˆ·é‰´åˆ«åŠŸèƒ½ï¼ŒTFTPä¸æä¾›ç”¨æˆ·é‰´åˆ«åŠŸèƒ½</p><h2 id="6-DNS"><a href="#6-DNS" class="headerlink" title="6. DNS"></a>6. DNS</h2><p>ä½¿ç”¨TCPæˆ–è€…UDPéƒ½å¯ä»¥</p><p>ç«¯å£ï¼š53</p><p><strong>é€’å½’è§£æ</strong>å’Œ<strong>è¿­ä»£è§£æ</strong>çš„ä¸¤ç§å®šä¹‰éœ€è¦åŒºåˆ†æ¸…æ¥š</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230625154841648.png" alt="image-20230625154841648"></p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230625154903851.png" alt="image-20230625154903851"></p><h2 id="7-HTTPè¿æ¥æ–¹å¼ä»¥åŠè®¡ç®—RTTï¼š"><a href="#7-HTTPè¿æ¥æ–¹å¼ä»¥åŠè®¡ç®—RTTï¼š" class="headerlink" title="7. HTTPè¿æ¥æ–¹å¼ä»¥åŠè®¡ç®—RTTï¼š"></a>7. HTTPè¿æ¥æ–¹å¼ä»¥åŠè®¡ç®—RTTï¼š</h2><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/2020032007452929.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>å› æ­¤å¦‚æœè¦è¯»å–ä¸€ä¸ªç½‘é¡µçš„ä¸‰å¼ å›¾ç‰‡ï¼ˆä¸åŒ…æ‹¬ç½‘é¡µHTMLï¼‰ï¼Œéœ€è¦çš„RTTæ—¶é—´åˆ†åˆ«æ˜¯ï¼ˆå»ºç«‹è¿æ¥è¦<strong>2RTT</strong>ï¼‰</p><ul><li>éæŒç»­è¿æ¥ï¼š2RTT *  3</li><li>æŒç»­è¿æ¥ï¼šRTT</li><li>æµæ°´çº¿ï¼šRTT</li></ul>]]></content>
    
    
    <categories>
      
      <category>æœ¬ç§‘</category>
      
      <category>å¤§ä¸‰ä¸‹</category>
      
      <category>è®¡ç®—æœºç½‘ç»œ</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>åº”ç”¨å±‚éš¾é¢˜</title>
    <link href="/2023/06/21/%E6%9C%AC%E7%A7%91/%E5%A4%A7%E4%B8%89%E4%B8%8B/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E5%BA%94%E7%94%A8%E5%B1%82%E9%9A%BE%E9%A2%98/"/>
    <url>/2023/06/21/%E6%9C%AC%E7%A7%91/%E5%A4%A7%E4%B8%89%E4%B8%8B/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E5%BA%94%E7%94%A8%E5%B1%82%E9%9A%BE%E9%A2%98/</url>
    
    <content type="html"><![CDATA[<h1 id="åº”ç”¨å±‚éš¾é¢˜ç›®"><a href="#åº”ç”¨å±‚éš¾é¢˜ç›®" class="headerlink" title="åº”ç”¨å±‚éš¾é¢˜ç›®"></a>åº”ç”¨å±‚éš¾é¢˜ç›®</h1><ol><li><p>ä¸‹åˆ—å“ªäº›ä¸æ˜¯ç”µè·¯äº¤æ¢æŠ€æœ¯çš„ç‰¹ç‚¹ï¼ˆ  ï¼‰ã€‚</p><p>A.ç¨³å®šçš„æ•°æ®ä¼ è¾“é€Ÿç‡</p><p>B.ç¡¬ä»¶æˆæœ¬è¾ƒä½</p><p>C.ä¸å­˜åœ¨ä¿¡é“è®¿é—®å»¶è¿Ÿ</p><p>D é•¿è·ç¦»ç”µè·¯çš„å»ºç«‹æ—¶é—´é•¿</p></li></ol><p>ä½ çš„ç­”æ¡ˆï¼šC</p><p>æ­£ç¡®ç­”æ¡ˆï¼šB</p><ol start="2"><li><p>ä»¥ä¸‹å…³äºHTTPéæŒç»­è¿æ¥çš„ç‰¹ç‚¹æè¿°ä¸­ï¼Œé”™è¯¯çš„æ˜¯ï¼ˆ  D  ï¼‰ã€‚</p><p>A. HTTPåè®®æ”¯æŒéæŒç»­è¿æ¥å’ŒæŒç»­è¿æ¥</p><p>B. HTTP&#x2F;1.0ç‰ˆåè®®å®šä¹‰éæŒç»­è¿æ¥ï¼Œè€ŒHTTP&#x2F;1.1é»˜è®¤çŠ¶æ€ä¸ºæŒç»­è¿æ¥</p><p>C. éæŒç»­è¿æ¥ä¸­å¯¹æ¯æ¬¡è¯·æ±‚&#x2F;å“åº”éƒ½è¦å»ºç«‹ä¸€æ¬¡TCPè¿æ¥</p><p>D. éæŒç»­è¿æ¥ä¸­è·å–åŒ…å«100å¼ å›¾ç‰‡çš„ç½‘é¡µæ—¶ï¼Œéœ€è¦æ‰“å¼€ä¸å…³é—­100æ¬¡TCPè¿æ¥</p><p>åº”å½“æ˜¯101æ¬¡ï¼Œ100ä¸ªpicture + 1ä¸ªHTML</p></li><li><p>ä»¥ä¸‹å…³äºFTPç”¨æˆ·ç¨‹åºç‰¹ç‚¹çš„æè¿°ä¸­ï¼Œé”™è¯¯çš„æ˜¯ï¼ˆ  C  ï¼‰ã€‚</p></li></ol><p>   A.FTPç”¨æˆ·ç¨‹åºä¸»è¦æœ‰ä¼ ç»Ÿçš„FTPå‘½ä»¤è¡Œã€æµè§ˆå™¨ä¸FTPä¸‹è½½å·¥å…·</p><p>   B.ä¼ ç»Ÿçš„FTPå‘½ä»¤è¡Œæ˜¯æœ€æ—©çš„FTPç”¨æˆ·ç¨‹åº</p><p>   C.æµè§ˆå™¨è½¯ä»¶æ”¯æŒè®¿é—®FTPæœåŠ¡å™¨ï¼Œå¯ä»¥<strong>ç›´æ¥ç™»å½•</strong>åˆ°FTPæœåŠ¡å™¨å¹¶<strong>ä¸‹è½½</strong>æ–‡ä»¶</p><p>   D.ä½¿ç”¨FTPå‘½ä»¤è¡Œä»FTPæœåŠ¡å™¨ä¸‹è½½æ–‡ä»¶çš„è¿‡ç¨‹ä¸­ç½‘ç»œè¿æ¥æ„å¤–ä¸­æ–­ï¼Œç”¨æˆ·ç¨‹åºé€šè¿‡<strong>æ–­ç‚¹ç»­ä¼ </strong>åŠŸèƒ½å¯ä»¥ç»§ç»­è¿›è¡Œå‰©ä½™éƒ¨åˆ†çš„ä¼ è¾“</p><ol start="4"><li><p>ä¸‹é¢å¯¹è®¡ç®—æœºç½‘ç»œä½“ç³»ç»“æ„ä¸­åè®®æ‰€åšçš„æè¿°ï¼Œé”™è¯¯çš„æ˜¯ï¼ˆ ï¼‰</p><p>A.ç½‘ç»œåè®®çš„ä¸‰è¦ç´ æ˜¯è¯­æ³•ã€è¯­ä¹‰å’ŒåŒæ­¥</p><p>B.åè®®æ˜¯æ§åˆ¶ä¸¤ä¸ªå¯¹ç­‰å®ä½“ä¹‹é—´é€šä¿¡çš„è§„åˆ™çš„é›†åˆ</p><p>C.åœ¨OSIå‚è€ƒæ¨¡å‹ä¸­ï¼Œè¦å®ç°ç¬¬Nå±‚çš„åè®®ï¼Œéœ€è¦ä½¿ç”¨N+1å±‚æä¾›çš„æœåŠ¡</p><p>D.åè®®è§„å®šäº†å¯¹ç­‰å±‚å®ä½“ä¹‹é—´æ‰€äº¤æ¢çš„ä¿¡æ¯çš„æ ¼å¼å’Œå«ä¹‰</p></li></ol><p>4è§£æï¼šè¿™ä¸ªæ¶‰åŠçŸ¥è¯†ç‚¹è¾ƒå¤šï¼ŒAçš„è¯ï¼ŒåŒæ­¥å’Œæ—¶åºéƒ½æ˜¯æ²¡é”™çš„ï¼ŒBå½“ä¸­ï¼Œæ¥å£æ˜¯ä¸¤ä¸ªç›¸é‚»å®ä½“ä¹‹é—´çš„é€šä¿¡è§„åˆ™</p><p>Cå½“ä¸­ï¼Œåº”è¯¥æ˜¯N-1è€Œä¸æ˜¯N+1ï¼Œä¾‹å¦‚ä¼ è¾“å±‚éœ€è¦ä¾èµ–ç½‘ç»œå±‚æä¾›çš„åˆ†ç»„æ•°æ®ã€‚Då’ŒBç±»ä¼¼</p><ol start="5"><li><p>ä»¥ä¸‹å…³äºInternetæ ¸å¿ƒäº¤æ¢ä¸è¾¹ç¼˜éƒ¨åˆ†çš„æŠ½è±¡æ–¹æ³•æè¿°ä¸­ï¼Œé”™è¯¯çš„æ˜¯ï¼ˆ ï¼‰ã€‚</p><p>A. Internetç³»ç»Ÿå¯ä»¥çœ‹ä½œæ˜¯ç”±è¾¹ç¼˜éƒ¨åˆ†ä¸æ ¸å¿ƒäº¤æ¢éƒ¨åˆ†ä¸¤éƒ¨åˆ†ç»„æˆ</p><p>B.æ ¸å¿ƒäº¤æ¢éƒ¨åˆ†åŒ…æ‹¬ç”±å¤§é‡è·¯ç”±å™¨äº’è”çš„æœåŠ¡å™¨é›†ç¾¤</p><p>C.æ ¸å¿ƒäº¤æ¢éƒ¨åˆ†ä¸ºåº”ç”¨ç¨‹åºè¿›ç¨‹é€šä¿¡æä¾›æœåŠ¡</p><p>D.ç½‘ç»œåº”ç”¨ç¨‹åºè¿è¡Œåœ¨ç«¯ç³»ç»Ÿ</p></li><li><p>ä¸‹åˆ—è®¾å¤‡ä¸å±äºèµ„æºå­ç½‘çš„æ˜¯ï¼ˆ ï¼‰ã€‚</p><p>A.ä¸»æœº</p><p>B.ç»ˆç«¯</p><p>C.å„ç§è½¯ä»¶èµ„æºå’Œæ•°æ®æœåŠ¡</p><p>D.ç»“ç‚¹å¤„ç†æœº</p></li><li><p>å‡è®¾æ‰€æœ‰åŸŸåæœåŠ¡å™¨å‡é‡‡ç”¨è¿­ä»£æŸ¥è¯¢æ–¹å¼è¿›è¡ŒåŸŸåè§£æã€‚å½“ä¸»æœºè®¿é—®è§„èŒƒåŸŸåä¸º<a href="http://www.abc.xyz.comçš„ç½‘ç«™æ—¶,æœ¬åœ°åŸŸåæœåŠ¡å™¨åœ¨å®Œæˆè¯¥åŸŸåè§£æçš„è¿‡ç¨‹ä¸­,å¯èƒ½å‘å‡ºdnsæŸ¥è¯¢çš„æœ€å°‘å’Œæœ€å¤šæ¬¡æ•°åˆ†åˆ«æ˜¯(/">www.abc.xyz.comçš„ç½‘ç«™æ—¶ï¼Œæœ¬åœ°åŸŸåæœåŠ¡å™¨åœ¨å®Œæˆè¯¥åŸŸåè§£æçš„è¿‡ç¨‹ä¸­ï¼Œå¯èƒ½å‘å‡ºDNSæŸ¥è¯¢çš„æœ€å°‘å’Œæœ€å¤šæ¬¡æ•°åˆ†åˆ«æ˜¯ï¼ˆ</a>  C ï¼‰ã€‚</p><p>A. 0ï¼Œ3 B. 1ï¼Œ3 C. 0ï¼Œ4 D. 1ï¼Œ4</p></li><li><p>ä»¥ä¸‹å…³äºDNSæ¦‚å¿µçš„æè¿°ä¸­ï¼Œé”™è¯¯çš„æ˜¯ï¼ˆC ï¼‰ã€‚</p><p>A.DNSä½¿ç”¨ç»Ÿä¸€çš„å‘½åç©ºé—´</p><p>B.DNSä½¿ç”¨æœ¬åœ°çš„ç¼“å­˜æ¥æ”¹å–„ç³»ç»Ÿçš„æ€§èƒ½</p><p>C.DNSåŸŸåæœåŠ¡çš„å¤„ç†ä¾èµ–äºæ‰€ä½¿ç”¨çš„ä¼ è¾“ç³»ç»Ÿ</p><p>D.DNSæ•°æ®åº“å®¹é‡é™åˆ¶å’Œæ›´æ–°é¢‘ç‡éƒ½è¦æ±‚å¯¹åŸŸåè¿›è¡Œåˆ†å¸ƒå¼ç®¡ç†</p></li></ol><p>è§£æï¼šåº”å½“æ˜¯åœ°å€è§£ææœåŠ¡</p>]]></content>
    
    
    <categories>
      
      <category>æœ¬ç§‘</category>
      
      <category>å¤§ä¸‰ä¸‹</category>
      
      <category>è®¡ç®—æœºç½‘ç»œ</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ç½‘ç»œå±‚çŸ¥è¯†æ€»ç»“</title>
    <link href="/2023/06/21/%E6%9C%AC%E7%A7%91/%E5%A4%A7%E4%B8%89%E4%B8%8B/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E7%BD%91%E7%BB%9C%E5%B1%82%E7%9F%A5%E8%AF%86%E6%80%BB%E7%BB%93/"/>
    <url>/2023/06/21/%E6%9C%AC%E7%A7%91/%E5%A4%A7%E4%B8%89%E4%B8%8B/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E7%BD%91%E7%BB%9C%E5%B1%82%E7%9F%A5%E8%AF%86%E6%80%BB%E7%BB%93/</url>
    
    <content type="html"><![CDATA[<h1 id="ç½‘ç»œå±‚çŸ¥è¯†æ€»ç»“"><a href="#ç½‘ç»œå±‚çŸ¥è¯†æ€»ç»“" class="headerlink" title="ç½‘ç»œå±‚çŸ¥è¯†æ€»ç»“"></a>ç½‘ç»œå±‚çŸ¥è¯†æ€»ç»“</h1><h2 id="1-IPV4åœ°å€ç»“æ„"><a href="#1-IPV4åœ°å€ç»“æ„" class="headerlink" title="1. IPV4åœ°å€ç»“æ„"></a>1. IPV4åœ°å€ç»“æ„</h2><h3 id="1-1-ç½‘ç»œå±‚åŠŸèƒ½ä¸å®šä½"><a href="#1-1-ç½‘ç»œå±‚åŠŸèƒ½ä¸å®šä½" class="headerlink" title="1.1 ç½‘ç»œå±‚åŠŸèƒ½ä¸å®šä½"></a>1.1 ç½‘ç»œå±‚åŠŸèƒ½ä¸å®šä½</h3><p><strong>ç½‘é™…åè®® IP</strong> æ˜¯ TCP&#x2F;IP ä½“ç³»ä¸­ä¸¤ä¸ªæœ€ä¸»è¦çš„åè®®ä¹‹ä¸€ã€‚ä¸ IP åè®®é…å¥—ä½¿ç”¨çš„è¿˜æœ‰ä¸‰ä¸ªåè®®ï¼š</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230628171557981.png" alt="image-20230628171557981"></p><p>IPåœ°å€åˆ†ç±»ï¼š</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230628173022101.png" alt="IPåœ°å€åˆ†ç±»è¡¨"></p><h2 id="2-NAT-æŠ€æœ¯"><a href="#2-NAT-æŠ€æœ¯" class="headerlink" title="2. NAT æŠ€æœ¯"></a>2. NAT æŠ€æœ¯</h2><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230628231413286.png" alt="image-20230628231413286"></p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230628231439050.png" alt="image-20230628231439050"></p><h2 id="3-IPåˆ†ç»„æ ¼å¼"><a href="#3-IPåˆ†ç»„æ ¼å¼" class="headerlink" title="3. IPåˆ†ç»„æ ¼å¼"></a>3. IPåˆ†ç»„æ ¼å¼</h2><h3 id="3-1-æœ€å¤§ä¼ è¾“å•å…ƒMTU"><a href="#3-1-æœ€å¤§ä¼ è¾“å•å…ƒMTU" class="headerlink" title="3.1 æœ€å¤§ä¼ è¾“å•å…ƒMTU"></a>3.1 æœ€å¤§ä¼ è¾“å•å…ƒMTU</h3><p><strong>å«ä¹‰</strong>ï¼šé“¾è·¯å¸§çš„æ•°æ®å­—æ®µçš„æœ€å¤§é•¿åº¦ï¼Œä¹Ÿå°±æ˜¯å°è£…é“¾è·¯å¸§æ—¶å…è®¸çš„IPåˆ†ç»„å¤§å°ä¸Šé™</p><p><strong>ç‰¹ç‚¹</strong>ï¼š</p><p>ï¼ˆ1ï¼‰ä¸åŒç½‘ç»œçš„MTUå¤§å°ä¸åŒï¼›</p><p>ï¼ˆ2ï¼‰è§„å®šIPåˆ†ç»„çš„æœ€å¤§é•¿åº¦ä¸º65535å­—èŠ‚ï¼›</p><p>ï¼ˆ3ï¼‰MTUä¸€èˆ¬å°äºIPåˆ†ç»„é•¿åº¦ï¼Œå› æ­¤éœ€è¦å°†IPåˆ†ç»„åˆ†å‰²æˆè‹¥å¹²ä¸ªè¾ƒå°çš„æ®µï¼Œæ¯ä¸ªæ®µçš„é•¿åº¦ä¸è¶…è¿‡MTU</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230629002601622.png" alt="image-20230629002601622"></p><p><strong>åˆ†ç»„å¤´éƒ¨ï¼š</strong>ï¼ˆé•¿åº¦å¯å˜ï¼‰</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/v2-d4bd9b60633868608572e72818fbf255_r.jpg" alt="img"></p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230629013839420.png" alt="image-20230629013839420"></p><h2 id="4-è·¯ç”±ç®—æ³•åè®®"><a href="#4-è·¯ç”±ç®—æ³•åè®®" class="headerlink" title="4. è·¯ç”±ç®—æ³•åè®®"></a>4. è·¯ç”±ç®—æ³•åè®®</h2><h3 id="3-1-è·¯ç”±åè®®"><a href="#3-1-è·¯ç”±åè®®" class="headerlink" title="3.1 è·¯ç”±åè®®"></a>3.1 è·¯ç”±åè®®</h3><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230628232537032.png" alt="image-20230628232537032"></p>]]></content>
    
    
    <categories>
      
      <category>æœ¬ç§‘</category>
      
      <category>å¤§ä¸‰ä¸‹</category>
      
      <category>è®¡ç®—æœºç½‘ç»œ</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ç½‘ç»œå±‚éš¾é¢˜</title>
    <link href="/2023/06/21/%E6%9C%AC%E7%A7%91/%E5%A4%A7%E4%B8%89%E4%B8%8B/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E7%BD%91%E7%BB%9C%E5%B1%82%E9%9A%BE%E9%A2%98/"/>
    <url>/2023/06/21/%E6%9C%AC%E7%A7%91/%E5%A4%A7%E4%B8%89%E4%B8%8B/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E7%BD%91%E7%BB%9C%E5%B1%82%E9%9A%BE%E9%A2%98/</url>
    
    <content type="html"><![CDATA[<h1 id="ç½‘ç»œå±‚éš¾é¢˜"><a href="#ç½‘ç»œå±‚éš¾é¢˜" class="headerlink" title="ç½‘ç»œå±‚éš¾é¢˜"></a>ç½‘ç»œå±‚éš¾é¢˜</h1><hr><ol><li><p>IPæä¾›ä¸»æœºä¹‹é—´çš„ï¼ˆ   D  ï¼‰åˆ†ç»„ä¼ è¾“æœåŠ¡ã€‚</p><p>   A. å¯é çš„ã€é¢å‘è¿æ¥çš„                  B. ä¸å¯é çš„ã€é¢å‘è¿æ¥çš„</p><p>   C. å¯é çš„ã€æ— è¿æ¥çš„                    D. ä¸å¯é çš„ã€æ— è¿æ¥çš„</p></li><li><p>IP æ•°æ®æŠ¥ä¸­çš„ï¼ˆ TTL ï¼‰å­—æ®µè§„å®šäº†ä¸€ä¸ªæ•°æ®æŠ¥åœ¨è¢«ä¸¢å¼ƒä¹‹å‰æ‰€å…è®¸ç»è¿‡çš„è·¯ç”±å™¨æ•°ã€‚</p></li><li><p>ä¸‹åˆ—å…³äºRIPçš„æè¿°ä¸­ï¼Œæ­£ç¡®çš„æ˜¯ï¼ˆ D ï¼‰ã€‚</p><p>A. RIPæ ¹æ®é“¾è·¯çŠ¶æ€æ³•è®¡ç®—æœ€ä½³è·¯ç”±                  B. RIPæ˜¯ç”¨äºè‡ªæ²»ç³»ç»Ÿä¹‹é—´çš„å¤–éƒ¨ç½‘å…³åè®®</p><p>C. RIPä¸èƒ½æ ¹æ®ç½‘ç»œé€šä¿¡æƒ…å†µåŠ¨æ€çš„æ”¹å˜è·¯ç”±              D. RIPåªèƒ½é€‚ç”¨äºå°å‹ç½‘ç»œ</p></li></ol><p>3è§£æï¼šAé€‰é¡¹åº”å½“æ˜¯OSPFç®—æ³•</p><ol start="4"><li><p>ä¸‹é¢å…³äºOSPFè·¯ç”±åè®®çš„æè¿°ï¼Œé”™è¯¯çš„æ˜¯ï¼ˆ   <strong>C</strong>   ï¼‰ã€‚</p><p>A. OSPFç”¨äºè‡ªæ²»ç³»ç»Ÿå†…éƒ¨                                         </p><p>B. OSPFåˆ©ç”¨äº†ä¸€ç§å…¨å±€è·¯ç”±é€‰æ‹©ç®—æ³•</p><p>C. ä¸€ä¸ªOSPFè·¯ç”±å™¨ä»…å‘ç›´æ¥ç›¸é‚»çš„èŠ‚ç‚¹å‘é€å®ƒçš„é“¾è·¯çŠ¶æ€ä¿¡æ¯</p><p>D. ä¸€ä¸ªOSPFè·¯ç”±å™¨ä¸ä¼šæŠŠé”™è¯¯çš„è·¯ç”±ä¿¡æ¯ä¼ æ’­ç»™å…¶ä»–è·¯ç”±å™¨</p></li></ol><p>4è§£æï¼šOSPFåº”å½“æ˜¯ç”¨æ´ªæ³›æ³•å‘é€ç»™æ‰€æœ‰è·¯ç”±å™¨ï¼ŒRIPæ‰æ˜¯å‘ç»™ç›¸é‚»çš„è·¯ç”±å™¨</p><ol start="5"><li><p>ä¸‹åˆ—å…³äº ICMP åè®®çš„æè¿°ä¸­ï¼Œæ­£ç¡®çš„æ˜¯ï¼ˆ â…£ ï¼‰</p><p>â… . ä½œä¸º IP çš„è¡¥å……ï¼ŒICMP æŠ¥æ–‡å°†ç›´æ¥å°è£…åœ¨é“¾è·¯å±‚å¸§ä¸­å‘é€</p><p>â…¡. ICMP æŠ¥æ–‡åˆ†ä¸ºå·®é”™æŠ¥å‘Šå’ŒæŸ¥è¯¢ä¸¤ç±»ï¼Œå°è£…åœ¨ IP æ•°æ®æŠ¥ä¸­å‘é€</p><p>â…¢. <strong>PING</strong> ä½¿ç”¨äº† ICMP å·®é”™æŠ¥æ–‡</p><p>â…£. ICMP æŠ¥æ–‡æœ¬èº«å‡ºé”™å°†ä¸å†å¤„ç†</p></li><li><p>ä»¥ä¸‹å…³äº IP åˆ†ç»„ç»“æ„çš„æè¿°ä¸­ï¼Œé”™è¯¯çš„æ˜¯ï¼ˆ B ï¼‰ã€‚</p><p>A. IPv4 åˆ†ç»„å¤´çš„é•¿åº¦æ˜¯å¯å˜çš„</p><p>B. åè®®å­—æ®µè¡¨ç¤º IP çš„ç‰ˆæœ¬ï¼Œå€¼ä¸º 4 è¡¨ç¤º IPv4</p><p>C. åˆ†ç»„å¤´é•¿åº¦å­—æ®µä»¥ 4B ä¸ºå•ä½ï¼Œæ€»é•¿åº¦å­—æ®µä»¥å­—èŠ‚ä¸ºå•ä½</p><p>D. ç”Ÿå­˜æ—¶é—´å­—æ®µå€¼è¡¨ç¤ºä¸€ä¸ªåˆ†ç»„å¯ä»¥ç»è¿‡çš„æœ€å¤šçš„è·³æ•°</p></li></ol><p>6è§£æï¼ŒBåº”è¯¥æ˜¯IPçš„ä¸Šå±‚åè®®</p>]]></content>
    
    
    <categories>
      
      <category>æœ¬ç§‘</category>
      
      <category>å¤§ä¸‰ä¸‹</category>
      
      <category>è®¡ç®—æœºç½‘ç»œ</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>é“¾è·¯å±‚ç‰©ç†å±‚éš¾é¢˜</title>
    <link href="/2023/06/21/%E6%9C%AC%E7%A7%91/%E5%A4%A7%E4%B8%89%E4%B8%8B/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E9%93%BE%E8%B7%AF%E5%B1%82%E7%89%A9%E7%90%86%E5%B1%82%E9%9A%BE%E9%A2%98/"/>
    <url>/2023/06/21/%E6%9C%AC%E7%A7%91/%E5%A4%A7%E4%B8%89%E4%B8%8B/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E9%93%BE%E8%B7%AF%E5%B1%82%E7%89%A9%E7%90%86%E5%B1%82%E9%9A%BE%E9%A2%98/</url>
    
    <content type="html"><![CDATA[<h1 id="é“¾è·¯å±‚å’Œç‰©ç†å±‚éš¾é¢˜"><a href="#é“¾è·¯å±‚å’Œç‰©ç†å±‚éš¾é¢˜" class="headerlink" title="é“¾è·¯å±‚å’Œç‰©ç†å±‚éš¾é¢˜"></a>é“¾è·¯å±‚å’Œç‰©ç†å±‚éš¾é¢˜</h1><hr><ol><li><p>IPV6çš„åœ°å€ä¸º0001:0123:0000:0000:0000:ABCD:0000:0001&#x2F;96ï¼Œä¸‹åˆ—å“ªä¸ªç®€å†™åœ°å€æ˜¯ä¸æ­£ç¡®çš„ï¼Ÿï¼ˆï¼‰</p><p>A.1:123:0:0:0:ABCD:0:1&#x2F;96</p><p>B.1:123:0:0:0:ABCD::1&#x2F;96</p><p>C.1:123::ABCD:0:1&#x2F;96</p><p>D.1:123::ABCD::1&#x2F;96</p></li><li><p>ä¸€ä¸ª IPv6 æ•°æ®æŠ¥å¯ä»¥æœ‰å¤šä¸ªæ‰©å±•é¦–éƒ¨ï¼Œä½†æ˜¯åªæœ‰ä¸€ç§æ‰©å±•é¦–éƒ¨å¯ä»¥åœ¨ä¸€ä¸ª IPv6 æ•°æ®æŠ¥å¯ä»¥æœ‰å¤šä¸ªæ‰©å±•é¦–éƒ¨ï¼Œè¿™ç§æ‰©å±•é¦–éƒ¨æ˜¯ï¼ˆ   ï¼‰ã€‚</p><p>A.é€è·³é€‰é¡¹é¦–éƒ¨</p><p>B.è·¯ç”±é€‰æ‹©é¦–éƒ¨</p><p>C.ç›®çš„ç«™é€‰é¡¹é¦–éƒ¨</p><p>D.èº«ä»½éªŒè¯é¦–éƒ¨</p></li><li><p>IPv6 çš„åœ°å€é…ç½®æ–¹æ³•ä¸åŒ…æ‹¬( )ã€‚</p><p>A.é‡‡ç”¨æ— ç±»åˆ«ç¼–å€ CIDR</p><p>B.æ— çŠ¶æ€åœ°å€è‡ªåŠ¨é…ç½®</p><p>C.DHCPv6 å¼•å…¥ IPv6</p><p>D.æ‰‹å·¥é…ç½®</p></li></ol>]]></content>
    
    
    <categories>
      
      <category>æœ¬ç§‘</category>
      
      <category>å¤§ä¸‰ä¸‹</category>
      
      <category>è®¡ç®—æœºç½‘ç»œ</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ä¼ è¾“å±‚çŸ¥è¯†ç‚¹</title>
    <link href="/2023/06/21/%E6%9C%AC%E7%A7%91/%E5%A4%A7%E4%B8%89%E4%B8%8B/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E7%90%86%E8%AE%BA%E7%9F%A5%E8%AF%86%E7%82%B9/%E4%BC%A0%E8%BE%93%E5%B1%82%E7%9F%A5%E8%AF%86%E7%82%B9/"/>
    <url>/2023/06/21/%E6%9C%AC%E7%A7%91/%E5%A4%A7%E4%B8%89%E4%B8%8B/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E7%90%86%E8%AE%BA%E7%9F%A5%E8%AF%86%E7%82%B9/%E4%BC%A0%E8%BE%93%E5%B1%82%E7%9F%A5%E8%AF%86%E7%82%B9/</url>
    
    <content type="html"><![CDATA[<h1 id="ä¼ è¾“å±‚çŸ¥è¯†ç‚¹"><a href="#ä¼ è¾“å±‚çŸ¥è¯†ç‚¹" class="headerlink" title="ä¼ è¾“å±‚çŸ¥è¯†ç‚¹"></a>ä¼ è¾“å±‚çŸ¥è¯†ç‚¹</h1><blockquote><p>æœ€æ—©è®°å½•äº2023&#x2F;05&#x2F;15ï¼Œæ—¨åœ¨ç³»ç»Ÿå­¦ä¹ ä¼ è¾“å±‚å†…å®¹</p><p>ä»¥ä¸‹ç»™å‡ºä¸€äº›æ¯”è¾ƒæœ‰ç”¨çš„å‚è€ƒæ–‡ç« æˆ–è€…å¤ä¹ æ–¹æ³•ï¼š</p><p>[(139æ¡æ¶ˆæ¯) ç¬¬äº”ç«  è¿è¾“å±‚<a href="https://blog.csdn.net/weixin_43717681/article/details/118250653">ç»ƒä¹ é¢˜+è¯¾åä¹ é¢˜]_ä»¥ä¸‹å…³äºudpæ ¡éªŒå’Œçš„è¯´æ³•ä¸­,é”™è¯¯çš„æ˜¯_é»„ä¹è£çš„åšå®¢-CSDNåšå®¢</a></p></blockquote><h2 id="1-UDP"><a href="#1-UDP" class="headerlink" title="1. UDP"></a>1. UDP</h2><p><strong>ä¸ºä»€ä¹ˆè¯´UDPæ˜¯é¢å‘æŠ¥æ–‡çš„ï¼Œè€ŒTCPæ˜¯é¢å‘å­—èŠ‚æµçš„?</strong><br>å‘é€æ–¹çš„UDPå¯¹åº”ç”¨ç¨‹åºäº¤ä¸‹æ¥çš„æŠ¥æ–‡ï¼Œåœ¨æ·»åŠ é¦–éƒ¨åå°±å‘ä¸‹äº¤ä»˜IPå±‚ã€‚UDPå¯¹åº”ç”¨å±‚äº¤ä¸‹æ¥çš„æŠ¥æ–‡ï¼Œæ—¢ä¸åˆå¹¶ï¼Œä¹Ÿä¸æ‹†åˆ†ï¼Œè€Œæ˜¯ä¿ç•™è¿™äº›æŠ¥æ–‡çš„è¾¹ç•Œã€‚è¿™å°±æ˜¯è¯´ï¼Œåº”ç”¨å±‚äº¤ç»™UDPå¤šé•¿çš„æŠ¥æ–‡ï¼ŒUDPå°±ç…§æ ·å‘é€ï¼Œå³ä¸€æ¬¡å‘é€ä¸€ä¸ªæŠ¥æ–‡</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230515105235697.png" alt="image-20230515105235697"></p><h2 id="2-TCP"><a href="#2-TCP" class="headerlink" title="2. TCP"></a>2. TCP</h2><p><strong>MSSäºçª—å£å­—æ®µ</strong>ï¼š</p><p>åœ¨TCPæŠ¥æ–‡æ®µçš„é¦–éƒ¨ä¸­æœ‰ä¸€ä¸ªâ€œçª—å£å¤§å°â€çš„å­—æ®µï¼Œè¯¥å­—æ®µå 16bit&#x3D;2byteã€‚è¯¥å­—æ®µä¸»è¦ç”¨äºTCPæ»‘åŠ¨çª—å£è¿›è¡Œæµé‡æ§åˆ¶ï¼Œå¾ˆå¤šäººå–œæ¬¢æŠŠTCPçš„MSSå’Œâ€œçª—å£å¤§å°â€å­—æ®µæ··æ·†ï¼Œä»Šå¤©åœ¨è¿™äº†åšä¸€ä¸ªåŒºåˆ†è¯´æ˜ã€‚</p><p><strong>MSS</strong>æ˜¯TCPæŠ¥æ–‡æ®µä¸­æ•°æ®éƒ¨åˆ†çš„æœ€å¤§é•¿åº¦ï¼Œå¦‚æœä¸Šå±‚äº¤ä»˜ä¸‹æ¥çš„æ•°æ®è¶…è¿‡MSSå°±è¦å¯¹äº¤ä»˜ä¸‹æ¥çš„æ•°æ®è¿›è¡Œåˆ†æ®µã€‚åœ¨TCPè¿æ¥çš„ç¬¬ä¸€æ¬¡ã€ç¬¬äºŒæ¬¡æ¡æ‰‹ä¸­ä¼šåˆ†åˆ«å‘ŠçŸ¥å¯¹æ–¹MSSï¼Œä»è€Œèµ·åˆ°é€šä¿¡åŒæ–¹åå•†MSSçš„æ•ˆæœã€‚</p><p><strong>TCP</strong>æŠ¥æ–‡æ®µé¦–éƒ¨ä¸­ï¼Œâ€œçª—å£å¤§å°â€å­—æ®µé€šå¸¸ç”¨äºå‘ŠçŸ¥å¯¹æ–¹è‡ªå·±çš„èƒ½å¤Ÿæ¥å—çš„æ•°æ®é‡å¤§å°ã€‚çª—å£æœ¬è´¨å°±æ˜¯ä¸€ä¸ªç¼“å†²åŒºbufferï¼Œè¯¥å­—æ®µçš„å€¼ç”¨äºå‘ŠçŸ¥å¯¹æ–¹è‡ªå·±å‰©ä½™çš„å¯ç”¨ç¼“å†²åŒºå¤§å°ã€‚åœ¨æ¯ä¸€ä¸ªTCPæŠ¥æ–‡æ®µä¸­éƒ½ä¼šé€šè¿‡â€œçª—å£â€å­—æ®µå‘ŠçŸ¥å¯¹æ–¹è‡ªå·±çš„æ‰€èƒ½æ¥æ”¶æ•°æ®çš„å¤§å°ã€‚çª—å£å¤§å°é€šå¸¸ç”¨æ»‘åŠ¨çª—å£æµé‡æ§åˆ¶ã€‚</p><h3 id="2-3-æµé‡æ§åˆ¶"><a href="#2-3-æµé‡æ§åˆ¶" class="headerlink" title="2.3 æµé‡æ§åˆ¶"></a>2.3 æµé‡æ§åˆ¶</h3><h5 id="æ»‘åŠ¨çª—å£æœºåˆ¶"><a href="#æ»‘åŠ¨çª—å£æœºåˆ¶" class="headerlink" title="æ»‘åŠ¨çª—å£æœºåˆ¶"></a>æ»‘åŠ¨çª—å£æœºåˆ¶</h5><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230515102940385.png" alt="image-20230515102940385"></p><h3 id="2-4-æ‹¥å¡æ§åˆ¶"><a href="#2-4-æ‹¥å¡æ§åˆ¶" class="headerlink" title="2.4 æ‹¥å¡æ§åˆ¶"></a>2.4 æ‹¥å¡æ§åˆ¶</h3><p>å…³äºæ…¢å¯åŠ¨å’Œé¿å…æ‹¥å¡çš„ä¸¤ä¸ªä¸åŒçš„é˜¶æ®µ</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230515101115573.png" alt="image-20230515101115573"></p>]]></content>
    
    
    <categories>
      
      <category>æœ¬ç§‘</category>
      
      <category>å¤§ä¸‰ä¸‹</category>
      
      <category>è®¡ç®—æœºç½‘ç»œ</category>
      
      <category>ç†è®ºçŸ¥è¯†ç‚¹</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>Androidçš„build.gradleæ‰§è¡Œimplementationæ— æ³•å¯¼å…¥ä¾èµ–çš„è§£å†³æ–¹æ³•</title>
    <link href="/2023/06/20/%E5%90%84%E7%A7%8D%E9%9A%8F%E7%AC%94%E7%BB%8F%E9%AA%8C%E8%AE%B0%E5%BD%95/gradle%E9%83%A8%E5%88%86%E4%BE%9D%E8%B5%96%E6%97%A0%E6%B3%95%E5%AF%BC%E5%85%A5%E9%97%AE%E9%A2%98/"/>
    <url>/2023/06/20/%E5%90%84%E7%A7%8D%E9%9A%8F%E7%AC%94%E7%BB%8F%E9%AA%8C%E8%AE%B0%E5%BD%95/gradle%E9%83%A8%E5%88%86%E4%BE%9D%E8%B5%96%E6%97%A0%E6%B3%95%E5%AF%BC%E5%85%A5%E9%97%AE%E9%A2%98/</url>
    
    <content type="html"><![CDATA[<h1 id="android-çš„build-gradle-æ‰§è¡Œimplementationæ— æ³•å¯¼å…¥ä¾èµ–çš„è§£å†³æ–¹æ³•"><a href="#android-çš„build-gradle-æ‰§è¡Œimplementationæ— æ³•å¯¼å…¥ä¾èµ–çš„è§£å†³æ–¹æ³•" class="headerlink" title="android çš„build.gradle æ‰§è¡Œimplementationæ— æ³•å¯¼å…¥ä¾èµ–çš„è§£å†³æ–¹æ³•"></a>android çš„build.gradle æ‰§è¡Œimplementationæ— æ³•å¯¼å…¥ä¾èµ–çš„è§£å†³æ–¹æ³•</h1><hr><blockquote><p>æœ€è¿‘åœ¨å­¦ä¹ androidçš„æ—¶å€™ï¼Œæœ‰å‡ ä¸ªåº“éƒ½é‡åˆ°äº†æ— æ³•é€šè¿‡implementationä»ç½‘ä¸Šä¸‹è½½ä¸‹æ¥</p><p>åé¢æœäº†ä¸€åœˆå‘ç°äº†ä¸€ç¯‡åšä¸»çš„å›ç­”</p><p><a href="https://blog.csdn.net/Goals1989/article/details/125724756">(161æ¡æ¶ˆæ¯) Failed to resolve: com.scwang.smartrefresh:SmartRefreshLayout:1.1.2_hudawei996çš„åšå®¢-CSDNåšå®¢</a></p></blockquote><p>ä¸»è¦åŸå› æ˜¯gradleç‰ˆæœ¬çš„å‡çº§ï¼Œé…ç½®æ–‡ä»¶å‘ç”Ÿäº†å˜åŒ–ï¼Œå¯¼è‡´æ— æ³•åœ¨build.gradleå½“ä¸­å¯¼å…¥ä¸€äº›åŒ…</p><p>ä¾‹å¦‚ç”¨åˆ°äº†æ•°æ®åº“çš„<strong>litepal</strong>åŒ…ä»¥åŠ<strong>smartrefresh</strong>å·¥å…·</p><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs gradle">implementation <span class="hljs-string">&#x27;org.litepal.guolindev:core:3.2.3&#x27;</span><br>implementation <span class="hljs-string">&#x27;com.scwang.smartrefresh:SmartRefreshLayout:1.1.0-alpha-21&#x27;</span><br></code></pre></td></tr></table></figure><p>éœ€è¦åˆ°<code>setting.gradle</code>å½“ä¸­æ·»åŠ <strong>jcenterï¼ˆï¼‰</strong></p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230620154640619.png" alt="image-20230620154640619"></p>]]></content>
    
    
    <categories>
      
      <category>å„ç§éšç¬”ç»éªŒè®°å½•</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>Androidæ¨¡ä»¿ç²¤è‹—APPç•Œé¢åŠŸèƒ½å®ç°</title>
    <link href="/2023/06/20/%E6%9C%AC%E7%A7%91/%E5%A4%A7%E4%B8%89%E4%B8%8B/%E7%A7%BB%E5%8A%A8%E4%BA%92%E8%81%94%E7%BD%91%E7%BC%96%E7%A8%8B/Andoird%E6%A8%A1%E4%BB%BF%E7%B2%A4%E8%8B%97APP/"/>
    <url>/2023/06/20/%E6%9C%AC%E7%A7%91/%E5%A4%A7%E4%B8%89%E4%B8%8B/%E7%A7%BB%E5%8A%A8%E4%BA%92%E8%81%94%E7%BD%91%E7%BC%96%E7%A8%8B/Andoird%E6%A8%A1%E4%BB%BF%E7%B2%A4%E8%8B%97APP/</url>
    
    <content type="html"><![CDATA[<h1 id="Android-æ¨¡ä»¿ç²¤è‹—APPç•Œé¢åŠŸèƒ½å®ç°"><a href="#Android-æ¨¡ä»¿ç²¤è‹—APPç•Œé¢åŠŸèƒ½å®ç°" class="headerlink" title="Android æ¨¡ä»¿ç²¤è‹—APPç•Œé¢åŠŸèƒ½å®ç°"></a>Android æ¨¡ä»¿ç²¤è‹—APPç•Œé¢åŠŸèƒ½å®ç°</h1><h2 id="0-é¢˜ç›®è¦æ±‚"><a href="#0-é¢˜ç›®è¦æ±‚" class="headerlink" title="0. é¢˜ç›®è¦æ±‚"></a>0. é¢˜ç›®è¦æ±‚</h2><p>é¢˜ç›®ï¼šæˆ‘çš„ ç²¤è‹—APP</p><p>\1. ç²¤è‹—APPç•Œé¢</p><p>Ã˜ åŸºäºå·²å®Œæˆçš„â€œAPPè°ƒç ”æŠ¥å‘Šâ€ç›¸å…³çš„ç»éªŒæ€»ç»“ï¼Œå°½é‡æ¨¡æ‹Ÿå¦‚ä¸‹ç²¤è‹—APPï¼ˆåä¸ºåº”ç”¨å¸‚åœºï¼šç²¤è‹—ï¼‰çš„åŠŸèƒ½ï¼Œå³å‚è€ƒå¦‚ä¸‹çš„ç•Œé¢å±•ç¤ºå½¢å¼åŠåŠŸèƒ½æ¨¡å—ï¼š</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230620111831812.png" alt="image-20230620111831812"><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230620111855908.png" alt="image-20230620111855908"><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230620111909475.png" alt="image-20230620111909475"></p><p>å›¾1 ç²¤è‹—APPï¼›åŠŸèƒ½æ¨¡å—åŠå…¶é«˜æ¸…å›¾å¯ä»¥å»APPæŸ¥çœ‹</p><p>\2. å…·ä½“è¦æ±‚</p><p>æ¨¡æ‹Ÿå›¾1æ‰€ç¤ºç²¤è‹—APPï¼Œä»‹ç»è¯¥APPä¸æœåŠ¡ç›¸å…³çš„ä¸€äº›çŸ¥è¯†ç‚¹å¹¶èƒ½æä¾›ç›¸åº”åŠŸèƒ½ï¼š</p><p>1ï¼‰ å»ºè®®åŒ…å«çš„ä¸€äº›åŠŸèƒ½ï¼šæ´»åŠ¨ä¹‹é—´çš„è½¬æ¢ä¸æ•°æ®ä¼ é€’ï¼›èƒ½é€‚åº”ä¸åŒçš„å±•ç¤ºç•Œé¢ï¼›æœ‰ç™»å½•åŠŸèƒ½ï¼Œå¼ºåˆ¶ä¸‹çº¿åŠŸèƒ½ï¼›æ•°æ®æœ‰å¤šæ ·åŒ–çš„æŒä¹…åŒ–åŠŸèƒ½ï¼›èƒ½è·¨ç¨‹åºæä¾›ä¸å…±äº«æ•°æ®ï¼›æœ‰å±•ç¤ºä¸€äº›å¤šåª’ä½“çš„åŠŸèƒ½ï¼›</p><p>2ï¼‰ è¾ƒå¥½çš„å®ç°äº†ä¹¦æœ¬ä¸Šä»‹ç»çš„ä¸€äº›è¾ƒæˆç†Ÿçš„åŠŸèƒ½ï¼Œå¹¶èƒ½è¾ƒå¥½çš„æŠŠè¿™äº›åŠŸèƒ½èåˆåœ¨ä¸€ä¸ªå®Œæ•´ä¸”æ— å¤§bugçš„APPé‡Œï¼›</p><p>3ï¼‰ èƒ½åœ¨æ­¤åŸºç¡€ä¸Šæ„å»ºè‡ªå·±çš„æŠ¥å‘Šäº®ç‚¹ï¼Œå¦‚å®ç°äº†ä¹¦æœ¬ä¸ä¸€æ ·çš„åŠŸèƒ½æ¨¡å—ï¼Œæˆ–è€…ä¸ºæŸä¸ªçŸ¥è¯†ç‚¹æ‰¾åˆ°é€‚å½“çš„æ–°çš„åº”ç”¨åœºæ™¯ï¼Œæˆ–è€…èƒ½è§£å†³åŒå­¦ä»¬æ™®éå­˜åœ¨çš„ä¸€äº›é—®é¢˜ç­‰ï¼›</p><p>4ï¼‰ æ¨¡æ‹Ÿçš„APPä¸å±€é™äºæ‰€å‚ç…§APPçš„åŠŸèƒ½ï¼Œå³åªéœ€å°½é‡æ¨¡æ‹Ÿè¿™äº›åŠŸèƒ½ï¼Œ<strong>ä¸è¦æ±‚å°†æ¯ä¸ªç•Œé¢æˆ–åŠŸèƒ½éƒ½å®ç°ï¼Œå¦‚æœæŸä¸ªç•Œé¢æˆ–åŠŸèƒ½ä¸èƒ½ä½“ç°å·²å­¦çŸ¥è¯†ç‚¹ï¼Œå¯ä»¥ä¸ç”¨è€ƒè™‘</strong>ï¼Œå½“ç„¶å¦‚æœèƒ½æƒ³åŠæ³•å®ç°å‡ºæ¥ï¼Œå¯ä»¥ä½œä¸ºæŠ¥å‘Šäº®ç‚¹ï¼›å³<strong>ä¸å¿…ä¸è¿™äº›ç•Œé¢æˆ–åŠŸèƒ½å®Œå…¨ä¸€æ ·ï¼Œå¯åœ¨æ­¤åŸºç¡€ä¸Šè¿›è¡Œå˜é€šï¼Œè¾¾åˆ°ç±»ä¼¼çš„æ•ˆæœå°±å¯ä»¥</strong>ï¼›å¦‚æœè®¾è®¡äº†ä¸€äº›è¯¥APPæ²¡æœ‰çš„åŠŸèƒ½ï¼Œè¯·è¯´æ˜æ¸…æ¥šè¿™äº›åŠŸèƒ½çš„å®ç°æ–¹å¼ã€æ½œåœ¨çš„ç”¨é€”ç­‰ï¼›</p><p>5ï¼‰ <strong>æ€»ä½“ç›®æ ‡æ˜¯è€ƒå¯ŸåŒå­¦ä»¬æ˜¯å¦å·²æŒæ¡è¯¾ç¨‹å†…å®¹ï¼Œæ˜¯å¦èƒ½çµæ´»åˆ©ç”¨æ‰€å­¦çš„çŸ¥è¯†ç‚¹</strong>ï¼Œåšåˆ°æ¯ä¸ªåŠŸèƒ½å„ç§å®ç°æ–¹å¼çš„ä¸°å¯ŒåŒ–ï¼ˆå¦‚æ•°æ®çš„æŒä¹…åŒ–çš„ä¸‰ç§å®ç°æ–¹å¼éƒ½èƒ½åœ¨APPä¸­æœ‰æ‰€ä½“ç°ï¼‰ï¼Œå¹¶ä¸”èƒ½äº†è§£å¹¶æ€»ç»“ä¸åŒå®ç°æ–¹å¼çš„ä¼˜åŠ£ï¼Œä¸”èƒ½é€šè¿‡APPçš„å®ç°ä½“ç°å‡ºæ¥ï¼›</p><p>\3. éƒ¨åˆ†å‚è€ƒ</p><p>1ï¼‰åŠŸèƒ½å®ç°å‚è€ƒï¼šå›¾ç¬¬1-3åˆ—å°½é‡å‚è€ƒç¬¬6ç« æ•°æ®æŒä¹…åŒ–æŠ€æœ¯çš„å„ä¸ªçŸ¥è¯†ç‚¹ï¼›ç¬¬1åˆ—å°½é‡å‚è€ƒå¸ƒå±€åŠæ´»åŠ¨ä¹‹é—´çš„è·³è½¬ï¼Œç¢ç‰‡çš„å®ç°ï¼Œå¤šåª’ä½“å±•ç¤ºåŠŸèƒ½ï¼›ç¬¬1,2åˆ—å¯ä»¥åˆ©ç”¨Tablayoutã€ViewPageræˆ–RecyclerViewï¼›</p><p>2ï¼‰è®¾è®¡AndroidåŸºäºä½ç½®çš„æœåŠ¡ï¼Œæ¯”å¦‚èƒ½æ ¹æ®ç”¨æˆ·æ‰€åœ¨ä½ç½®æŸ¥æ‰¾æœ€è¿‘çš„æœåŠ¡æˆ–é—¨è¯Šç½‘ç‚¹ï¼›æ·»åŠ ä¸€ä¸ªå°åŠŸèƒ½ï¼Œæ•´åˆç½‘ç»œæŠ€æœ¯çš„åº”ç”¨ï¼Œæ¯”å¦‚â€œæ”¶è—â€çš„åŠŸèƒ½ï¼Œæˆ–ä¸ªäººæ¥ç§è®°å½•çš„çº¿ä¸‹ä¿å­˜ï¼›åˆ©ç”¨æ•°æ®åå°ä¸‹è½½çš„åŠŸèƒ½ï¼Œæ¯”å¦‚æ¥ç§æ‰‹å†Œæˆ–æ¥ç§æŒ‡å¯¼è§†é¢‘çš„ä¸‹è½½ç­‰ï¼›</p><p>3ï¼‰å¯ä»¥å€Ÿé‰´çš„éƒ¨åˆ†ç« èŠ‚å†…å®¹ï¼Œç¬¬12ç« å¯ä»¥è®©ä½ çš„APPç•Œé¢å˜å¾—æ›´ç¾è§‚ï¼›ç¬¬14ç« å±•ç¤ºäº†ä¸€ä¸ªå¤§å‹çš„å·¥ç¨‹ï¼Œå¯ä»¥å­¦ä¹ ä¸‹å¤šä¸ªåŠŸèƒ½æ€æ ·åœ¨ä¸€ä¸ªå·¥ç¨‹é‡Œä½“ç°ï¼›</p><p>\4. å…¶å®ƒè¦æ±‚</p><p>1ï¼‰æ„å»ºçš„APPè¦æ ¼å¼å·¥æ•´ï¼Œç¾è§‚ï¼›ä¸ªäººè¡¥å……çš„æ–°çš„åŠŸèƒ½æˆ–ç•Œé¢å¯ä»¥ä¸â€œAPPè°ƒç ”æŠ¥å‘Šâ€çš„æ€»ç»“å¯¹åº”ä¸Šï¼›</p><p>2ï¼‰å®éªŒæŠ¥å‘Šä¸­éœ€è¦æœ‰åŠŸèƒ½çš„æè¿°ã€å®éªŒç»“æœçš„æˆªå±å›¾åƒåŠè¯¦ç»†è¯´æ˜ï¼›ç»“æœå±•ç¤ºè¦å…·ä½“ï¼Œå›¾æ–‡äº¤å‰è§£é‡Šï¼›ä»£ç ä¸æ–‡æœ¬é‡ç‚¹è¦çªå‡ºï¼›å»ºè®®æŠ¥å‘Šé‡‡ç”¨ç™½è‰²èƒŒæ™¯çš„å½¢å¼ï¼›</p><p>3ï¼‰ä¹Ÿæ¬¢è¿é‡‡ç”¨è¯¾ç¨‹åç»­ç« èŠ‚çš„çŸ¥è¯†ç‚¹å®Œæˆæœ¬æ¬¡å¤§ä½œä¸šï¼Œå¦‚æœå®ç°çš„åŠŸèƒ½è¨€ä¹‹åˆç†ï¼Œä¼šè€ƒè™‘é…Œæƒ…åŠ åˆ†ï¼›</p><p>4ï¼‰æ¯ä½åŒå­¦åœ¨æœ€åä¸€æ¬¡è¯¾éƒ½éœ€è¦ä¸Šå°æŠ¥å‘Šï¼Œå¹¶ä¸”æœ€å¥½èƒ½ç°åœºæ¼”ç¤ºAPPçš„åŠŸèƒ½ç­‰ï¼Œæ²¡ä¸Šå°æŠ¥å‘Šçš„åŒå­¦åˆ†æ•°ä¼šå—ä¸€å®šçš„å½±å“ï¼›</p><p>5ï¼‰æŠ¥å‘Šç”±ä¸ªäººç‹¬ç«‹å®Œæˆã€‚</p><h2 id="ç›®å½•"><a href="#ç›®å½•" class="headerlink" title="ç›®å½•"></a>ç›®å½•</h2><p>[TOC]</p><blockquote><p>å¼€å‘è¯­è¨€ï¼šJava</p><p>å¼€å‘å·¥å…·ï¼šAndroid Studio</p><p><strong>å¼€å‘ç”¨åˆ°çš„å¤–éƒ¨åŒ…</strong>ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//ä¸‰ä¸ªä¾èµ–ï¼Œç”¨äºTablayoutï¼Œviewpagerï¼ŒrecyclerViewå¸ƒå±€</span><br>implementation <span class="hljs-string">&#x27;androidx.legacy:legacy-support-v4:1.0.0&#x27;</span><br>implementation <span class="hljs-string">&#x27;com.google.android.material:material:1.5.0&#x27;</span><br>implementation <span class="hljs-string">&#x27;androidx.recyclerview:recyclerview:1.2.1&#x27;</span><br><span class="hljs-comment">//æ•°æ®åº“çš„litepal</span><br>implementation <span class="hljs-title function_">files</span><span class="hljs-params">(<span class="hljs-string">&#x27;libs/litepal-2.0.0-src.jar&#x27;</span>)</span><br><span class="hljs-comment">//ç™¾åº¦åœ°å›¾API</span><br>implementation <span class="hljs-title function_">files</span><span class="hljs-params">(<span class="hljs-string">&#x27;libs/BaiduLBS_Android.jar&#x27;</span>)</span><br><span class="hljs-comment">//å¼•ç”¨åˆ«äººçš„ç™¾åº¦åœ°å›¾é¡¹ç›®æ—¶ç”¨åˆ°çš„</span><br>implementation <span class="hljs-string">&#x27;com.scwang.smartrefresh:SmartRefreshLayout:1.1.0-alpha-21&#x27;</span><br><span class="hljs-comment">//äºŒç»´ç æ‰«æä¾èµ–</span><br>implementation <span class="hljs-string">&#x27;com.google.zxing:core:3.3.3&#x27;</span><br>implementation <span class="hljs-string">&#x27;com.journeyapps:zxing-android-embedded:3.6.0&#x27;</span><br><br></code></pre></td></tr></table></figure><p>æ³¨æ„ï¼ï¼ï¼</p><ol><li><p>è¿™é‡Œå¯èƒ½æœ‰çš„äººç‰ˆæœ¬æ˜¯support-v4å¯¹åº”çš„åŒ…</p><p>æ·»åŠ äº†support-v4çš„åŒ…åå‘ç°build.gradleï¼ˆGradle Scriptsæ–‡ä»¶å¤¹ä¸‹ï¼‰æœ‰æŠ¥é”™ï¼Œ</p><p>æŠ¥é”™å†…å®¹ç±»ä¼¼<code>Version 28 (intended for Android Pie and below) is the last version of the legacy support library</code></p><p>è¿™æ˜¯å› ä¸ºå½“å‰çš„ASå·²ç»ä¸æ”¯æŒè¿™äº›æ—§çš„åŒ…ï¼Œå› æ­¤å¯ä»¥å°†support-v4è¿ç§»åˆ°AndroidXï¼Œå…·ä½“æ–¹æ³•å‚è€ƒä¸‹é¢çš„æ–‡ç« æˆ–è€…è‡ªè¡Œæœç´¢ï¼š</p><p><a href="https://blog.csdn.net/lfdfhl/article/details/105269551">(174æ¡æ¶ˆæ¯) Version 28 (intended for Android Pie and below) is the last version of the legacy support library_è°·å“¥çš„å°å¼Ÿçš„åšå®¢-CSDNåšå®¢</a></p></li><li><p>litepalçš„å¼•å…¥æ˜¯<strong>æœ¬åœ°</strong>ä¸‹è½½å¥½å¹¶ä¸”å¯¼å…¥çš„ä¾èµ–</p><p>è¿™é‡Œå°è¯•è¿‡ç›´æ¥å¼•å…¥<code>implementation &#39;org.litepal.guolindev:core:3.2.0&#39;</code>æˆ–è€…æ˜¯<code>implementation &#39;org.litepal.android:core:3.2.0&#39;</code></p><p>ä½†æ˜¯å‘ç°åœ¨Javaï¼Œmanifestæ–‡ä»¶å½“ä¸­æ ¹æœ¬æ‰¾ä¸åˆ°å–è¿™ä¸ªåº“ç›¸å…³çš„å†…å®¹</p><p>äºæ˜¯å°±ç›´æ¥åˆ°githubä¸Šé¢ä¸‹è½½jaråŒ…å¹¶ä¸”å¯¼å…¥äº†</p><p>ç»™å‡ºä¸‹è½½åœ°å€ ï¼š <a href="https://github.com/guolindev/LitePal#latest-downloads/">https://github.com/guolindev/LitePal#latest-downloads/</a></p></li><li><p>ç™¾åº¦åœ°å›¾çš„APIï¼ˆLBS SDKï¼‰ä¹Ÿæ˜¯è¦ä¸Šç½‘ä¸‹è½½åˆ°<strong>æœ¬åœ°</strong>çš„ï¼Œä½†æ˜¯ä¼šæœ‰ä¸åŒçš„åŒ…é€‰æ‹©</p><p>æ‰€ä»¥å¦‚æœæ˜¯ä½¿ç”¨åˆ«äººçš„é¡¹ç›®ï¼Œé‚£ä¹ˆåˆ™å»ºè®®ç›´æ¥ç”¨åˆ«äººlibsä¸‹é¢çš„LBS SDKåŒ…ï¼Œå¦åˆ™å¯èƒ½å‡ºç°ä¸å…¼å®¹çš„æƒ…å†µ</p></li><li><p>é¡¹ç›®æºç ï¼š</p><p><a href="https://github.com/Cheesheep/AndroidFinal-YueMiaoApp">Cheesheep&#x2F;AndroidFinal-YueMiaoApp: the final project of Android Class in 2023â€™s Junior Year02 (github.com)</a></p></li></ol></blockquote><h2 id="1-æ•ˆæœå±•ç¤º"><a href="#1-æ•ˆæœå±•ç¤º" class="headerlink" title="1. æ•ˆæœå±•ç¤º"></a>1. æ•ˆæœå±•ç¤º</h2><blockquote><p>å…¨éƒ¨åŠŸèƒ½å®ç°åŠŸèƒ½å¦‚ä¸‹ï¼šã€</p><p><strong>åŸºæœ¬åŠŸèƒ½ï¼š</strong></p><ul><li>ç”¨æˆ·ç™»å½•ï¼ˆæ•°æ®æŒä¹…åŒ–ï¼‰ï¼š<strong>æ•°æ®åº“æ–‡ä»¶å­˜å‚¨å’Œè¯»å–</strong>è´¦å·å¯†ç </li><li>é€€å‡ºç™»å½•ï¼ˆå¹¿æ’­æœºåˆ¶å®ç°å¼ºåˆ¶ä¸‹çº¿ï¼‰</li><li>æç¤ºç½‘ç»œä¸­æ–­ï¼ˆå¹¿æ’­æœºåˆ¶å®ç°ç½‘ç»œç›‘å¬ï¼‰</li><li>ä½¿ç”¨<strong>SharedPreference</strong>å®ç°è®°ä½å¯†ç åŠŸèƒ½ï¼ˆæ•°æ®æŒä¹…åŒ–ï¼‰ï¼š</li><li>ç‚¹å‡»é¡µé¢æ‰“å¼€åµŒå…¥å¼Webå†…å®¹ï¼ˆä½¿ç”¨WebViewï¼‰</li><li><strong>ä¾§è¾¹æ </strong>æ”¾ç½®ç”¨æˆ·ä¿¡æ¯æ¡ï¼ˆNavigationVIewï¼‰</li><li>æ–°é—»å†…å®¹ä½¿ç”¨Tabå®ç°åˆ‡æ¢ï¼ˆViewPagerï¼‰</li><li>ä½¿ç”¨RecyclerViewå®ç°å¤šç§å¸ƒå±€ï¼ˆçº¿æ€§ï¼Œç€‘å¸ƒå¼ï¼Œç½‘æ ¼ç­‰ï¼‰</li><li>ç½‘æ ¼èœå•å¸ƒå±€GridLayout</li></ul><p><strong>æ–°åŠŸèƒ½ï¼š</strong></p><ul><li>zxingåº“å®ç°<strong>æ‰«æã€ç”ŸæˆäºŒç»´ç </strong>ï¼ˆè·¨ç¨‹åºå…±äº«æ•°æ®ï¼ŒThreadï¼‰</li><li>ç™¾åº¦APIï¼ˆLBS SDKï¼‰å®ç°åœ°å›¾ä»¥åŠå¯»æ‰¾é™„è¿‘é—¨è¯ŠåŠŸèƒ½ï¼ˆä½ç½®æœåŠ¡ï¼‰</li><li>å—ç§è€…ä¿¡æ¯å®ç°CRUDå¢åˆ æ”¹æŸ¥ï¼ˆæ•°æ®åº“æ“ä½œï¼‰</li><li>è½®æ’­å›¾å®ç°ï¼ˆViewPagerï¼Œ<strong>å¤šçº¿ç¨‹</strong>ï¼‰</li></ul></blockquote><ul><li><p>é¦–å…ˆæ‰“å¼€APPé¡µé¢å…ˆè¿›å…¥çš„æ˜¯ç™»å½•ç•Œé¢ï¼Œå¯ä»¥é€‰æ‹©<strong>è®°ä½å¯†ç </strong></p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/%E8%81%94%E6%83%B3%E6%88%AA%E5%9B%BE_20230619171717.png" alt="è”æƒ³æˆªå›¾_20230619171717"></p></li><li><p>ç™»å½•æˆåŠŸåè¿›å…¥é¦–é¡µï¼Œé¡µé¢ä»ä¸Šåˆ°ä¸‹æ˜¯<strong>è½®æ’­å›¾</strong>ï¼Œ<strong>é¢„çº¦ä¸“é¢˜èœå•</strong>ã€<strong>æ–°å† ç›¸å…³æ–°é—»</strong></p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230619173947816.png" alt="image-20230619173947816"></p><p>ç‚¹å‡»å·¦ä¸Šè§’çš„å›¾æ ‡å¯ä»¥å±•ç¤ºä¸ªäººä¿¡æ¯ä¾§è¾¹æ </p><p>é¦–é¡µä¸‹æ–¹çš„æ–°é—»å¯ä»¥å®ç°fragemntçš„<strong>é¡µé¢åˆ‡æ¢</strong>ï¼Œæ–°é—»å…·ä½“é¡µé¢ç”¨<strong>WebViewåµŒå…¥ç½‘é¡µ</strong>å¯¹åº”å†…å®¹</p></li><li><p>é¦–é¡µç‚¹å‡»é¢„çº¦ä¸“é¢˜å½“ä¸­çš„<strong>å›¢ä½“é¢„çº¦</strong>ï¼š</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/%E8%81%94%E6%83%B3%E6%88%AA%E5%9B%BE_20230619173712.png" alt="è”æƒ³æˆªå›¾_20230619173712"></p><p>é€šè¿‡è¾“å…¥ä»»æ„æ•°å­—ï¼Œè‹±æ–‡ï¼Œä¸­æ–‡éƒ½å¯ä»¥ç”Ÿæˆå±äºè‡ªå·±çš„äºŒç»´ç ï¼Œä¹Ÿå¯ä»¥ç‚¹å‡»æ‰«æåˆ«äººçš„äºŒç»´ç </p><p>ä»è€Œè·å–å›¢ä½“ç æ•°å­—å†…å®¹</p></li><li><p>ç‚¹å‡»åº•éƒ¨å¯¼èˆªæ ï¼Œåˆ‡æ¢åˆ°<strong>é—¨è¯Š</strong></p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230619175026770.png" alt="image-20230619175026770"></p><p>é—¨è¯Šä½¿ç”¨äº†ç™¾åº¦åœ°å›¾çš„APIï¼Œç‚¹å‡»ç¤¾åº·ï¼Œé—¨è¯Šï¼ŒåŒ»é™¢ä¸‰ä¸ªæŒ‰é’®ï¼Œå¯ä»¥åŸºäºå½“å‰çš„ä½ç½®æœç´¢</p><p>åˆ°é™„è¿‘æœ€è¿‘çš„é—¨è¯Šç­‰ï¼Œå¦‚å›¾ä¸ºæœç´¢éº¦å½“åŠ³çš„ç»“æœ</p></li><li><p>æœ€ååˆ‡æ¢åˆ°ä¸ªäººé¡µé¢ï¼Œå¯ä»¥ç‚¹å‡»è¿›å»æŸ¥çœ‹å—ç§è€…ä¿¡æ¯</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230619175451553.png" alt="image-20230619175451553"></p><p>å¯ä»¥å¯¹å—ç§è€…çš„ä¿¡æ¯å®ç°å¢åˆ æ”¹æŸ¥ï¼Œä¹Ÿå¯ä»¥å°†æŸä¸ªå—ç§è€…ç»‘å®šåˆ°å½“å‰çš„ç”¨æˆ·</p></li></ul><h2 id="2-åŸºæœ¬åŠŸèƒ½ä»‹ç»"><a href="#2-åŸºæœ¬åŠŸèƒ½ä»‹ç»" class="headerlink" title="2. åŸºæœ¬åŠŸèƒ½ä»‹ç»"></a>2. åŸºæœ¬åŠŸèƒ½ä»‹ç»</h2><blockquote><p>è¿™ä¸€éƒ¨åˆ†å…ˆç®€å•åœ°ä»‹ç»ä¸€ä¸‹ä¸€äº›åŸºæœ¬çš„é¡µé¢åŠŸèƒ½ï¼Œå¤§éƒ½æ˜¯ä¹‹å‰çš„å®éªŒæ›¾ç»å®ç°è¿‡çš„</p><p>é¦–å…ˆçœ‹ä¸€ä¸‹Javaæ–‡ä»¶çš„å¸ƒå±€ï¼Œæ–‡ä»¶è¾ƒå¤šï¼Œå› æ­¤æŒ‰ç…§é¡µé¢æ¥è¿›è¡Œåˆ†ç±»</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230619181107797.png" alt="image-20230619181107797"></p><p>ä¸»è¦é¡µé¢ä¸ºå››ä¸ªï¼Œåˆ†åˆ«æ˜¯ç™»é™†é¡µé¢ã€é¦–é¡µã€é—¨è¯Šé¡µé¢ã€ä¸ªäººä¸»é¡µ</p><p>è¿˜æœ‰ä¸€äº›å­é¡µé¢ï¼Œä¾‹å¦‚å›¢ä½“ç æ‰«æï¼Œå—ç§è€…ä¿¡æ¯ç­‰åœ¨ä¸‹é¢ä¼šè¯¦ç»†å±•å¼€</p></blockquote><h3 id="2-1-é¡¶éƒ¨æ ToolBarä»¥åŠä¾§æ»‘æ Navigation"><a href="#2-1-é¡¶éƒ¨æ ToolBarä»¥åŠä¾§æ»‘æ Navigation" class="headerlink" title="2.1 é¡¶éƒ¨æ ToolBarä»¥åŠä¾§æ»‘æ Navigation"></a>2.1 é¡¶éƒ¨æ ToolBarä»¥åŠä¾§æ»‘æ Navigation</h3><blockquote><p>é¡¶éƒ¨èœå•æ ï¼š</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/%E8%81%94%E6%83%B3%E6%88%AA%E5%9B%BE_20230619183236.png" alt="è”æƒ³æˆªå›¾_20230619183236"></p><p>ä¾§è¾¹æ ï¼š</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/%E8%81%94%E6%83%B3%E6%88%AA%E5%9B%BE_20230619183300.png" alt="è”æƒ³æˆªå›¾_20230619183300"></p><p><strong>å¸ƒå±€æ–‡ä»¶</strong>ï¼š</p><ul><li>activity_main.xml ï¼šä¸»æ´»åŠ¨é¡µé¢</li><li>toolbar_menuï¼šèœå•æ å›¾æ ‡ï¼ˆå³ä¾§çš„åˆ†äº«å’Œä¸ªäººé¡µé¢çš„logoï¼‰</li><li>nav_header,xml ï¼šä¾§æ»‘æ çš„å¤´éƒ¨ä¿¡æ¯ï¼ˆå¤´åƒï¼Œæ˜µç§°ï¼Œè”ç³»æ–¹å¼ï¼‰</li><li>left_drawer.xmlï¼šä¾§æ»‘æ çš„èœå•å†…å®¹</li></ul><p><strong>javaæ–‡ä»¶</strong>ï¼š</p><ul><li>MainActivity</li><li>NavigationUtil</li></ul></blockquote><h4 id="2-1-1-å¯¼å…¥å¯¼èˆªæ ä¾èµ–"><a href="#2-1-1-å¯¼å…¥å¯¼èˆªæ ä¾èµ–" class="headerlink" title="2.1.1 å¯¼å…¥å¯¼èˆªæ ä¾èµ–"></a>2.1.1 å¯¼å…¥å¯¼èˆªæ ä¾èµ–</h4><p>å¯¼å…¥â€NavigationViewâ€œçš„ä¾èµ–</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml">implementation &#x27;com.android.support:design:29.0.1&#x27;<br></code></pre></td></tr></table></figure><h4 id="2-1-2-é…ç½®toolbarèœå•æ å¸ƒå±€æ–‡ä»¶"><a href="#2-1-2-é…ç½®toolbarèœå•æ å¸ƒå±€æ–‡ä»¶" class="headerlink" title="2.1.2 é…ç½®toolbarèœå•æ å¸ƒå±€æ–‡ä»¶"></a>2.1.2 é…ç½®toolbarèœå•æ å¸ƒå±€æ–‡ä»¶</h4><p>å…³äºtoolbarçš„å„ç§è®¾ç½®ï¼Œå¯ä»¥å‚è€ƒä»¥ä¸‹æ–‡ç« </p><p><a href="https://blog.csdn.net/qq_42324086/article/details/117390236">(174æ¡æ¶ˆæ¯) Android Toolbarçš„ä½¿ç”¨è¯¦è§£_æš—æ‹èŠ±é¦™çš„åšå®¢-CSDNåšå®¢</a></p><p><strong>è®¾ç½®ä¸ºNoActionBar</strong>ï¼š</p><p>è¦ä½¿ç”¨toolbarï¼Œé¦–å…ˆè¦å»æ‰ç³»ç»Ÿé»˜è®¤è®¾ç½®çš„ActionBar</p><p>åœ¨AndroidManifest.xmlæ–‡ä»¶å½“ä¸­å¯ä»¥è®¾ç½®æ´»åŠ¨çš„ä¸»é¢˜ï¼Œæˆ‘ä»¬æ–°å»ºä¸€ä¸ªNoActionBarçš„ä¸»é¢˜ï¼Œå¹¶ä¸”ç»™æˆ‘ä»¬éœ€è¦é…ç½®toolBarçš„é¡µé¢èµ‹äºˆè¿™ä¸ªä¸»é¢˜å³å¯</p><p><strong>AndroidMenifest.xml</strong></p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230619183942699.png" alt="image-20230619183942699"></p><p><strong>themes.xml</strong></p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230422164201720.png" alt="image-20230422164201720"></p><p>çœ‹åˆ°æœ€å³è¾¹è®¾ç½®äº†<code>noActionBar</code>ï¼Œè¿™æ ·æ‰å¯ä»¥è®©toolbaræ­£å¸¸æ˜¾ç¤º</p><p><strong>é…ç½®toolBar</strong></p><p>éœ€è¦åœ¨<code>activity_main.xml</code>æ–‡ä»¶å½“ä¸­æ”¾å…¥toolBarï¼Œå› ä¸ºæ˜¯åœ¨é¦–é¡µä¸»æ´»åŠ¨æ”¾ç½®toolBar</p><p><strong>activity_main.xmléƒ¨åˆ†ä»£ç </strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--    é¡¶éƒ¨èœå•æ toolBar--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">androidx.appcompat.widget.Toolbar</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:id</span>=<span class="hljs-string">&quot;@+id/my_toolbar&quot;</span>                                          <span class="hljs-attr">android:theme</span>=<span class="hljs-string">&quot;@style/ThemeOverlay.AppCompat.ActionBar&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">app:popupTheme</span>=<span class="hljs-string">&quot;@style/ThemeOverlay.AppCompat.Light&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">......</span></span><br><span class="hljs-tag">/&gt;</span><br></code></pre></td></tr></table></figure><p>é™¤äº†åœ¨æ´»åŠ¨å¸ƒå±€æ–‡ä»¶ä¸­æ”¾ç½®toolbarï¼Œè¿˜éœ€è¦ä¸€ä¸ªèœå•å›¾æ ‡æ–‡ä»¶</p><p><strong>toolbar_menu.xml</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">menu</span> <span class="hljs-attr">xmlns:android</span>=<span class="hljs-string">&quot;http://schemas.android.com/apk/res/android&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">xmlns:app</span>=<span class="hljs-string">&quot;http://schemas.android.com/apk/res-auto&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">item</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:icon</span>=<span class="hljs-string">&quot;@drawable/share&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:orderInCategory</span>=<span class="hljs-string">&quot;80&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:title</span>=<span class="hljs-string">&quot;edit&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">app:showAsAction</span>=<span class="hljs-string">&quot;ifRoom|withText&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">item</span></span><br><span class="hljs-tag"><span class="hljs-attr">..........</span> /&gt;</span><br><span class="hljs-comment">&lt;!--    åé¢æœ‰æ›´å¤šçš„itemå¦‚æœæ”¾ä¸ä¸‹å°±ä¼šè¿›å…¥èœå•æ --&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">menu</span>&gt;</span><br></code></pre></td></tr></table></figure><p>è¿™é‡Œçš„é…ç½®å’ŒactionBarçš„menuç»˜åˆ¶æ–¹æ³•ç±»ä¼¼ï¼Œå”¯ä¸€åŒºåˆ«å°±æ˜¯<code>app:showAsAction</code>ä¸åŒï¼Œè¯¥å±æ€§æ˜¯Toolbarå½“ä¸­å¾ˆå…³é”®çš„å±æ€§</p><p>å…¶ä¸­å››ä¸ªä¸åŒçš„å€¼çš„ä½œç”¨åˆ†åˆ«å¦‚ä¸‹ï¼š</p><p>1ï¼‰alwaysï¼šè¿™ä¸ªå€¼ä¼šä½¿èœå•é¡¹ä¸€ç›´æ˜¾ç¤ºåœ¨ ToolBarä¸Šã€‚<br>2ï¼‰ifRoomï¼šå¦‚æœæœ‰è¶³å¤Ÿçš„ç©ºé—´ï¼Œè¿™ä¸ªå€¼ä¼šä½¿èœå•é¡¹æ˜¾ç¤ºåœ¨ Tool Barä¸Šã€‚<br>3ï¼‰neverï¼šè¿™ä¸ªå€¼ä¼šä½¿èœå•é¡¹æ°¸è¿œéƒ½ä¸å‡ºç°åœ¨ ToolBarä¸Šã€‚<br>4ï¼‰withTextï¼šè¿™ä¸ªå€¼ä¼šä½¿èœå•é¡¹å’Œå®ƒçš„å›¾æ ‡ã€èœå•æ–‡æœ¬ä¸€èµ·æ˜¾ç¤ºã€‚ä¸€èˆ¬å’ŒifRoomä¸€èµ·é€šè¿‡â€œ|â€ä½¿ç”¨<br>app:showAsAction å±æ€§å€¼ä¸º ifRoom|withTextï¼Œè¡¨ç¤ºå¦‚æœæœ‰ç©ºé—´ï¼Œé‚£ä¹ˆå°±è¿åŒæ–‡å­—ä¸€èµ·æ˜¾ç¤ºåœ¨æ ‡é¢˜æ ä¸­ï¼Œå¦åˆ™å°±æ˜¾ç¤ºåœ¨èœå•æ ä¸­ã€‚<br>è€Œå½“app:showAsAction å±æ€§å€¼ä¸º neveræ—¶ï¼Œè¯¥é¡¹ä½œç”¨ä¸ºMenuä¸æ˜¾ç¤ºåœ¨èœå•ç»„ä»¶ä¸­ã€‚</p><p>è¿™ä¸ªæ–‡ä»¶åé¢æˆ‘ä»¬ä¼šåœ¨<strong>activityçš„Javaä»£ç </strong>å½“ä¸­å†™å…¥å¹¶ä¸”è¿æ¥ä¸Š</p><p><strong>MainActivity.java</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java">myToolbar.inflateMenu(R.menu.toolbar_menu);<br></code></pre></td></tr></table></figure><h4 id="2-1-3-é…ç½®ä¾§æ»‘æ xmlæ–‡ä»¶"><a href="#2-1-3-é…ç½®ä¾§æ»‘æ xmlæ–‡ä»¶" class="headerlink" title="2.1.3 é…ç½®ä¾§æ»‘æ xmlæ–‡ä»¶"></a>2.1.3 é…ç½®ä¾§æ»‘æ xmlæ–‡ä»¶</h4><p>æ·»åŠ NavigationViewç»„ä»¶ï¼ˆè¦ä½¿ç”¨è¯¥ç»„ä»¶éœ€è¦ä»å¤–éƒ¨å¯¼å…¥designåŒ…ï¼Œåœ¨å‰é¢æœ‰æåˆ°å¯¼å…¥çš„å…·ä½“çš„åŒ…ï¼‰</p><p>å°†è¯¥ç»„ä»¶æ·»åŠ åˆ°toolbaræ‰€åœ¨çš„æ´»åŠ¨çš„é¡µé¢å½“ä¸­ï¼Œä¹Ÿå°±æ˜¯<code>activity_main.xml</code></p><p><strong>activity_main.xmléƒ¨åˆ†ä»£ç </strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;utf-8&quot;</span>?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">androidx.drawerlayout.widget.DrawerLayout</span></span><br><span class="hljs-tag">    <span class="hljs-attr">...............</span>&gt;</span><br><br>    ...............//å…¶ä»–å¸ƒå±€ä»£ç <br>    <br><span class="hljs-comment">&lt;!--å·¦ä¾§å¯¼èˆªèœå•--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">com.google.android.material.navigation.NavigationView</span></span><br><span class="hljs-tag"><span class="hljs-attr">..............</span></span><br><span class="hljs-tag">    <span class="hljs-attr">app:headerLayout</span>=<span class="hljs-string">&quot;@layout/nav_header&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">app:menu</span>=<span class="hljs-string">&quot;@menu/left_drawer&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">androidx.drawerlayout.widget.DrawerLayout</span>&gt;</span><br></code></pre></td></tr></table></figure><p>è¿™ä¸ªèœå•æ ç”±äºæ˜¯ä¾§æ»‘å‡ºç°çš„ï¼Œæ‰€ä»¥æ”¾åœ¨æ•´ä¸ªå¸ƒå±€çš„æœ€å¤–é¢ï¼Œå¹¶ä¸”éœ€è¦ç”¨<code>DrawerLayout</code>åŒ…è£¹</p><p>æ³¨æ„çœ‹NavigationViewé‡Œé¢æœ‰ä¸¤ä¸ªappçš„å±æ€§<code>app:headerLayout</code>å’Œ<code>app:menu</code></p><p>å› æ­¤è¿™é‡Œéœ€è¦æ–°å»ºä¸¤ä¸ªæ–‡ä»¶ï¼Œä¸€ä¸ªæ˜¯å¤´éƒ¨çš„ä»£ç <code>nav_header</code>ï¼Œä¸€ä¸ªæ˜¯ä¸‹é¢çš„èœå•çš„éƒ¨åˆ†<code>left_drawer</code></p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230619184836054.png" alt="image-20230619184836054"></p><p>å¯¹åº”APPé¡µé¢å†…å®¹å¦‚ä¸Šï¼Œleft_draweræ˜¯ä¸€ä¸ªèœå•menuæ–‡ä»¶ï¼Œä»£ç æ¯”è¾ƒç®€å•å°±ä¸å±•ç¤ºäº†</p><h3 id="2-2-é¦–é¡µå†…å®¹-ç½‘æ ¼èœå•"><a href="#2-2-é¦–é¡µå†…å®¹-ç½‘æ ¼èœå•" class="headerlink" title="2.2 é¦–é¡µå†…å®¹ ç½‘æ ¼èœå•"></a>2.2 é¦–é¡µå†…å®¹ ç½‘æ ¼èœå•</h3><p>ç½‘æ ¼çš„å†…å®¹æ¯”è¾ƒç®€å•ï¼Œå¯¹åº”èœå•æ ·å¼</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230619185152433.png" alt="image-20230619185152433"></p><p>ç”¨äº†ä¸¤å±‚layoutè¿›è¡ŒåµŒå¥—å®ç°äº†ä¸Šä¸‹ä¸åŒçš„å®½åº¦ï¼Œä¸åŒä¸ªæ•°çš„èœå•</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">GridLayout</span> <span class="hljs-attr">xmlns:android</span>=<span class="hljs-string">&quot;http://schemas.android.com/apk/res/android&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:columnCount</span>=<span class="hljs-string">&quot;1&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:rowCount</span>=<span class="hljs-string">&quot;2&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:layout_gravity</span>=<span class="hljs-string">&quot;center&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:orientation</span>=<span class="hljs-string">&quot;horizontal&quot;</span></span><br><span class="hljs-tag">    &lt;<span class="hljs-attr">GridLayout</span>  &gt;</span><br>        ä¸‰ä¸ª<span class="hljs-tag">&lt;<span class="hljs-name">Button</span> /&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">GridLayout</span>&gt;</span><br><span class="hljs-comment">&lt;!--    ç¬¬äºŒè¡Œ--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">GridLayout</span> &gt;</span><br>        äº”ä¸ª<span class="hljs-tag">&lt;<span class="hljs-name">Button</span> /&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">GridLayout</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">GridLayout</span>&gt;</span><br><br></code></pre></td></tr></table></figure><h3 id="2-3-é¦–é¡µå†…å®¹-æ–°é—»åˆ—è¡¨ï¼ˆTabLayout-ViewPager-Fragmentï¼‰"><a href="#2-3-é¦–é¡µå†…å®¹-æ–°é—»åˆ—è¡¨ï¼ˆTabLayout-ViewPager-Fragmentï¼‰" class="headerlink" title="2.3 é¦–é¡µå†…å®¹ æ–°é—»åˆ—è¡¨ï¼ˆTabLayout + ViewPager + Fragmentï¼‰"></a>2.3 é¦–é¡µå†…å®¹ æ–°é—»åˆ—è¡¨ï¼ˆTabLayout + ViewPager + Fragmentï¼‰</h3><blockquote><p>é€šçŸ¥åˆ—è¡¨ä½¿ç”¨äº†ä¸Šè¿°ä¸‰æ ·ä¸œè¥¿ç»“åˆ</p><p>TabLayoutï¼šæä¾›é€‰é¡¹åˆ‡æ¢åˆ°ä¸åŒçš„èœå•</p><p>ViewPagerï¼šç”¨äºæ»‘åŠ¨åˆ‡æ¢åˆ°ä¸åŒçš„èœå•</p><p>Fragmentï¼šæ¯ä¸ªèœå•æ˜¾ç¤ºçš„é¡µé¢å†…å®¹</p><p><strong>å®ç°æ•ˆæœ</strong>ï¼š</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/%E8%81%94%E6%83%B3%E6%88%AA%E5%9B%BE_20230619215643.png" alt="è”æƒ³æˆªå›¾_20230619215643"></p><p><strong>æ¶‰åŠé…ç½®xmlæ–‡ä»¶</strong>ï¼š</p><ul><li>fragment_homepage.xml ï¼ˆå·¦ä¾§ç¢ç‰‡å¸ƒå±€ï¼‰</li><li>main_grid_menu.xml ï¼ˆç½‘æ ¼èœå•ï¼‰</li><li>selected.xml ï¼ˆé€‰ä¸­èœå•çš„é¢œè‰²è®¾ç½®ï¼‰</li><li>themes.xml  ï¼ˆè®¾ç½®èœå•çš„æ–‡ä»¶å¤§å°ï¼‰</li><li>listview_item.xml ï¼ˆå•æ¡æ–°é—»åˆ—è¡¨çš„æ ·å¼ï¼‰</li><li>fragment_news_list&#x2F;xml ï¼ˆæ–°é—»åˆ—è¡¨ï¼Œåªå«ä¸€ä¸ªlistviewçš„ç¢ç‰‡ï¼‰</li></ul><p><strong>Javaä»£ç æ–‡ä»¶</strong>ï¼š(package com.example.yuemiaoapp.homepage.fragment;)</p><ul><li>HomepageFragement ï¼ˆæ•´ä½“ä¸»é¡µçš„ç¢ç‰‡ï¼‰</li><li>NewsFragmentPagerAdapterï¼ˆç”¨äºåˆ‡æ¢åˆ—è¡¨çš„é€‚é…å™¨ï¼‰</li><li>NewsListFragementï¼ˆæ–°é—»åˆ—è¡¨ç¢ç‰‡ï¼Œç”¨äºå±•ç¤ºä¸åŒçš„ç¢ç‰‡ï¼‰</li></ul></blockquote><h4 id="2-3-1-ç•Œé¢é…ç½®æ–‡ä»¶"><a href="#2-3-1-ç•Œé¢é…ç½®æ–‡ä»¶" class="headerlink" title="2.3.1 ç•Œé¢é…ç½®æ–‡ä»¶"></a>2.3.1 ç•Œé¢é…ç½®æ–‡ä»¶</h4><p>åœ¨ä¸»é¡µçš„ç¢ç‰‡æ–‡ä»¶ä¸­æ”¾å…¥<code>TabLayout</code>å’Œ<code>ViewPager</code>æ§ä»¶</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">LinearLayout</span> <span class="hljs-attr">xmlns:android</span>=<span class="hljs-string">&quot;http://schemas.android.com/apk/res/android&quot;</span></span><br><span class="hljs-tag"><span class="hljs-attr">.................</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--é¡¶éƒ¨å¯¼èˆªæ ï¼Œåˆ‡æ¢é€‰é¡¹å¡--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">com.google.android.material.tabs.TabLayout</span></span><br><span class="hljs-tag">        <span class="hljs-attr">app:tabBackground</span>=<span class="hljs-string">&quot;@drawable/selected&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">app:tabTextAppearance</span>=<span class="hljs-string">&quot;@style/MyTabLayoutTextAppearance&quot;</span></span><br><span class="hljs-tag"><span class="hljs-attr">................</span>/&gt;</span><br>    <span class="hljs-comment">&lt;!--ç”¨äºå®ç°å·¦å³æ»‘åŠ¨æ•ˆæœ--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">androidx.viewpager.widget.ViewPager</span></span><br><span class="hljs-tag"><span class="hljs-attr">.........</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">LinearLayout</span>&gt;</span><br></code></pre></td></tr></table></figure><p>çœ‹åˆ°ä¸Šé¢åœ¨TabLayoutå½“ä¸­å¼•å…¥äº†ä¸¤ä¸ªæ–°çš„ä¸œè¥¿ï¼š</p><p>åˆ†åˆ«æ˜¯<code>selected.xml</code>å’Œ<code>themes.xml</code>å½“ä¸­çš„<code>MyTabLayoutTextAppearance</code></p><p>è¿˜æœ‰ä¸€ä¸ªlistview</p><h4 id="2-3-2-java-ä»£ç "><a href="#2-3-2-java-ä»£ç " class="headerlink" title="2.3.2 java ä»£ç "></a>2.3.2 java ä»£ç </h4><p>è¿™é‡Œç¨å¾®è¯´æ˜ä¸€ä¸‹<strong>å®ç°çš„æ­¥éª¤</strong></p><ul><li><p>åˆå§‹åŒ–ViewPagerå’ŒTabLayout</p><p><strong>HomepageFragment.java</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//å°†é¡µé¢ç»‘å®šviewPagerï¼Œè¿›è¡Œè®¾ç½®</span><br>initViewPager();<br><span class="hljs-comment">//åˆå§‹åŒ–layoutçš„è®¾ç½®ï¼Œä¾‹å¦‚å›¾æ ‡ï¼Œå®šä½</span><br>initTabLayoutView();<br></code></pre></td></tr></table></figure></li><li><p>ä½¿ç”¨å¼€æºçš„<code>litepal</code>åº“ä»æ•°æ®åº“å½“ä¸­è·å–æ•°æ®</p><p><strong>NewsListFragment.java</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">initData</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-comment">//æ ¹æ®labelæ ‡ç­¾æ¡ä»¶æŸ¥è¯¢å¤„ç›¸åº”çš„æ–‡ç« </span><br>    mList = LitePal.where(<span class="hljs-string">&quot;label = ?&quot;</span>,label).find(Notification.class);<br>&#125;<br></code></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°è·å–æ•°æ®åº“çš„æ•°æ®æ˜¯éå¸¸ç®€å•çš„ï¼Œæ•°æ®åº“çš„é…ç½®è¿™é‡Œå°±ä¸è¯¦ç»†ä»‹ç»äº†</p><p>ä½¿ç”¨LitePalåº“é…ç½®æ˜¯æ¯”è¾ƒç®€å•çš„</p><p>å¯¹åº”æ•°æ®åº“è¡¨çš„å†…å®¹ï¼š</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230619224456710.png" alt="image-20230619224456710"></p><p>è¿™äº›åˆšå¥½å¯¹åº”äº†æ¯ä¸€æ¡æ–°é—»åˆ—è¡¨ä¸Šé¢çš„æ•°æ®</p><p>ç‚¹å‡»ä¹‹åå°±ä¼šæ ¹æ®urlçš„å†…å®¹è·³è½¬åˆ°ä¸€ä¸ªå¸¦æœ‰<strong>WebView</strong>çš„é¡µé¢ï¼Œä»è€Œå°†æ–°é—»å†…å®¹æ¸²æŸ“å‡ºæ¥</p></li><li><p>æ¸²æŸ“åˆ°<code>listView</code>æ§ä»¶ä¸Šé¢</p><p>æˆåŠŸè·å–æ•°æ®åï¼Œæˆ‘ä»¬ä¼šä½¿ç”¨<strong>Adapter</strong>ç±»æ¥å¯¹é¡µé¢çš„listViewè¿›è¡Œæ¸²æŸ“</p><p>è¿™é‡Œç”±äºä¸ºäº†æ–¹ä¾¿ï¼Œå°±å°†å¯¹åº”çš„é€‚é…å™¨ç±»<code>NewsAdapter</code>æ”¾åœ¨<code>NewsListFragment.java</code>æ–‡ä»¶å½“ä¸­äº†</p><p>æ—¢ç„¶æ˜¯listviewé‚£ä¹ˆå°±ä¼šæœ‰å¯¹åº”çš„listview_item.xmlæ¥å¯¹åº”æ¯ä¸€æ¡listçš„æ ·å¼å†…å®¹</p><p><strong>listview_item.xml</strong></p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230619224916443.png" alt="image-20230619224916443"></p><p>ä¸Šé¢æ˜¯å¯¹åº”çš„æ¯æ¡æ–°é—»åˆ—è¡¨çš„æ ·å¼</p></li></ul><h3 id="2-4-ç™»å½•é¡µé¢ï¼ˆsharedPreferenceå­˜å‚¨å¯†ç -æ•°æ®åº“æ ¡å¯¹ç”¨æˆ·ä¿¡æ¯ï¼‰"><a href="#2-4-ç™»å½•é¡µé¢ï¼ˆsharedPreferenceå­˜å‚¨å¯†ç -æ•°æ®åº“æ ¡å¯¹ç”¨æˆ·ä¿¡æ¯ï¼‰" class="headerlink" title="2.4 ç™»å½•é¡µé¢ï¼ˆsharedPreferenceå­˜å‚¨å¯†ç  + æ•°æ®åº“æ ¡å¯¹ç”¨æˆ·ä¿¡æ¯ï¼‰"></a>2.4 ç™»å½•é¡µé¢ï¼ˆsharedPreferenceå­˜å‚¨å¯†ç  + æ•°æ®åº“æ ¡å¯¹ç”¨æˆ·ä¿¡æ¯ï¼‰</h3><blockquote><p><strong>xmlæ–‡ä»¶</strong>ï¼š</p><p>activity_login.xml</p><p><strong>ç™»å½•è´¦å·</strong>ï¼š</p><p>è¯¦è§ä¸‹é¢çš„æ•°æ®åº“</p><p><strong>java ç›¸å…³æ–‡ä»¶</strong>ï¼š</p><ul><li>LoginActivity ï¼ˆç™»å½•é¡µé¢å¯¹åº”çš„æ´»åŠ¨ï¼‰</li><li>BaseActivity  ï¼ˆå¢åŠ ç›‘å¬å¹¿æ’­çš„å†…å®¹ï¼Œæ‰€æœ‰ç±»çš„åŸºç±»ï¼‰</li><li>ForceOffLineReceiver ï¼ˆå¹¿æ’­ï¼šç”¨æ¥å¼ºåˆ¶ä¸‹çº¿ï¼‰</li></ul><p><strong>ç™»å½•ç•Œé¢</strong>ï¼š</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/%E8%81%94%E6%83%B3%E6%88%AA%E5%9B%BE_20230619171717.png" alt="è”æƒ³æˆªå›¾_20230619171717"></p></blockquote><p>è¿™é‡Œçš„å¸ƒå±€æ–‡ä»¶åªæœ‰ä¸€ä¸ªï¼Œå°±ä¸è¯¦ç»†ä»‹ç»äº†</p><p>åŒ…è£¹è¾“å…¥å†…å®¹çš„<strong>é€æ˜èƒŒæ™¯</strong>ä½¿ç”¨zxingåº“è‡ªå¸¦çš„<code>#00000000</code> </p><p>è¯´ä¸€ä¸‹ç”¨äº†å“ªäº›ä¸»è¦çš„æ§ä»¶ï¼š</p><ul><li>editTextï¼šè¾“å…¥æ¡†ï¼Œå¯é€šè¿‡<code>android:theme</code>è®¾ç½®é¢œè‰²é£æ ¼</li><li>CheckBoxï¼šå‹¾é€‰æ¡†</li></ul><h4 id="2-4-1-ç”¨æˆ·ä¿¡æ¯æ ¡å¯¹"><a href="#2-4-1-ç”¨æˆ·ä¿¡æ¯æ ¡å¯¹" class="headerlink" title="2.4.1  ç”¨æˆ·ä¿¡æ¯æ ¡å¯¹"></a>2.4.1  ç”¨æˆ·ä¿¡æ¯æ ¡å¯¹</h4><p>ä»<strong>æ•°æ®åº“</strong>å½“ä¸­è·å–ç”¨æˆ·çš„æ‰€æœ‰ä¿¡æ¯ï¼Œå’Œå½“å‰è¾“å…¥æ¡†çš„ä¿¡æ¯è¿›è¡Œæ ¡å¯¹</p><p><strong>LoginActivity</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onClick</span><span class="hljs-params">(View view)</span> &#123;<br>    <span class="hljs-type">String</span> <span class="hljs-variable">account</span> <span class="hljs-operator">=</span> accountEdit.getText().toString();<br>    <span class="hljs-type">String</span> <span class="hljs-variable">password</span> <span class="hljs-operator">=</span> passwordEdit.getText().toString();<br>    <span class="hljs-comment">//å¦‚æœè´¦å·æ˜¯adminä¸”å¯†ç æ˜¯123456,å°±è®¤ä¸ºç™»å½•æˆåŠŸ</span><br>    userInfoList = LitePal.findAll(UserInfo.class);<span class="hljs-comment">//è·å–å¯†ç æ•°æ®åº“ä¿¡æ¯</span><br>    <span class="hljs-keyword">for</span>(UserInfo info : userInfoList)&#123;<br>        <span class="hljs-keyword">if</span>(info.getAdmin().equals(account.trim()) &amp;&amp; info.getPassword().equals(password.trim()))<br>        &#123; <span class="hljs-comment">//å¯†ç æ­£ç¡®åçš„é€»è¾‘ä»£ç &#125;</span><br>    &#125;<br></code></pre></td></tr></table></figure><p>çœ‹åˆ°ä¸Šé¢çš„ä»£ç é€šè¿‡<strong>litepalåº“</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java">userInfoList = LitePal.findAll(UserInfo.class);<span class="hljs-comment">//è·å–å¯†ç æ•°æ®åº“ä¿¡æ¯</span><br></code></pre></td></tr></table></figure><p>è¿™ä¸€è¡Œæ¥è·å–<strong>æ•°æ®åº“ä¸­è¯¥è¡¨çš„æ‰€æœ‰æ•°æ®</strong></p><p>ç”¨æˆ·ä¿¡æ¯è¡¨userinfoçš„å†…å®¹å¦‚ä¸‹ï¼Œæœ‰å¯†ç ï¼Œå§“åç­‰ä¿¡æ¯</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230619225815739.png" alt="image-20230619225815739"></p><p>æœ€åé¢æœ‰ä¸€ä¸ªinoculate_idæ˜¯ç”¨åœ¨å—ç§è€…çš„åŠŸèƒ½å¤„çš„ï¼Œç”¨äºç»‘å®šå½“å‰ä½¿ç”¨å—ç§è€…å»é¢„çº¦ç–«è‹—è®°å½•ç­‰æ“ä½œ</p><h4 id="2-4-2-è®°å½•ç”¨æˆ·æ•°æ®ï¼ˆSharedPreferenceï¼‰"><a href="#2-4-2-è®°å½•ç”¨æˆ·æ•°æ®ï¼ˆSharedPreferenceï¼‰" class="headerlink" title="2.4.2 è®°å½•ç”¨æˆ·æ•°æ®ï¼ˆSharedPreferenceï¼‰"></a>2.4.2 è®°å½•ç”¨æˆ·æ•°æ®ï¼ˆSharedPreferenceï¼‰</h4><p>ä¸ºäº†è®©ç”¨æˆ·ç™»å½•æ›´åŠ æ–¹ä¾¿ï¼Œåœ¨ç™»å½•é¡µé¢å½“ä¸­ï¼Œ<strong>è®°ä½å¯†ç </strong>è¿™ä¸ªåŠŸèƒ½æ˜¯å¿…ä¸å¯å°‘çš„</p><p>è€Œç”¨SharedPreferenceå¯ä»¥å¾ˆæ–¹ä¾¿åœ°å®ç°è¿™ä¸ªåŠŸèƒ½</p><p>ä»£ç ä¹Ÿå¾ˆç®€å•</p><p><strong>LoginActivity.java</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java">SharedPreferences pref;<br>SharedPreferences.<span class="hljs-type">Editor</span> <span class="hljs-variable">editor</span> <span class="hljs-operator">=</span> pref.edit();<br><span class="hljs-keyword">if</span>(rememberPass.isChecked())&#123; <span class="hljs-comment">//æ£€æŸ¥æ˜¯å¦å‹¾é€‰äº†è®°ä½å¯†ç </span><br>    <span class="hljs-comment">//ä½¿ç”¨Editoræ¥æ·»åŠ æ•°æ®å­˜å‚¨</span><br>    editor.putBoolean(<span class="hljs-string">&quot;remember_password&quot;</span>,<span class="hljs-literal">true</span>);<br>    editor.putString(<span class="hljs-string">&quot;account&quot;</span>,account);<br>    editor.putString(<span class="hljs-string">&quot;password&quot;</span>,password);<br>&#125;<br><span class="hljs-keyword">else</span> editor.clear();<br></code></pre></td></tr></table></figure><p>ä¸Šå›¾ä¹Ÿå°±åè¡Œä»£ç ï¼Œåªéœ€è¦ç›´æ¥è°ƒç”¨SharedPreferenceçš„åº“æä¾›çš„å†…å®¹</p><p>åœ¨æ£€æµ‹åˆ°ç”¨æˆ·å‹¾é€‰äº†â€è®°ä½å¯†ç â€œä¹‹åï¼Œå°±å°†æ•°æ®éƒ½putåˆ°editorå½“ä¸­ï¼Œè¿™æ ·å°±å·²ç»å°†ç”¨æˆ·çš„ä¿¡æ¯å­˜åœ¨æœ¬åœ°äº†ï¼Œå®ƒçš„å…·ä½“æ–‡ä»¶ä½ç½®å¯ä»¥ä¸Šç½‘æœç´¢</p><p>ä¸‹æ¬¡å†æ¬¡è¿›å…¥åˆ°LoginActivityçš„æ—¶å€™ï¼Œå°±å¯ä»¥ç›´æ¥è°ƒç”¨å­˜åœ¨SharedPreferenceçš„æ•°æ®äº†</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java">pref = PreferenceManager.getDefaultSharedPreferences(<span class="hljs-built_in">this</span>);<br><span class="hljs-type">boolean</span> <span class="hljs-variable">isRemember</span> <span class="hljs-operator">=</span> pref.getBoolean(<span class="hljs-string">&quot;remember_password&quot;</span>,<span class="hljs-literal">false</span>);<br><span class="hljs-keyword">if</span>(isRemember)&#123;<br>    <span class="hljs-comment">//å°†è®°ä½çš„å†…å®¹ç›´æ¥è®¾ç½®ä¸Šå»</span><br>    accountEdit.setText(pref.getString(<span class="hljs-string">&quot;account&quot;</span>,<span class="hljs-string">&quot;&quot;</span>));<br>    passwordEdit.setText(pref.getString(<span class="hljs-string">&quot;password&quot;</span>,<span class="hljs-string">&quot;&quot;</span>));<br>    rememberPass.setChecked(<span class="hljs-literal">true</span>);<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="2-5-æ•°æ®åº“é…ç½®-ï¼ˆæ–‡ä»¶è¯»å†™-LitePalåº“ï¼‰"><a href="#2-5-æ•°æ®åº“é…ç½®-ï¼ˆæ–‡ä»¶è¯»å†™-LitePalåº“ï¼‰" class="headerlink" title="2.5 æ•°æ®åº“é…ç½® ï¼ˆæ–‡ä»¶è¯»å†™ + LitePalåº“ï¼‰"></a>2.5 æ•°æ®åº“é…ç½® ï¼ˆæ–‡ä»¶è¯»å†™ + LitePalåº“ï¼‰</h3><blockquote><p><strong>ç›¸å…³é…ç½®æ–‡ä»¶</strong>ï¼š</p><ul><li>litepal.xml</li><li>AndroidManifest.xml</li><li>SchioolDemo.db</li><li>build.gradle</li></ul><p><strong>ç›¸å…³Javaæ–‡ä»¶</strong>ï¼š</p><p>DatabaseUtil.java</p></blockquote><h4 id="2-5-1-å¯¼å…¥ä¾èµ–ä»¥åŠé…ç½®"><a href="#2-5-1-å¯¼å…¥ä¾èµ–ä»¥åŠé…ç½®" class="headerlink" title="2.5.1 å¯¼å…¥ä¾èµ–ä»¥åŠé…ç½®"></a>2.5.1 å¯¼å…¥ä¾èµ–ä»¥åŠé…ç½®</h4><p>è¿™é‡Œæˆ‘å­¦ä¹ äº†ã€Šç¬¬ä¸€è¡Œä»£ç ã€‹å½“ä¸­ç»™å‡ºçš„LitePalçš„åº“çš„ä½¿ç”¨å¹¶ä¸”è¿›è¡Œäº†å¯¼å…¥</p><p>ä¸è¿‡è¿™é‡Œç”¨ç»™å‡ºçš„<strong>å¯¼å…¥æ–¹æ³•æˆ–è€…ç½‘ä¸Šçš„</strong>éƒ½ä¸è¡Œï¼Œäºæ˜¯åªèƒ½åˆ°githubç›´æ¥å°†<strong>JaråŒ…</strong>ä¸‹è½½ä¸‹æ¥äº†ã€‚</p><p><strong>é…ç½®æ•°æ®åº“æ–¹æ³•</strong></p><p>è¿™é‡Œä¹¦ä¸Šä¹Ÿæœ‰æ•™ç¨‹ï¼Œè¿™é‡Œå°±ç®€å•ä»‹ç»ä¸€ä¸‹</p><ul><li><p>å¯¼å…¥ä¾èµ–</p><p>åœ¨build.gradleï¼ˆModule.appï¼‰å½“ä¸­å¯¼å…¥</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java">implementation <span class="hljs-title function_">files</span><span class="hljs-params">(<span class="hljs-string">&#x27;libs\\litepal-2.0.0-src.jar&#x27;</span>)</span><br></code></pre></td></tr></table></figure></li><li><p>åœ¨mainå½“ä¸­æ–°å»ºassetsæ–‡ä»¶å¤¹ï¼Œå¹¶æ–°å»ºä¸€ä¸ªlitepal.xml</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230518173736578.png" alt="image-20230518173736578"></p><p>è¯¥æ–‡ä»¶ç”¨äºé…ç½®æ•°æ®åº“å’ŒJavaå½“ä¸­çš„ç±»çš„å…³ç³»æ˜ å°„</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">litepal</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dbname</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;MyDBDemo&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">dbname</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;3&quot;</span> &gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">list</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">mapping</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.example.yuemiaoapp.entity.Notification&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">mapping</span>&gt;</span><br> ..........<span class="hljs-tag">&lt;/<span class="hljs-name">list</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">litepal</span>&gt;</span><br></code></pre></td></tr></table></figure><ul><li><p>dbnameï¼šæ•°æ®åº“åå­—ä¸ºâ€SchoolDemoâ€œï¼Œç„¶åä¸€å…±æœ‰ä¸‰ä¸ªæ•°æ®è¡¨ï¼Œ</p></li><li><p>version ï¼švalueå°±æ˜¯æ•°æ®è¡¨çš„ä¸ªæ•°</p></li><li><p>listï¼šå¯¹åº”æ¯ä¸€ä¸ªJavaå½“ä¸­çš„ç±»çš„ä¸€ä¸ªæ˜ å°„</p></li></ul></li><li><p>åœ¨<code>AndroidManifest.xml</code>å½“ä¸­é…ç½®ä¸€ä¸‹</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">application</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;org.litepal.LitePalApplication&quot;</span></span><br><span class="hljs-tag">             <span class="hljs-attr">.......</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">application</span>&gt;</span><br></code></pre></td></tr></table></figure></li></ul><p>é…ç½®æˆåŠŸåï¼Œå¯ä»¥é€šè¿‡android studioè‡ªå¸¦çš„<strong>Device File Explorer</strong>æ¥æŸ¥æ‰¾è™šæ‹Ÿæœºå½“ä¸­çš„æ–‡ä»¶</p><p>å®ƒåœ¨è™šæ‹Ÿæœºæ–‡ä»¶å½“ä¸­çš„è·¯å¾„ä¸º<code>data/data/com.example.mewsapppage/databases</code></p><p>ä¸è¿‡è¿™ä¸ªè·¯å¾„åœ¨æœ¬æœºç”µè„‘å½“ä¸­æ˜¯ä¸å®é™…å­˜åœ¨çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ä½ æ— æ³•åœ¨<strong>è™šæ‹Ÿæœºå…³æœº</strong>çš„æƒ…å†µä¸‹å»<strong>ä¿®æ”¹è¿™ä¸ªæ–‡ä»¶</strong>.</p><h4 id="2-5-2-å­˜å‚¨æå‰å‡†å¤‡å¥½çš„æ•°æ®æ–‡ä»¶"><a href="#2-5-2-å­˜å‚¨æå‰å‡†å¤‡å¥½çš„æ•°æ®æ–‡ä»¶" class="headerlink" title="2.5.2 å­˜å‚¨æå‰å‡†å¤‡å¥½çš„æ•°æ®æ–‡ä»¶"></a>2.5.2 å­˜å‚¨æå‰å‡†å¤‡å¥½çš„æ•°æ®æ–‡ä»¶</h4><p>ç”±äºè€ƒè™‘åˆ°æ¯æ¬¡åˆ°ä¸€å°æ–°çš„æœºå™¨ä¸Šé¢ï¼Œéƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„æ•°æ®åº“dbï¼Œå› ä¸ºå®ƒæ˜¯ä¸å­˜åœ¨æœ¬åœ°çš„ï¼Œå› æ­¤æˆ‘ä»¬è¦å»è¯»å–å®ƒçš„æ–‡ä»¶</p><p>ä¸ºäº†é¿å…åœ¨Javaå½“ä¸­è¿˜è¦æ‰‹åŠ¨å†™ä»£ç å»å¯¼å…¥æ•°æ®åˆ°æ•°æ®åº“å½“ä¸­ï¼Œè€Œä¸”æ•°æ®ä¹Ÿä¸æ–¹ä¾¿ä¿®æ”¹</p><p>äºæ˜¯å¯ä»¥é‡‡ç”¨å°†<strong>å­˜åœ¨å®‰å“èµ„æºæ–‡ä»¶ä¸­çš„dbæ•°æ®åº“</strong> å†™å…¥ åˆ°androidæ‰‹æœºå­˜å‚¨dbæ•°æ®åº“çš„ä½ç½®å½“ä¸­ï¼Œè¿™æ ·å°±å®ç°äº†æ–‡ä»¶çš„è¦†ç›–ï¼Œå¯ä»¥ä½¿ç”¨é¢„å…ˆå†™å¥½æ•°æ®çš„æ•°æ®åº“äº†ï¼</p><p>è¿™å°±æ¶‰åŠåˆ°æ–‡ä»¶çš„è¯»å†™æ“ä½œäº†ï¼Œæˆ‘ä»¬å°†æ•°æ®åº“æ–‡ä»¶å­˜æ”¾åœ¨assetsç›®å½•ä¸‹é¢</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230619231802297.png" alt="image-20230619231802297"></p><p>åå­—ä¹Ÿè¦å’Œæˆ‘ä»¬è¦ç”Ÿæˆçš„å®‰å“æ‰‹æœºä¸Šçš„æ•°æ®åº“<strong>æ–‡ä»¶åå­—ä¸€è‡´</strong>ï¼Œæ¥ç€ç¼–å†™ä»£ç è¿›è¡ŒIOæ“ä½œ</p><p><strong>DatabaseUtil.java</strong></p><p>é¦–å…ˆåœ¨Javaå½“ä¸­è·å–å­˜å–çš„è·¯å¾„åç§°</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">String</span> <span class="hljs-variable">DB_PATH</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;/data/data/&quot;</span> + context.getPackageName() +<span class="hljs-string">&quot;/databases/&quot;</span>;<br><span class="hljs-type">String</span> <span class="hljs-variable">DB_NAME</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;MyDBDemo.db&quot;</span>;<br></code></pre></td></tr></table></figure><p>æ¥ç€ä½¿ç”¨<code>InputStream</code> å’Œ<code>FileOutputStream</code>ç±»æ¥åˆ†åˆ«è¿›è¡Œ<strong>å­—èŠ‚æµ</strong>çš„è¾“å…¥è¾“å‡ºæ“ä½œ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// å¾—åˆ° assets ç›®å½•ä¸‹æˆ‘ä»¬å®ç°å‡†å¤‡å¥½çš„ SQLite æ•°æ®åº“ä½œä¸ºè¾“å…¥æµ</span><br><span class="hljs-type">InputStream</span> <span class="hljs-variable">is</span> <span class="hljs-operator">=</span> context.getAssets().open(DB_NAME);<br><span class="hljs-comment">// è¾“å‡ºæµ,åœ¨æŒ‡å®šè·¯å¾„ä¸‹ç”Ÿæˆdbæ–‡ä»¶</span><br><span class="hljs-type">OutputStream</span> <span class="hljs-variable">os</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileOutputStream</span>(DB_PATH + DB_NAME);<br><span class="hljs-comment">// æ–‡ä»¶å†™å…¥</span><br><span class="hljs-type">byte</span>[] buffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">byte</span>[<span class="hljs-number">1024</span>];<br><span class="hljs-type">int</span> length;<br><span class="hljs-keyword">while</span> ((length = is.read(buffer)) &gt; <span class="hljs-number">0</span>) <br>    os.write(buffer, <span class="hljs-number">0</span>, length);<br><span class="hljs-comment">// å…³é—­æ–‡ä»¶æµ</span><br>os.flush();os.close();is.close();<br></code></pre></td></tr></table></figure><p>ä»£ç ä¹Ÿæ¯”è¾ƒç®€å•ï¼Œè¿™æ ·æˆ‘ä»¬å°±å®ç°äº†æ–‡ä»¶çš„å†™å…¥è¦†ç›–ï¼Œå°±å¯ä»¥åœ¨<strong>æœ¬åœ°ç¼–è¾‘å¥½æ•°æ®åº“</strong>ä¹‹åï¼Œç›´æ¥å°†æ•°æ®åº“è·‘åœ¨å®‰å“çš„æœºå™¨ä¸Šå•¦</p><h3 id="2-6-å¼ºåˆ¶ä¸‹çº¿ä»¥åŠç½‘ç»œç›‘å¬ï¼ˆå¹¿æ’­æœºåˆ¶ï¼‰"><a href="#2-6-å¼ºåˆ¶ä¸‹çº¿ä»¥åŠç½‘ç»œç›‘å¬ï¼ˆå¹¿æ’­æœºåˆ¶ï¼‰" class="headerlink" title="2.6 å¼ºåˆ¶ä¸‹çº¿ä»¥åŠç½‘ç»œç›‘å¬ï¼ˆå¹¿æ’­æœºåˆ¶ï¼‰"></a>2.6 å¼ºåˆ¶ä¸‹çº¿ä»¥åŠç½‘ç»œç›‘å¬ï¼ˆå¹¿æ’­æœºåˆ¶ï¼‰</h3><blockquote><p><strong>æ¶‰åŠJavaä»£ç </strong>ï¼š</p><ul><li>ForceOfflineReceiver.java</li><li>BaseActivity.java</li><li>ActivityCollector.java</li></ul><p><strong>ç›¸å…³é…ç½®æ–‡ä»¶ï¼š</strong></p><p>æ— ç›´æ¥ç›¸å…³çš„ï¼Œåªéœ€è¦è°ƒç”¨ä¸Šé¢çš„Javaç±»ä»£ç å³å¯è‡ªåŠ¨è§¦å‘åŠŸèƒ½</p></blockquote><p><strong>é€€å‡ºç™»å½•</strong>ä»¥åŠ<strong>ç½‘ç»œä¸­æ–­</strong>çš„å®ç°æ•ˆæœï¼š</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230620102313869.png" alt="image-20230620102313869"></p><h4 id="2-6-1-æ³¨å†Œå¹¿æ’­å™¨ï¼š"><a href="#2-6-1-æ³¨å†Œå¹¿æ’­å™¨ï¼š" class="headerlink" title="2.6.1 æ³¨å†Œå¹¿æ’­å™¨ï¼š"></a>2.6.1 æ³¨å†Œå¹¿æ’­å™¨ï¼š</h4><p>é¦–å…ˆè¦å¯¹å¹¿æ’­å™¨Receiverè¿›è¡Œ<strong>æ³¨å†Œ</strong></p><p>åœ¨BaseActivityå½“ä¸­è¿›è¡Œæ³¨å†Œï¼Œç„¶åæ‰€æœ‰æœ‰éœ€æ±‚æ‰§è¡Œç™»å‡ºæ“ä½œçš„ç•Œé¢éƒ½å¯ä»¥ç»§æ‰¿è¿™ä¸ªç±»ä½œä¸ºåŸºç±»ï¼Œè¿™æ ·å°±ä¼šç»Ÿä¸€æ”¶åˆ°å¹¿æ’­äº†</p><p>æ³¨å†Œçš„ä»£ç å¦‚ä¸‹ï¼š</p><p><strong>BaseActivityï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Override</span><br><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onResume</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-comment">//åŠ¨æ€æ³¨å†Œå¹¿æ’­å™¨</span><br>    <span class="hljs-built_in">super</span>.onResume();<br>    <span class="hljs-type">IntentFilter</span> <span class="hljs-variable">filter</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IntentFilter</span>();<br>    <span class="hljs-comment">//å¢åŠ éœ€è¦ç›‘å¬çš„å†…å®¹</span><br>    filter.addAction(<span class="hljs-string">&quot;com.example.myyuemiao.FORCE_OFFLINE&quot;</span>); <span class="hljs-comment">//ç›‘å¬å¼ºåˆ¶ä¸‹çº¿å¹¿æ’­</span><br>    filter.addAction(<span class="hljs-string">&quot;android.net.conn.CONNECTIVITY_CHANGE&quot;</span>); <span class="hljs-comment">//ç›‘å¬ç½‘ç»œè¿æ¥å¹¿æ’­</span><br>    forceOffLineReceiver = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ForceOffLineReceiver</span>();<br>    <span class="hljs-comment">//æ³¨å†Œç›‘å¬ï¼Œè¿™æ ·ForceOfflineReceiverå°±å¯ä»¥æ¥æ”¶åˆ°æ‰€æœ‰FORCEâ€”â€”OFFLINEçš„å¹¿æ’­</span><br>    registerReceiver(forceOffLineReceiver,filter);<br>&#125;<br><span class="hljs-meta">@Override</span><br><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onPause</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-built_in">super</span>.onPause();<br>    <span class="hljs-keyword">if</span>(forceOffLineReceiver != <span class="hljs-literal">null</span>)<br>        unregisterReceiver(forceOffLineReceiver); <span class="hljs-comment">//æœ€åå–æ¶ˆæ³¨å†Œ</span><br>&#125;<br></code></pre></td></tr></table></figure><p>è¿™é‡Œå¢åŠ äº†ä¸¤æ¡éœ€è¦ç›‘å¬çš„å†…å®¹ï¼Œåˆ†åˆ«æ˜¯å¼ºåˆ¶ä¸‹çº¿å¹¿æ’­å’Œç½‘ç»œé“¾æ¥å¹¿æ’­ï¼Œè¿™æ ·å°±å¾ˆå®¹æ˜“åœ°å®ç°äº†æ³¨å†Œ</p><p>æœ€åä¸è¦å¿˜äº†åœ¨onPauseæˆ–è€…onDestroyçš„æ—¶å€™è¿›è¡Œå–æ¶ˆæ³¨å†Œï¼Œä¸ç„¶å¯èƒ½ä¼šå¼•å‘ä¸€äº›åæœã€‚</p><h4 id="2-6-2-å®ç°ç›‘å¬è§¦å‘äº‹ä»¶"><a href="#2-6-2-å®ç°ç›‘å¬è§¦å‘äº‹ä»¶" class="headerlink" title="2.6.2 å®ç°ç›‘å¬è§¦å‘äº‹ä»¶"></a>2.6.2 å®ç°ç›‘å¬è§¦å‘äº‹ä»¶</h4><p>æ¥ä¸‹æ¥å°±æ˜¯è¦åˆ°ForceOffLineReceiverè¿™ä¸ªç±»å½“ä¸­å»å®ç°å…·ä½“çš„<strong>ç›‘å¬è§¦å‘</strong>äº‹ä»¶äº†ã€‚</p><p>å…·ä½“ç±»å®ç°ï¼š</p><p><strong>ForceOffLineReceiver</strong>ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ForceOffLineReceiver</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">BroadcastReceiver</span> &#123;<br>    <span class="hljs-comment">//è¯¥ç›‘å¬å™¨åŒ…æ‹¬äº†ç½‘ç»œç›‘å¬ä½•å¼ºåˆ¶ä¸‹çº¿ç›‘å¬</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onReceive</span><span class="hljs-params">(Context context, Intent intent)</span> &#123;<br>        AlertDialog.<span class="hljs-type">Builder</span> <span class="hljs-variable">builder</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">AlertDialog</span>.Builder(context);<span class="hljs-comment">//æ„å»ºå¯¹è¯æ¡†</span><br>        builder.setTitle(<span class="hljs-string">&quot;è­¦å‘Š&quot;</span>);<br>        <span class="hljs-type">String</span> <span class="hljs-variable">action</span> <span class="hljs-operator">=</span> intent.getAction();<br>        <span class="hljs-keyword">if</span> (action.equals(<span class="hljs-string">&quot;com.example.myyuemiao.FORCE_OFFLINE&quot;</span>)) &#123;<br>            <span class="hljs-comment">// Handle the FORCE_OFFLINE broadcast</span><br>        &#125;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (action.equals(<span class="hljs-string">&quot;android.net.conn.CONNECTIVITY_CHANGE&quot;</span>)) &#123;<br>            <span class="hljs-comment">// Handle the CONNECTIVITY_CHANGE broadcast</span><br>        &#125;<br>        builder.show();<span class="hljs-comment">//ä»¤è¯¥å¯¹è¯æ¡†å¯è§†åŒ–</span><br>    &#125;<br></code></pre></td></tr></table></figure><p>é¦–å…ˆè¯¥ç›‘å¬å™¨è¦ç»§æ‰¿<code>BroadcastReceiver</code>ï¼Œç„¶åå»é‡è½½å®ƒçš„<code>onReceiveï¼ˆï¼‰</code>æ–¹æ³•ï¼Œ</p><p>è¯¥æ–¹æ³•åœ¨æ”¶åˆ°ä¹‹å‰æ·»åŠ çš„ç›‘å¬äº‹ä»¶ä¹‹åå°±ä¼šè§¦å‘ï¼Œæˆ‘ä»¬éœ€è¦åšä¸€ä¸ªifåˆ¤æ–­å®ƒæ˜¯å“ªä¸ªç±»å‹çš„äº‹ä»¶è§¦å‘äº†å³å¯</p><hr><h2 id="3-æ–°åŠŸèƒ½ä»¥åŠäº®ç‚¹"><a href="#3-æ–°åŠŸèƒ½ä»¥åŠäº®ç‚¹" class="headerlink" title="3. æ–°åŠŸèƒ½ä»¥åŠäº®ç‚¹"></a>3. æ–°åŠŸèƒ½ä»¥åŠäº®ç‚¹</h2><blockquote><p> è¿™ä¸€éƒ¨åˆ†ä»‹ç»çš„æ˜¯è¿‡å»å®éªŒæœªå®ç°çš„åŠŸèƒ½ï¼Œä»¥åŠä¸€äº›APPæ²¡æœ‰çš„åŠŸèƒ½çš„äº®ç‚¹ä»‹ç»</p><h3 id="æ–°åŠŸèƒ½ä»‹ç»"><a href="#æ–°åŠŸèƒ½ä»‹ç»" class="headerlink" title="æ–°åŠŸèƒ½ä»‹ç»"></a>æ–°åŠŸèƒ½ä»‹ç»</h3><ol><li>è½®æ’­å›¾ï¼ˆViewPager + Threadçº¿ç¨‹è½®è¯¢ï¼‰</li><li>ä½ç½®æœåŠ¡ï¼ˆä½ç½®æœåŠ¡ï¼‰</li><li>å—ç§è€…ä¿¡æ¯æ•°æ®åº“</li><li>äºŒç»´ç æ‰«ç ï¼ˆè·¨ç¨‹åºå…±äº«æ•°æ®ï¼Œzxingæ¡†æ¶ï¼‰</li></ol></blockquote><h3 id="3-0-äº®ç‚¹ä»‹ç»"><a href="#3-0-äº®ç‚¹ä»‹ç»" class="headerlink" title="3.0 äº®ç‚¹ä»‹ç»"></a>3.0 äº®ç‚¹ä»‹ç»</h3><ol><li><p>è½®æ’­å›¾çš„å®ç°ï¼Œè™½ç„¶æ˜¯ä¹‹å‰ç”¨è¿‡çš„ViewPagerï¼Œä½†æ˜¯ç”¨äº†åŒæ ·çš„å·¥å…·ï¼Œå±•ç°çš„æ˜¯å®Œå…¨ä¸ä¸€æ ·çš„åŠŸèƒ½ï¼Œè®©ä¸»é¡µ<strong>æ›´åŠ åŠ¨æ€å’Œå†…å®¹æ›´åŠ ä¸°å¯Œ</strong></p></li><li><p>ç™¾åº¦åœ°å›¾å®ç°æœç´¢åŠŸèƒ½ï¼š</p><p>è¿™é‡Œæ˜¯ä¹¦ä¸Šä¹Ÿå¹¶æ²¡æœ‰çš„æ•™ç¨‹ï¼Œè¯¥APPä¸­ä¸ä»…å®ç°äº†åŸºç¡€çš„å½“å‰å®šä½åŠŸèƒ½ï¼Œè¿˜å¯ä»¥å¯¹å‘¨å›´å»ºç­‘åœ°å€<strong>è¿›è¡Œæœç´¢</strong>ï¼Œå¹¶ä¸”è¿”å›ä¸€ä¸ªåˆ—è¡¨ï¼Œç‚¹å‡»æä¾›çš„ç¤¾åº·ï¼Œé—¨è¯Šçš„æŒ‰é”®ä¹Ÿå¯ä»¥å¿«é€Ÿåœ°æŸ¥æ‰¾å‘¨å›´çš„é—¨è¯Šæˆ–è€…åŒ»é™¢</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230620004141771.png" alt="image-20230620004141771"></p></li><li><p>å—ç§è€…ä¿¡æ¯æ“ä½œï¼šï¼ˆå®Œå–„åŸAPPåŠŸèƒ½ï¼‰</p><p>è¿™é‡Œåœ¨åŸæœ¬çš„APPé‡Œé¢åªèƒ½æ–°å¢å—ç§è€…ä¿¡æ¯ï¼Œä½†æ˜¯å‘ç°æ— æ³•è¿›è¡Œåˆ é™¤å’Œä¿®æ”¹</p><p>äºæ˜¯å°†å®ƒçš„å¢åˆ æ”¹æŸ¥éƒ½å®Œå–„äº†ï¼Œå¹¶ä¸”åŠ ä¸Šäº†<strong>ç»‘å®šå½“å‰ç”¨æˆ·</strong>çš„åŠŸèƒ½</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230620004532814.png" alt="image-20230620004532814"></p></li><li><p>æœ€åæ˜¯äºŒç»´ç æ‰«æï¼š</p><p>è¿™é‡Œä¸ä»…è°ƒç”¨äº†æ‘„åƒå¤´çš„æ¥å£ï¼Œå¹¶ä¸”ä¹Ÿå®ç°äº†<strong>äºŒç»´ç çš„æ‰«æåŒ¹é…</strong>ï¼Œå¯ä»¥æ‰«ææˆ–è€…ä½¿ç”¨ç›¸å†Œé‡Œé¢çš„å›¾ç‰‡</p><p>ä¹Ÿå¯ä»¥æ ¹æ®è¾“å…¥çš„ä¿¡æ¯ç”Ÿæˆè‡ªå·±çš„å›¢ä½“ç ï¼Œæˆ–è€…è¾“å…¥åˆ«äººçš„æ¥åŠ å…¥å›¢ä½“</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/%E8%81%94%E6%83%B3%E6%88%AA%E5%9B%BE_20230619173712.png" alt="è”æƒ³æˆªå›¾_20230619173712"></p></li></ol><h3 id="3-1-è½®æ’­å›¾"><a href="#3-1-è½®æ’­å›¾" class="headerlink" title="3.1 è½®æ’­å›¾"></a>3.1 è½®æ’­å›¾</h3><p>å‚è€ƒåšå®¢ï¼š</p><p><a href="https://blog.csdn.net/GYongJia/article/details/89645378">(158æ¡æ¶ˆæ¯) Androidå¼€å‘-è½®æ’­å›¾çš„è¯¦ç»†å®ç°_android31å®ç°è½®æ’­å›¾_GYongJiaçš„åšå®¢-CSDNåšå®¢</a></p><p>å®ç°è¿‡ç¨‹ä¸­è‹¥é‡åˆ°é—®é¢˜å¯ä»¥åˆ°æˆ‘æœ€ä¸‹é¢çš„ç¬¬å››éƒ¨åˆ†çœ‹çœ‹æœ‰æ²¡æœ‰åŒæ ·çš„é—®é¢˜å‡ºç°</p><blockquote><p>å®ç°æ•ˆæœï¼š</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/%E8%81%94%E6%83%B3%E6%88%AA%E5%9B%BE_20230619232927.png" alt="è”æƒ³æˆªå›¾_20230619232927"></p><ul><li>xmlæ–‡ä»¶ï¼š<ul><li>fragment_slide_show.xml ï¼ˆå¯¹åº”å¸ƒå±€æ–‡ä»¶ï¼‰</li><li>pager_img.xml ï¼ˆvalueså½“ä¸­çš„èµ„æºæ–‡ä»¶ï¼‰</li><li>dot.xmlï¼ˆdrawableä¸‹çš„æç‚¹æ–‡ä»¶ï¼Œç”¨ä»¥è¡¨ç¤ºè½®æ’­çš„å½“å‰ä½ç½®ï¼‰</li><li>äº”å¼ è½®æ’­å›¾ç…§ï¼ˆpngï¼‰</li><li>ä¸¤ç§ç‚¹çš„ç…§ç‰‡ï¼ˆåˆ†åˆ«è¡¨ç¤ºé€‰ä¸­å’Œæœªé€‰ä¸­ï¼‰</li></ul></li><li>javaæ–‡ä»¶ï¼š<ul><li>SlideShowFragment.javaï¼ˆç¢ç‰‡ï¼‰</li><li>LoopViewAdapter.classï¼ˆè¯¥ç±»ç›´æ¥æ”¾åœ¨ä¸Šé¢çš„ç¢ç‰‡javaæ–‡ä»¶å½“ä¸­ï¼‰</li></ul></li></ul></blockquote><h4 id="3-1-1-xmlæ–‡ä»¶é…ç½®"><a href="#3-1-1-xmlæ–‡ä»¶é…ç½®" class="headerlink" title="3.1.1 xmlæ–‡ä»¶é…ç½®"></a>3.1.1 xmlæ–‡ä»¶é…ç½®</h4><p>è¿™é‡Œç”¨åˆ°äº†ä¸‰ä¸ªxmlæ–‡ä»¶</p><p>ä¸»è¦çœ‹ <code>fragment_slide_show.xml</code> ï¼Œè¯¥æ–‡ä»¶ä½¿ç”¨ViewPagerå®ç°è½®æ’­å›¾ï¼›</p><p>å…¶å®åŸç†æ˜¯å’Œä¹‹å‰çš„æ–°é—»åˆ—è¡¨åˆ‡æ¢æ˜¯ä¸€æ ·çš„ï¼Œåªä¸è¿‡è¿™æ¬¡æ²¡æœ‰äº†TabLayout</p><p><strong>fragment_slide_show.xml</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">FrameLayout</span> <span class="hljs-attr">xmlns:android</span>=<span class="hljs-string">&quot;http://schemas.android.com/apk/res/android&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">.....</span></span><br><span class="hljs-tag">    <span class="hljs-attr">tools:context</span>=<span class="hljs-string">&quot;.homepage.fragment.SlideShowFragment&quot;</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--å­˜æ”¾å›¾ç‰‡çš„ViewPager--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">androidx.viewpager.widget.ViewPager</span></span><br><span class="hljs-tag">        <span class="hljs-attr">.......</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:id</span>=<span class="hljs-string">&quot;@+id/loopviewpager&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">LinearLayout</span></span><br><span class="hljs-tag">        <span class="hljs-attr">.....</span>    &gt;</span><br>        <span class="hljs-comment">&lt;!-- æ ‡é¢˜--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">TextView</span></span><br><span class="hljs-tag">            <span class="hljs-attr">......</span>/&gt;</span><br>        <span class="hljs-comment">&lt;!-- å°åœ†ç‚¹--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">LinearLayout</span></span><br><span class="hljs-tag">            <span class="hljs-attr">android:id</span>=<span class="hljs-string">&quot;@+id/ll_dots_loop&quot;</span><span class="hljs-attr">....</span>/&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">LinearLayout</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">FrameLayout</span>&gt;</span><br></code></pre></td></tr></table></figure><p>å¯ä»¥çœ‹åˆ°è¿™é‡Œçš„å¸ƒå±€æ¯”è¾ƒç®€å•ï¼Œä¸Šé¢æ˜¯ç”¨ä¸€ä¸ªViewPagerï¼Œå®ç°è½®æ’­å›¾çš„æ•ˆæœ</p><p>ç„¶åç”¨åœ†ç‚¹å’Œæ ‡é¢˜æ–¹ä¾¿æ ‡è¯†ä¸åŒçš„é¡µé¢</p><h4 id="3-1-2-Javaæ–‡ä»¶"><a href="#3-1-2-Javaæ–‡ä»¶" class="headerlink" title="3.1.2 Javaæ–‡ä»¶"></a>3.1.2 Javaæ–‡ä»¶</h4><p>æ‰€æœ‰ç›¸å…³çš„ä»£ç éƒ½åœ¨<code>SlideShowFragment.java</code>ä¸‹</p><p><strong>å¼€å¯çº¿ç¨‹Thread</strong></p><p>è¿™é‡Œä¸»è¦è®²ä¸‹è½®æ’­å›¾å¦‚ä½•å®ç°å®šæ—¶æ»šåŠ¨</p><p>å…³é”®ä»£ç åœ¨äºå¼€å¯ä¸€ä¸ªæ–°çš„çº¿ç¨‹æ¥è¿›è¡Œè½®è¯¢ï¼Œè¿™æ ·å°±å¯ä»¥åœ¨ä¸å½±å“ä¸»çº¿ç¨‹çš„æƒ…å†µä¸‹</p><p>åšåˆ°å®šæ—¶è½®è¯¢ï¼Œç„¶ååŒæ—¶ä¹Ÿå¯ä»¥å®ç°å…¶ä»–çš„åŠŸèƒ½äº†ã€‚</p><p><strong>SlideShowFragment.java</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// å¼€å¯è½®è¯¢ </span><br><span class="hljs-keyword">new</span> <span class="hljs-title class_">Thread</span>()&#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">()</span>&#123;<br>        <span class="hljs-keyword">while</span>(isRunning)&#123;<br>            <span class="hljs-keyword">try</span>&#123;<br>                Thread.sleep(<span class="hljs-number">5000</span>); <span class="hljs-comment">//é—´éš”5sæ¢ä¸€å¼ å›¾</span><br>            &#125; <span class="hljs-keyword">catch</span> (InterruptedException e) &#123;<br>                e.printStackTrace();<br>            &#125;<br>            <span class="hljs-comment">//ä¸‹ä¸€æ¡</span><br>            <span class="hljs-keyword">if</span>(!isRunning) <span class="hljs-comment">//è‹¥é€€å‡ºç™»å½•ï¼Œåˆ™æ´»åŠ¨åœæ­¢ï¼Œçº¿ç¨‹ç»ˆæ­¢</span><br>                <span class="hljs-keyword">break</span>;<br>            requireActivity().runOnUiThread(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Runnable</span>() &#123;<br>                <span class="hljs-meta">@Override</span><br>                <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">()</span> &#123;<br>                    viewPager.setCurrentItem(viewPager.getCurrentItem()+<span class="hljs-number">1</span>);<br>                &#125; &#125;); &#125; &#125;<br>&#125;.start();<br></code></pre></td></tr></table></figure><h3 id="3-2-åœ°å›¾åŠŸèƒ½å®ç°"><a href="#3-2-åœ°å›¾åŠŸèƒ½å®ç°" class="headerlink" title="3.2 åœ°å›¾åŠŸèƒ½å®ç°"></a>3.2 åœ°å›¾åŠŸèƒ½å®ç°</h3><p>è¿™ä¸ªåŠŸèƒ½å¯ä»¥è¯´æ˜¯å·¥ç¨‹é‡è¾ƒå¤§çš„ä¸€ä¸ªå†…å®¹äº†ï¼›</p><p>éœ€è¦å¯¼å…¥ç™¾åº¦çš„SDKï¼Œè¿˜è¦è·å–API KEY</p><p><strong>ä¸»è¦å‚è€ƒï¼š</strong></p><p><a href="https://blog.csdn.net/weixin_43117800/article/details/116236948">(159æ¡æ¶ˆæ¯) Androidé›†æˆç™¾åº¦åœ°å›¾å®ç°æœç´¢åŠåˆ—è¡¨å±•ç¤º_android æ¨¡ä»¿ç™¾åº¦åœ°å›¾æœç´¢_â€œå—¯å“ˆçš„åšå®¢-CSDNåšå®¢</a></p><p>å‚è€ƒè¯¥åšå®¢çš„giteeçš„æºç ï¼Œå†™çš„æŒºå®Œå–„çš„ã€‚</p><blockquote><p>å®ç°æ•ˆæœä»¥åŠåŠŸèƒ½ï¼š</p><ul><li><p>å¯ä»¥ç‚¹å‡»åœ°å›¾çš„ä¸åŒä½ç½®ï¼Œä¼šè‡ªåŠ¨åœ¨ä¸‹é¢åˆ—è¡¨æ˜¾ç¤ºç›¸å…³çš„åœ°å€ä¿¡æ¯</p></li><li><p>å³ä¸Šè§’çš„logoå¯ä»¥å›åˆ°æˆ‘ä»¬å½“å‰æ‰€åœ¨çš„ä½ç½®</p></li><li><p>ä¹Ÿå¯ä»¥ç›´æ¥æœç´¢æˆ‘ä»¬æƒ³è¦çš„åœ°å€ä¿¡æ¯</p></li><li><p>åŒå‡»æˆ–è€…åŒæŒ‡æ»‘åŠ¨å¯ä»¥æ”¾å¤§åœ°å›¾ç­‰ç­‰</p></li></ul><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230619175026770.png" alt="image-20230619175026770"></p><p>xmlé…ç½®æ–‡ä»¶ï¼š</p><ul><li>activity_clinic_map.xml ã€location_item.xml ï¼ˆlayoutæ–‡ä»¶å¤¹ï¼‰</li><li>gray_bk_15.xml ã€seach_bg.xmlï¼ˆdrawableæ–‡ä»¶å¤¹ï¼‰</li></ul><p>java æ–‡ä»¶é…ç½®ï¼š</p><ul><li>ClinicMapActivityï¼ˆåœ°å›¾é¡µé¢ï¼‰</li><li>ClinicListAdapterï¼ˆæœç´¢ç»“æœåˆ—è¡¨é€‚é…å™¨ï¼‰</li><li>BaiduMapUtilsï¼ˆæä¾›ä½ç½®ä¿¡æ¯<code>LocatioClient</code>çš„åˆå§‹åŒ–ä»¥åŠè®¡ç®—è·ç¦»ç­‰ç›¸å…³å‡½æ•°ï¼‰</li></ul><p>å¤–éƒ¨å¯¼å…¥åŒ…ä»¥åŠAPI KEYè·å–ï¼š</p><p>è¿™äº›ç½‘ä¸Šéƒ½æœ‰å¾ˆå¤šæ•™ç¨‹ï¼Œè¿™é‡Œå°±ä¸èµ˜è¿°äº†</p></blockquote><h4 id="3-2-1-xmlæ–‡ä»¶é…ç½®"><a href="#3-2-1-xmlæ–‡ä»¶é…ç½®" class="headerlink" title="3.2.1 xmlæ–‡ä»¶é…ç½®"></a>3.2.1 xmlæ–‡ä»¶é…ç½®</h4><p><strong>activity_clinic_map.xml</strong> </p><p>é¦–å…ˆæ˜¯åœ°å›¾çš„é¡µé¢ï¼Œè¿™é‡Œç”¨åˆ°äº†ä¸€ä¸ªå…³é”®çš„æ§ä»¶<code>MapView</code>ï¼Œæ˜¯ç™¾åº¦çš„SDKæä¾›çš„</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">com.baidu.mapapi.map.MapView</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:id</span>=<span class="hljs-string">&quot;@+id/mapview&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:clickable</span>=<span class="hljs-string">&quot;true&quot;</span> /&gt;</span><br></code></pre></td></tr></table></figure><p><strong>AndroidManifest.xml</strong></p><p>è¿™ä¸ªæ–‡ä»¶çš„é…ç½®å¾ˆé‡è¦ï¼Œä¸»è¦é…ç½®ä¸¤ä¸ªåœ°æ–¹</p><ul><li><p>æƒé™é…ç½®</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!-- è¿™ä¸ªæƒé™ç”¨äºè¿›è¡Œç½‘ç»œå®šä½ --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">uses-permission</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;android.permission.ACCESS_COARSE_LOCATION&quot;</span> /&gt;</span> <span class="hljs-comment">&lt;!-- è¿™ä¸ªæƒé™ç”¨äºè®¿é—®GPSå®šä½ --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">uses-permission</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;android.permission.ACCESS_FINE_LOCATION&quot;</span> /&gt;</span> <span class="hljs-comment">&lt;!-- ç”¨äºè®¿é—®wifiç½‘ç»œä¿¡æ¯ï¼Œwifiä¿¡æ¯ä¼šç”¨äºè¿›è¡Œç½‘ç»œå®šä½ --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">uses-permission</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;android.permission.ACCESS_WIFI_STATE&quot;</span> /&gt;</span> <span class="hljs-comment">&lt;!-- è¿™ä¸ªæƒé™ç”¨äºè·å–wifiçš„è·å–æƒé™ï¼Œwifiä¿¡æ¯ä¼šç”¨æ¥è¿›è¡Œç½‘ç»œå®šä½ --&gt;</span><br>...........<br></code></pre></td></tr></table></figure><p>è¿™é‡Œæ¶‰åŠåˆ°å¾ˆå¤šæƒé™ï¼Œå…·ä½“å®Œæ•´çš„å¯ä»¥ç›´æ¥å»çœ‹æºç </p></li><li><p>API KEYé…ç½®</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">application</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;.MyApplication&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">service</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;com.baidu.location.f&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:enabled</span>=<span class="hljs-string">&quot;true&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:process</span>=<span class="hljs-string">&quot;:remote&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta-data</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;com.baidu.lbsapi.API_KEY&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:value</span>=<span class="hljs-string">&quot;è¿™é‡Œæ¢æˆä½ è‡ªå·±API KEYçš„å€¼&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">application</span>&gt;</span><br></code></pre></td></tr></table></figure></li></ul><h4 id="3-2-2-javaç›¸å…³æ–‡ä»¶"><a href="#3-2-2-javaç›¸å…³æ–‡ä»¶" class="headerlink" title="3.2.2 javaç›¸å…³æ–‡ä»¶"></a>3.2.2 javaç›¸å…³æ–‡ä»¶</h4><ul><li>åœ¨<code>ClinicMapAcitiity</code>å’Œ<code>BaiduMapUtils</code>å½“ä¸­çš„å¾ˆå¤šä»£ç éƒ½æ˜¯ä»¥é…ç½®ä¸ºä¸»</li></ul><p>å…·ä½“çš„é…ç½®ä»£ç åœ¨å®˜ç½‘ä¹Ÿå¯ä»¥æŸ¥è¯¢åˆ°</p><p>ä¾‹å¦‚åˆå§‹åŒ–<strong>å½“å‰å®šä½ä¿¡æ¯</strong>ï¼Œè°ƒç”¨çš„æ˜¯<code>initLocation()</code></p><p><strong>ClinicMapActivity.java</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">initLocation</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-comment">//clientçš„å„ç§é…ç½®ä¿¡æ¯</span><br>    mLocationClient = BaiduMapUtils.getLocationClient(ClinicMapActivity.<span class="hljs-built_in">this</span>);<br>    <span class="hljs-comment">//æ·»åŠ ç›‘å¬å™¨</span><br>    <span class="hljs-type">MyLocationListener</span> <span class="hljs-variable">myLocationListener</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyLocationListener</span>();<br>    mLocationClient.registerLocationListener(myLocationListener);<br>    mLocationClient.start();<br>&#125;<br></code></pre></td></tr></table></figure><p>åœ¨MyLocationListenerå½“ä¸­ä¼šè¿›è¡Œè°ƒç”¨å›è°ƒå‡½æ•°<code>onReceiveLocation()</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyLocationListener</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">BDAbstractLocationListener</span> &#123;<br>        <span class="hljs-meta">@Override</span><br>        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onReceiveLocation</span><span class="hljs-params">(BDLocation location)</span> &#123;<br>.....<br>            showMap(native_latitude, native_longitude);<br><span class="hljs-comment">//            mLocationClient.stop();</span><br>        &#125;<br>    &#125;<br></code></pre></td></tr></table></figure><p>è¿™ä¸ªå‡½æ•°çš„è°ƒç”¨çš„æ˜¯æ—¶å€™æˆ‘æ˜¯é‡åˆ°äº†ä¸€ç‚¹é—®é¢˜çš„ï¼Œæˆ‘æ”¾åˆ°åé¢è®²</p><p>è¿™é‡Œçš„<strong>showMap</strong>å‡½æ•°å¯ä»¥å®ç°å®šä½åˆ°æƒ³è¦å»çš„ä½ç½®ï¼Œåªè¦<strong>è¾“å…¥ç»åº¦çº¬åº¦</strong>å³å¯</p><p>å®ç°æ•ˆæœå¦‚ä¸‹ï¼š</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/%E8%81%94%E6%83%B3%E6%88%AA%E5%9B%BE_20230620003114.png" alt="è”æƒ³æˆªå›¾_20230620003114"></p><p>å®ç°çš„æ•ˆæœå¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œå¯ä»¥è‡ªåŠ¨ç§»åŠ¨åœ°å›¾ï¼Œå¹¶ä¸”åœ¨å½“å‰ç»çº¬åº¦<strong>æ ‡ä¸Šä¸€ä¸ªè®°å·</strong></p><ul><li>è€Œåœ¨<code>ClinicListAdapter</code>åˆ™æ˜¯å¯¹è·å–çš„poiInfoä¿¡æ¯è¿›è¡Œå¤„ç†ï¼ŒpoiInfoæ˜¯å®šä½åè¿”å›çš„liståˆ—è¡¨çš„ä¿¡æ¯</li></ul><p>æœ€ç»ˆæ¸²æŸ“å‡ºæ¥çš„<strong>æœç´¢çš„åˆ—è¡¨</strong>å¦‚ä¸‹ï¼š</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230620102537740.png" alt="image-20230620102537740"></p><p>è€Œå®ç°å®ƒçš„å…³é”®å°±æ˜¯ä½¿ç”¨ç™¾åº¦åœ°å›¾çš„POIæœç´¢ï¼ŒPoiInfoæ˜¯ä»€ä¹ˆå‘¢ï¼Œç®€å•ä»‹ç»ä¸€ä¸‹ï¼š</p><blockquote><p>POIï¼ˆPoint of Interestï¼‰ï¼Œå³â€œå…´è¶£ç‚¹â€ã€‚åœ¨åœ°ç†ä¿¡æ¯ç³»ç»Ÿä¸­ï¼Œä¸€ä¸ªPOIå¯ä»¥æ˜¯ä¸€æ ‹æˆ¿å­ã€ä¸€ä¸ªæ™¯ç‚¹ã€ä¸€ä¸ªé‚®ç­’æˆ–è€…ä¸€ä¸ªå…¬äº¤ç«™ç­‰ã€‚<br>ç™¾åº¦åœ°å›¾SDKæä¾›ä¸‰ç§ç±»å‹ çš„POIæ£€ç´¢ï¼šåŸå¸‚å†…æ£€ç´¢ã€å‘¨è¾¹æ£€ç´¢å’ŒåŒºåŸŸæ£€ç´¢ï¼ˆå³çŸ©å½¢åŒºåŸŸæ£€ç´¢ï¼‰ã€‚ä¸‹é¢åˆ†åˆ«å¯¹ä¸‰ç§POIæ£€ç´¢æœåŠ¡çš„ä½¿ç”¨æ–¹æ³•ä½œè¯´æ˜ã€‚</p></blockquote><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs json">PoiInfo<span class="hljs-punctuation">:</span> name = äº”é‡Œåº—; uid = fe29f769d4d79f839d9d682e; address = æ±ŸåŒ—åŒº; province = é‡åº†å¸‚; city = é‡åº†å¸‚; area = æ±ŸåŒ—åŒº; street_id = fe29f769d4d79f839d9d682e; phoneNum = ; postCode = <span class="hljs-literal"><span class="hljs-keyword">null</span></span>; detail = <span class="hljs-number">1</span>; location = latitude<span class="hljs-punctuation">:</span> <span class="hljs-number">29.584075</span><span class="hljs-punctuation">,</span> longitude<span class="hljs-punctuation">:</span> <span class="hljs-number">106.562899</span>; hasCaterDetails = <span class="hljs-literal"><span class="hljs-keyword">false</span></span>; isPano = <span class="hljs-literal"><span class="hljs-keyword">false</span></span>; tag = <span class="hljs-literal"><span class="hljs-keyword">null</span></span>; poiDetailInfo = PoiDetailInfo<span class="hljs-punctuation">:</span> ......<br></code></pre></td></tr></table></figure><p>ä¸Šé¢æ˜¯PoiInfoçš„éƒ¨åˆ†ä¿¡æ¯ï¼Œå¯ä»¥çœ‹åˆ°ä¼šè¿”å›éå¸¸è¯¦ç»†çš„ä¿¡æ¯ï¼Œæ”¯æ’‘æˆ‘ä»¬åšå‡ºå„ç§æ•°æ®å¤„ç†</p><p>åœ¨<code>ClinicMapActivity</code>å½“ä¸­è·å–åˆ°poiæ•°æ®å,ä¼ å…¥åˆ°<code>ClinicListAdapter</code>è¿›è¡Œæ•°æ®æ¸²æŸ“</p><p><strong>ClinicMapActivity</strong></p><p>åœ¨ä»£ç å½“ä¸­æ³¨å†ŒPoiæœç´¢çš„<strong>ç›‘å¬å™¨</strong>,ç„¶åè°ƒç”¨<code>mClinicListAdapter.addAll(native_latitude, native_longitude, allPoi);</code>ä¼ è¾“æ•°æ®</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">initpoiSearch</span><span class="hljs-params">()</span> &#123;<br>    mPoiSearch = PoiSearch.newInstance();<br>    mPoiSearch.setOnGetPoiSearchResultListener(<span class="hljs-keyword">new</span> <span class="hljs-title class_">OnGetPoiSearchResultListener</span>() &#123;       <span class="hljs-meta">@Override</span><br>        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onGetPoiResult</span><span class="hljs-params">(PoiResult poiResult)</span> &#123;<br>            List&lt;PoiInfo&gt; allPoi = poiResult.getAllPoi();<br>            <span class="hljs-keyword">if</span> (allPoi != <span class="hljs-literal">null</span> &amp;&amp; allPoi.size() != <span class="hljs-number">0</span>) &#123;<br>                mLocation = allPoi.get(<span class="hljs-number">0</span>);<br>                mClinicListAdapter.addAll(native_latitude, native_longitude, allPoi);<br>            &#125; <span class="hljs-keyword">else</span> &#123;mClinicListAdapter.notifyDataSetChanged();&#125;<br>        &#125;<br></code></pre></td></tr></table></figure><h3 id="3-3-äºŒç»´ç ç”Ÿæˆä»¥åŠæ‰«æ"><a href="#3-3-äºŒç»´ç ç”Ÿæˆä»¥åŠæ‰«æ" class="headerlink" title="3.3  äºŒç»´ç ç”Ÿæˆä»¥åŠæ‰«æ"></a>3.3  äºŒç»´ç ç”Ÿæˆä»¥åŠæ‰«æ</h3><blockquote><p>å‚è€ƒåšå®¢ï¼ˆè¯¥åŠŸèƒ½çš„é¡¹ç›®æ–‡ä»¶ä½“é‡æ˜¯ç›®å‰æ‰€æœ‰åŠŸèƒ½å½“ä¸­æœ€å¤§çš„ï¼‰ï¼š</p><p><a href="https://blog.csdn.net/lowprofile_coding/article/details/83386050">(159æ¡æ¶ˆæ¯) zxingå¼€æºåº“çš„åŸºæœ¬ä½¿ç”¨_å®‰è¾‰å°±æ˜¯æˆ‘çš„åšå®¢-CSDNåšå®¢</a></p><p>å¯¹åº”Githubæºç åœ°å€</p><p><a href="https://github.com/ansen666/ZxingTest">ansen666&#x2F;ZxingTest (github.com)</a></p><p>å®ç°æ•ˆæœï¼š</p><p>é€šè¿‡è¾“å…¥ä»»æ„æ•°å­—ï¼Œè‹±æ–‡ï¼Œä¸­æ–‡éƒ½å¯ä»¥ç”Ÿæˆå±äºè‡ªå·±çš„äºŒç»´ç ï¼Œä¹Ÿå¯ä»¥ç‚¹å‡»æ‰«æåˆ«äººçš„äºŒç»´ç ä»è€Œè·å–å›¢ä½“ç æ•°å­—å†…å®¹</p><p>å¯ä»¥é•¿æŒ‰è‡ªå·±çš„äºŒç»´ç è¿›è¡Œ<strong>è¯†åˆ«æˆ–è€…ä¿å­˜</strong></p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/%E8%81%94%E6%83%B3%E6%88%AA%E5%9B%BE_20230619173712.png" alt="è”æƒ³æˆªå›¾_20230619173712"></p><p>å¤–éƒ¨å¯¼å…¥ä¾èµ–ï¼ˆGoogleçš„zxingåº“ï¼‰ï¼š</p><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs gradle">implementation <span class="hljs-string">&#x27;com.google.zxing:core:3.3.3&#x27;</span><br></code></pre></td></tr></table></figure><p><strong>xmlæ–‡ä»¶</strong>ï¼š</p><ul><li><p>æºé¡¹ç›®å¯¹åº”çš„xmlé…ç½®</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230620005303301.png" alt="image-20230620005303301"></p><p>è¿™é‡Œçš„activity_mainç§»æ¤ä¹‹åæ¢æˆè‡ªå·±å®šä¹‰çš„æ´»åŠ¨é¡µé¢å°±å¥½äº†</p></li><li><p>è¿˜æœ‰ä¸€äº›colorsã€themesã€stringsç­‰æ–‡ä»¶éœ€è¦æ›¿æ¢ï¼Œä½†æ˜¯è¿™äº›ä¹Ÿå¯ä»¥ä¸ç”¨å®ƒçš„</p><p>ä¸æ˜¯å¿…éœ€çš„</p></li></ul><p><strong>javaæ–‡ä»¶</strong>ï¼š</p><p>å¯¹åº”çš„Javaæ–‡ä»¶ä¹Ÿæ˜¯æŒºå¤šçš„ï¼Œåˆ†æˆäº†ä¸åŒçš„æ¨¡å—</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230620005557261.png" alt="image-20230620005557261"></p><p>å¤§æ¦‚æœ‰åä¸ªæ–‡ä»¶å·¦å³ï¼Œé™¤äº†ä¸¤ä¸ªactivityï¼Œå…¶ä»–å…¨æ˜¯å„ç§åŠŸèƒ½ç±»</p></blockquote><h4 id="3-3-1-xmlæ–‡ä»¶é…ç½®"><a href="#3-3-1-xmlæ–‡ä»¶é…ç½®" class="headerlink" title="3.3.1 xmlæ–‡ä»¶é…ç½®"></a>3.3.1 xmlæ–‡ä»¶é…ç½®</h4><p>é¦–å…ˆæ˜¯AndroidManifestçš„æƒé™é…ç½®ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">uses-permission</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;android.permission.CAMERA&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">uses-permission</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;android.permission.VIBRATE&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">uses-permission</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">uses-feature</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;android.hardware.camera&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">uses-feature</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;android.hardware.camera.autofocus&quot;</span> /&gt;</span><br><br></code></pre></td></tr></table></figure><p><strong>activity_scan.xml</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">LinearLayout</span> <span class="hljs-attr">xmlns:android</span>=<span class="hljs-string">&quot;http://schemas.android.com/apk/res/android&quot;</span></span><br><span class="hljs-tag">              <span class="hljs-attr">..</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">include</span> <span class="hljs-attr">layout</span>=<span class="hljs-string">&quot;@layout/title_top_white&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">FrameLayout</span>  <span class="hljs-attr">......</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">SurfaceView</span></span><br><span class="hljs-tag">            <span class="hljs-attr">android:id</span>=<span class="hljs-string">&quot;@+id/scan_activity_preview&quot;</span></span><br><span class="hljs-tag">            <span class="hljs-attr">android:keepScreenOn</span>=<span class="hljs-string">&quot;true&quot;</span> <span class="hljs-attr">...</span>/&gt;</span><br><br>        <span class="hljs-tag">&lt;<span class="hljs-name">com.example.yuemiaoapp.teambookpage.view.ScannerView</span></span><br><span class="hljs-tag">            <span class="hljs-attr">android:id</span>=<span class="hljs-string">&quot;@+id/scan_activity_mask&quot;</span></span><br><span class="hljs-tag">            <span class="hljs-attr">....</span> /&gt;</span><br>......<br><span class="hljs-tag">&lt;/<span class="hljs-name">LinearLayout</span>&gt;</span><br></code></pre></td></tr></table></figure><p>è¿™é‡Œå¯¼å…¥äº†ä¸¤ä¸ªæ¯”è¾ƒç‰¹åˆ«çš„æ§ä»¶ï¼Œ<code>SurfaceView</code>å’Œ<code>ScannerView</code>ï¼Œç”¨æ¥å®ç°æ‰«æçš„æ•ˆæœ</p><h4 id="3-3-2-Javaæºç "><a href="#3-3-2-Javaæºç " class="headerlink" title="3.3.2 Javaæºç "></a>3.3.2 Javaæºç </h4><ol><li><strong>æ‰«æè¯†åˆ«äºŒç»´ç ï¼š</strong></li></ol><p>å…ˆä»‹ç»ä¸€ä¸‹ç‚¹å‡»æ‰«æäºŒç»´ç çš„åŠŸèƒ½ï¼Œä½¿ç”¨intentæ¥å¼€å¯ä¸€ä¸ª<code>ScanActivity</code>ï¼Œè¿™ä¸ªActivityæ˜¯æˆ‘å·²ç»å°è£…å¥½çš„ï¼Œå¯¹åº”UIå®ç°å¦‚ä¸‹ï¼š</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/%E8%81%94%E6%83%B3%E6%88%AA%E5%9B%BE_20230618215334.png" alt="è”æƒ³æˆªå›¾_20230618215334"></p><p>ScanActivityé‡Œé¢å¤„ç†äº†æ‰«æäºŒç»´ç çš„æ•´ä¸ªæµç¨‹ï¼Œæ‰«ææˆåŠŸåä¼šæŠŠæ‰«æç»“æœè¿”å›ã€‚ScanActivityç±»çš„ä»£ç æœ‰ç‚¹å¤šï¼Œå°±ä¸è´´å‡ºæ¥äº†ï¼Œæœ‰å…´è¶£çš„è‡ªå·±çœ‹æºç ã€‚</p><ol start="2"><li><strong>TeamBookActivity</strong></li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">case</span> R.id.btn_scanning:<span class="hljs-comment">//æ‰«æ</span><br>    <span class="hljs-type">Intent</span> <span class="hljs-variable">intent</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Intent</span>(TeamBookActivity.<span class="hljs-built_in">this</span>,ScanActivity.class);<br>    startActivityForResult(intent,SCAN_REQUEST_CODE);<br>    <span class="hljs-keyword">break</span>;<br></code></pre></td></tr></table></figure><p>ç„¶ååœ¨é‡å†™Activityç±»çš„onActivityResultæ–¹æ³•æ¥å¤„ç†æ”¶åˆ°çš„æ•°æ®ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Override</span><br><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onActivityResult</span><span class="hljs-params">(<span class="hljs-type">int</span> requestCode, <span class="hljs-type">int</span> resultCode, <span class="hljs-meta">@Nullable</span> Intent intent)</span> &#123;<br>    <span class="hljs-built_in">super</span>.onActivityResult(requestCode, resultCode, intent);<br>    <span class="hljs-keyword">if</span> (requestCode == SCAN_REQUEST_CODE &amp;&amp; resultCode == RESULT_OK) &#123;<br>        <span class="hljs-type">String</span> <span class="hljs-variable">input</span> <span class="hljs-operator">=</span> intent.getStringExtra(ScanActivity.INTENT_EXTRA_RESULT);<br>        showToast(<span class="hljs-string">&quot;æ‰«æç»“æœ:&quot;</span>+input);<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><ol start="3"><li><strong>ä»ç›¸å†Œé€‰æ‹©äºŒç»´ç å›¾ç‰‡</strong></li></ol><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/%E8%81%94%E6%83%B3%E6%88%AA%E5%9B%BE_20230620101548.png" alt="è”æƒ³æˆªå›¾_20230620101548"></p><p>ä»£ç åŒæ ·åœ¨<code>teambookactivity</code>ä¸‹ï¼Œå¯åŠ¨ç³»ç»Ÿç›¸å†Œï¼Œå¹¶ä¸”ä»ä¸­é€‰æ‹©å›¾ç‰‡</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">Intent</span> <span class="hljs-variable">innerIntent</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Intent</span>(Intent.ACTION_PICK,<br>MediaStore.Images.Media.EXTERNAL_CONTENT_URI);<br><span class="hljs-type">Intent</span> <span class="hljs-variable">wrapperIntent</span> <span class="hljs-operator">=</span> Intent.createChooser(innerIntent, <span class="hljs-string">&quot;é€‰æ‹©äºŒç»´ç å›¾ç‰‡&quot;</span>);<br>startActivityForResult(wrapperIntent, SELECT_IMAGE_REQUEST_CODE);<br></code></pre></td></tr></table></figure><p>ç„¶ååŒæ ·æ˜¯åœ¨<code>onActivityResult</code>å½“ä¸­å¤„ç†é€‰æ‹©çš„å›¾ç‰‡çš„å†…å®¹ï¼Œè°ƒç”¨BitmapUtil.parseQRcodeæ–¹æ³•è§£æäºŒç»´ç å›¾ç‰‡ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Override</span><br><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onActivityResult</span><span class="hljs-params">(<span class="hljs-type">int</span> requestCode, <span class="hljs-type">int</span> resultCode, <span class="hljs-meta">@Nullable</span> Intent intent)</span> &#123;<br>    <span class="hljs-built_in">super</span>.onActivityResult(requestCode, resultCode, intent);<br>    <span class="hljs-keyword">if</span>(requestCode==SELECT_IMAGE_REQUEST_CODE)&#123;<span class="hljs-comment">//ä»å›¾åº“é€‰æ‹©å›¾ç‰‡</span><br>......<br>        <span class="hljs-keyword">if</span> (cursor.moveToFirst()) &#123;<br>            ......<br>            String result= BitmapUtil.parseQRcode(photoPath);<br>            <span class="hljs-keyword">if</span> (!TextUtils.isEmpty(result)) &#123;<br>                showToast(<span class="hljs-string">&quot;ä»å›¾åº“é€‰æ‹©çš„å›¾ç‰‡è¯†åˆ«ç»“æœ:&quot;</span>+result);<br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                showToast(<span class="hljs-string">&quot;ä»å›¾åº“é€‰æ‹©çš„å›¾ç‰‡ä¸æ˜¯äºŒç»´ç å›¾ç‰‡&quot;</span>);<br>            &#125;<br>        &#125;<br>        cursor.close();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><code>parseQRcode()</code>æ–¹æ³•æ˜¯å°†æ–‡ä»¶è·¯å¾„è¯»å–æˆBitmapæ ¼å¼çš„æ•°æ®è¿›è¡Œå‹ç¼©</p><ol start="4"><li><strong>ç”ŸæˆäºŒç»´ç å›¾ç‰‡</strong></li></ol><p>å®ç°æ•ˆæœ:</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230620103614531.png" alt="image-20230620103614531"></p><p>ç”ŸæˆäºŒç»´ç å›¾ç‰‡è°ƒç”¨CreateQRBitmp.createQRCodeBitmapæ–¹æ³•ç”Ÿæˆï¼Œè¿™ä¸ªæ–¹æ³•æ˜¯æˆ‘ä»¬è‡ªå·±å°è£…çš„ï¼Œéœ€è¦ä¼ å…¥ä¸¤ä¸ªå‚æ•°:</p><p>å‚æ•°1:  å›¾ç‰‡å†…å®¹ã€   å‚æ•°2:   äºŒç»´ç å›¾ç‰‡æœ€ä¸­é—´æ˜¾ç¤ºçš„logo(Bitmapå¯¹è±¡)ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">String</span> <span class="hljs-variable">contentString</span> <span class="hljs-operator">=</span> etInput.getText().toString().trim();<br><span class="hljs-keyword">if</span>(TextUtils.isEmpty(contentString))&#123;<br>    showToast(<span class="hljs-string">&quot;è¯·è¾“å…¥äºŒç»´ç å†…å®¹&quot;</span>);<br>    <span class="hljs-keyword">return</span> ;<br>&#125;<br><span class="hljs-type">Bitmap</span> <span class="hljs-variable">portrait</span> <span class="hljs-operator">=</span> BitmapFactory.decodeResource(getResources(),R.mipmap.ic_launcher);<br><span class="hljs-comment">//ä¸¤ä¸ªæ–¹æ³•ï¼Œä¸€ä¸ªä¸ä¼ å¤§å°ï¼Œä½¿ç”¨é»˜è®¤</span><br>qrCodeBitmap = CreateQRBitmp.createQRCodeBitmap(contentString, portrait);<br>ivQrImage.setImageBitmap(qrCodeBitmap);<br></code></pre></td></tr></table></figure><p>è‡³æ­¤æ‰«æäºŒç»´ç çš„ä¸»è¦åŠŸèƒ½å°±ä»‹ç»å®Œäº†.</p><h3 id="3-4-å—ç§è€…è®°å½•æ“ä½œ"><a href="#3-4-å—ç§è€…è®°å½•æ“ä½œ" class="headerlink" title="3.4 å—ç§è€…è®°å½•æ“ä½œ"></a>3.4 å—ç§è€…è®°å½•æ“ä½œ</h3><blockquote><p>å®ç°æ•ˆæœ:</p><p>å¯ä»¥åœ¨å—ç§è€…è®°å½•å¤„æŸ¥çœ‹å½“å‰çš„è®°å½•ä¿¡æ¯,å¯ä»¥ç‚¹å‡»å³ä¸‹è§’çš„ï¼‹å·è¿›è¡Œæ–°å¢</p><p>ä¹Ÿå¯ä»¥ç‚¹å‡»è¿›å»å…·ä½“çš„è®°å½•ä¿¡æ¯æŸ¥çœ‹,åŒæ—¶å…·ä½“çš„ä¿¡æ¯ç•Œé¢æä¾›äº†ä¿®æ”¹ä»¥åŠç»‘å®šç”¨æˆ·çš„æ–¹æ³•</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/%E8%81%94%E6%83%B3%E6%88%AA%E5%9B%BE_20230619175419.png" alt="è”æƒ³æˆªå›¾_20230619175419"></p><p>xmlæ–‡ä»¶:</p><ul><li>activity_inoculate_edit.xmlã€€ï¼ˆç¼–è¾‘æˆ–è€…æ–°å¢ï¼‘å…·ä½“ä¿¡æ¯ï¼‰</li><li>activity_inoculate_info_page.xmlã€€ï¼ˆå±•ç¤ºå…·ä½“ä¿¡æ¯ï¼‰</li><li>activity_inoculate_list.xml ï¼ˆå—ç§è€…ä¿¡æ¯çš„åˆ—è¡¨ï¼‰</li><li>activity_person_page.xml (å…¥å£)</li></ul><p>Javaæ–‡ä»¶(personpageè½¯ä»¶åŒ…ä¸‹):</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230620110133117.png" alt="image-20230620110133117"></p></blockquote><p><strong>åŠŸèƒ½ä»‹ç»:</strong></p><p><strong>å±•ç°å—ç§è€…ä¿¡æ¯:</strong></p><p>å¯¹åº”æ•°æ®è¡¨(inoculateinfo):</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230620110444203.png" alt="image-20230620110444203"></p><p>çœ‹åˆ°æœ€å³è¾¹çš„å­—æ®µæ˜¯user_idä½œä¸ºå¤–é”®, åŒºåˆ†ä¸åŒç”¨æˆ·ä¸‹çš„å—ç§è€…è®°å½•,é˜²æ­¢å†²çª</p><p><strong>InoculateListAdapter</strong> (è¯¥ç±»åœ¨InoculateListActivityæ–‡ä»¶å½“ä¸­)</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-title function_">InoculateListAdapter</span><span class="hljs-params">(Activity activity)</span>&#123;<br>    <span class="hljs-built_in">this</span>.activity = activity;<br>    <span class="hljs-comment">//è·å–å½“å‰ç”¨æˆ·çš„å—ç§è€…è®°å½•</span><br>    inoculateInfoList = LitePal.where(<span class="hljs-string">&quot;user_id = ?&quot;</span>,String.valueOf(userInfo.getId()))<br>            .find(InoculateInfo.class);<br>&#125;<br></code></pre></td></tr></table></figure><p>ä¸Šé¢åœ¨åˆå§‹åŒ–Adapterçš„æ—¶å€™,é€šè¿‡<code>LitePal.where()</code>æ¥ç­›é€‰ä¸åŒç”¨æˆ·å¯¹åº”çš„å—ç§è€…ä¿¡æ¯.</p><h2 id="4-é‡åˆ°çš„é—®é¢˜"><a href="#4-é‡åˆ°çš„é—®é¢˜" class="headerlink" title="4. é‡åˆ°çš„é—®é¢˜"></a>4. é‡åˆ°çš„é—®é¢˜</h2><h3 id="4-1-è®¾ç½®NavigationViewæ—¶æ§ä»¶æ— æ³•ç›´æ¥å¼•ç”¨"><a href="#4-1-è®¾ç½®NavigationViewæ—¶æ§ä»¶æ— æ³•ç›´æ¥å¼•ç”¨" class="headerlink" title="4.1 è®¾ç½®NavigationViewæ—¶æ§ä»¶æ— æ³•ç›´æ¥å¼•ç”¨"></a>4.1 è®¾ç½®NavigationViewæ—¶æ§ä»¶æ— æ³•ç›´æ¥å¼•ç”¨</h3><p>nav_headeræ— æ³•ç›´æ¥è¢«<code>activity.findViewById()</code>æ‰¾åˆ°</p><p>ç”±äºè¯¥æ§ä»¶ä¸æ˜¯åœ¨<strong>activity_main.xml</strong>å½“ä¸­ï¼Œåªæ˜¯è¢«å¼•ç”¨äº†</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/%E8%81%94%E6%83%B3%E6%88%AA%E5%9B%BE_20230518134252.png" alt="è”æƒ³æˆªå›¾_20230518134252"></p><p>æ‰€ä»¥æ— æ³•ç›´æ¥æ‰¾åˆ°ï¼Œå› æ­¤è¦ç”¨å¦‚ä¸‹ä»£ç è·å¾—</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java">        <br><span class="hljs-type">NavigationView</span> <span class="hljs-variable">mNavigationView</span> <span class="hljs-operator">=</span> activity.findViewById(R.id.nav_view);<br><span class="hljs-type">View</span> <span class="hljs-variable">headerView</span> <span class="hljs-operator">=</span> mNavigationView.getHeaderView(<span class="hljs-number">0</span>);<br></code></pre></td></tr></table></figure><p>ä¹Ÿå°±æ˜¯å…ˆè·å¾—NavigationViewï¼Œå†è·å–å®ƒå½“ä¸­çš„<strong>headerVIew</strong></p><h3 id="4-2-è½®æ’­å›¾é‡åˆ°çš„é—®é¢˜ï¼š"><a href="#4-2-è½®æ’­å›¾é‡åˆ°çš„é—®é¢˜ï¼š" class="headerlink" title="4.2  è½®æ’­å›¾é‡åˆ°çš„é—®é¢˜ï¼š"></a>4.2  è½®æ’­å›¾é‡åˆ°çš„é—®é¢˜ï¼š</h3><ul><li><p>åœ¨é€€å‡ºç™»å½•çš„æ—¶å€™ï¼ŒThreadçº¿ç¨‹æ²¡æœ‰ç»“æŸï¼Œä½†æ˜¯æ´»åŠ¨å·²ç»é”€æ¯äº†ï¼Œæ‰€ä»¥ä¼šå¯¼è‡´æŠ¥é”™</p><p><strong>è§£å†³æ–¹æ³•</strong>ï¼šé€€å‡ºç™»å½•çš„æ—¶å€™è¦ç”¨æ ‡å¿—ä½è¿›è¡Œåˆ¤æ–­</p></li></ul><h3 id="4-3-ç™¾åº¦åœ°å›¾é‡åˆ°çš„é—®é¢˜ï¼š"><a href="#4-3-ç™¾åº¦åœ°å›¾é‡åˆ°çš„é—®é¢˜ï¼š" class="headerlink" title="4.3 ç™¾åº¦åœ°å›¾é‡åˆ°çš„é—®é¢˜ï¼š"></a>4.3 <strong>ç™¾åº¦åœ°å›¾é‡åˆ°çš„é—®é¢˜ï¼š</strong></h3><ul><li><p>debug.keystoreæŠ¥é”™ä¸èƒ½è¿è¡Œ è¯´æ˜¯invalid</p><p>è§£å†³ï¼šåˆ é™¤debug.keystore ç­‰å®ƒè‡ªåŠ¨é‡æ–°åˆ›å»º</p></li><li><p>butterknifeå·¥å…·æ— æ³•ä½¿ç”¨</p><p>è§£å†³ï¼šè¦æŠŠgradleç‰ˆæœ¬è°ƒä½</p></li><li><p>smartrefreshåŒ…æ— æ³•æ­£å¸¸å¯¼å…¥</p><p>è§£å†³ï¼šæ–°ç‰ˆçš„gradleé‡Œé¢æ²¡æœ‰è¿™ä¸ªåº“</p><p><a href="https://blog.csdn.net/Goals1989/article/details/125724756">(159æ¡æ¶ˆæ¯) Failed to resolve: com.scwang.smartrefresh:SmartRefreshLayout:1.1.2_hudawei996çš„åšå®¢-CSDNåšå®¢</a></p><p>å¯¹åº”ä¸Šé¢åšå®¢ï¼Œå°†setting.gradleå½“ä¸­çš„æ–‡ä»¶ä¿®æ”¹ä¸€ä¸‹ï¼ŒåŠ ä¸Šjcenter</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/48033d7ff4a64807b0cc8ce7ec026501.png" alt="img"></p></li><li><p>å¤–éƒ¨å¯¼å…¥çš„åŒ…å‘ç°å’Œsupport-v4æœ‰å†²çª</p><p>è§£å†³ï¼šåœ¨<code>gradle.properties</code>åŠ ä¸Š</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs properties"><span class="hljs-attr">android.enableJetifier</span>=<span class="hljs-string">true</span><br></code></pre></td></tr></table></figure></li><li><p>æ¨¡æ‹Ÿå™¨è¿è¡Œçš„æ—¶å€™æ— æ³•æ‰§è¡ŒLocationListenerç›‘å¬å™¨<code>onRecieveLocation</code>å‡½æ•°ï¼Œä½†æ˜¯ç”¨<strong>çœŸæœº</strong>åˆå¯ä»¥ã€</p><p>ä¹Ÿå°±æ˜¯è¯´æ¨¡æ‹Ÿå™¨è¿è¡ŒçŠ¶æ€ä¸‹æ— æ³•å®ç°<strong>å½“å‰ä½ç½®çš„å®šä½</strong></p></li><li><p>æŠ¥é”™<code>has been stopped because you do not aaree with the orivacy compliance policy,Please recheck the setAoreePriyacy intarfao</code></p><p>ç½‘ä¸Šéƒ½è¯´æ˜¯æ²¡æœ‰è®¾ç½®é‚£ä¸ª<code>setAgreePrivacy</code>ä¸ºTrueï¼Œä½†æ˜¯è®¾ç½®äº†ä¹Ÿä¸è¡Œ</p></li></ul><h3 id="4-4-æ•°æ®åº“çš„æ¡†æ¶litepalæ— æ³•ç›´æ¥å¯¼å…¥"><a href="#4-4-æ•°æ®åº“çš„æ¡†æ¶litepalæ— æ³•ç›´æ¥å¯¼å…¥" class="headerlink" title="4.4 æ•°æ®åº“çš„æ¡†æ¶litepalæ— æ³•ç›´æ¥å¯¼å…¥"></a>4.4 æ•°æ®åº“çš„æ¡†æ¶litepalæ— æ³•ç›´æ¥å¯¼å…¥</h3><p>å…³äºè¿™ä¸ªé—®é¢˜å’Œé‚£ä¸ª<code>smartrefresh</code>å¼€æºåŒ…æ— æ³•å¯¼å…¥æ˜¯ä¸€æ ·çš„ï¼Œå½“å‰gradleä¸æ”¯æŒäº†</p><p>æ‰€ä»¥è¿˜æ˜¯è¦å°†<code>settng.gradle</code> çš„ä¸¤ä¸ªManagement éƒ½åŠ ä¸Š<code>jcenterï¼ˆï¼‰</code></p><h2 id="5-æ€»ç»“"><a href="#5-æ€»ç»“" class="headerlink" title="5. æ€»ç»“"></a>5. æ€»ç»“</h2><p>xxxxxxxxxxxxxxxxxxxxxxä¸ç»™ä½ çœ‹</p>]]></content>
    
    
    <categories>
      
      <category>æœ¬ç§‘</category>
      
      <category>å¤§ä¸‰ä¸‹</category>
      
      <category>ç§»åŠ¨äº’è”ç½‘ç¼–ç¨‹</category>
      
    </categories>
    
    
    <tags>
      
      <tag>android</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Springbooté¡¹ç›®ä½¿ç”¨Elastic Searchæ•™ç¨‹</title>
    <link href="/2023/06/04/%E6%9C%AC%E7%A7%91/%E5%A4%A7%E4%B8%89%E4%B8%8B/%E8%BD%AF%E5%B7%A5%E5%AE%9E%E8%AE%AD/Springboot%E4%BD%BF%E7%94%A8Elastic%20Search%E6%95%99%E7%A8%8B/"/>
    <url>/2023/06/04/%E6%9C%AC%E7%A7%91/%E5%A4%A7%E4%B8%89%E4%B8%8B/%E8%BD%AF%E5%B7%A5%E5%AE%9E%E8%AE%AD/Springboot%E4%BD%BF%E7%94%A8Elastic%20Search%E6%95%99%E7%A8%8B/</url>
    
    <content type="html"><![CDATA[<h1 id="Springbooté¡¹ç›®ä½¿ç”¨Elastic-Searchæ•™ç¨‹-å®Œæ•´æ­¥éª¤"><a href="#Springbooté¡¹ç›®ä½¿ç”¨Elastic-Searchæ•™ç¨‹-å®Œæ•´æ­¥éª¤" class="headerlink" title="Springbooté¡¹ç›®ä½¿ç”¨Elastic Searchæ•™ç¨‹(å®Œæ•´æ­¥éª¤)"></a>Springbooté¡¹ç›®ä½¿ç”¨Elastic Searchæ•™ç¨‹(å®Œæ•´æ­¥éª¤)</h1><blockquote><p>æœ€è¿‘çš„é¡¹ç›®éœ€è¦ç”¨åˆ°Elastic Searchï¼Œä¸Šç½‘æŸ¥èµ„æ–™çš„æ—¶å€™å‘ç°å†…å®¹æ¯”è¾ƒåˆ†æ•£ï¼Œæœç´¢èµ·æ¥çš„æ—¶å€™æ¯”è¾ƒè´¹åŠ›ï¼Œ</p><p>äºæ˜¯æœ€è¿‘å…¥é—¨é…ç½®æˆåŠŸä¹‹åï¼Œç¨å¾®æ€»ç»“ä¸€ä¸‹å§ã€‚</p><p>å…ˆç»™å‡ºä¸€äº›ç½‘ä¸Šçš„æ•™ç¨‹</p><ol><li><p><a href="https://blog.csdn.net/gybshen/article/details/111469217">(152æ¡æ¶ˆæ¯) Spring Bootæ•´åˆElasticsearchï¼Œæœ€æ–°æœ€å…¨æ•™ç¨‹_spring elasticsearch_Cloud-Futureçš„åšå®¢-CSDNåšå®¢</a></p><p>è¿™ä¸€ç¯‡ä»£ç æ˜¯å†™çš„æŒºæ¸…æ™°çš„</p></li><li><p>æŸ¥çœ‹å¯¹åº”çš„spring data eså’Œeså’Œspringbootå¯¹åº”çš„ç‰ˆæœ¬</p><p><a href="https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/">Spring Data Elasticsearch - Reference Documentation</a></p><p><a href="https://blog.csdn.net/yexiaomodemo/article/details/107717296">(152æ¡æ¶ˆæ¯) spring data elasticsearch å¯¹åº” elasticsearch ç‰ˆæœ¬_elasticsearchç‰ˆæœ¬å…¼å®¹_æ‚Ÿèƒ½çš„å¸ˆå…„çš„åšå®¢-CSDNåšå®¢</a></p></li><li><p>å®‰è£…ESçš„æ•™ç¨‹</p><p><a href="https://blog.csdn.net/weixin_44876536/article/details/103082986">Windowsä¸‹æ­å»ºElasticSearchã€Logstashä»¥åŠåŸºæœ¬æ’ä»¶_Duuiçš„åšå®¢-CSDNåšå®¢</a></p></li><li><p>spring-data-elasticsearchå®˜æ–¹æ–‡æ¡£</p><p><a href="https://docs.spring.io/spring-data/elasticsearch/docs/current/reference/html/#reference">Spring Data Elasticsearch - Reference Documentation</a></p></li></ol></blockquote><p>[TOC]</p><h2 id="1-å®‰è£…Elastic-Search"><a href="#1-å®‰è£…Elastic-Search" class="headerlink" title="1. å®‰è£…Elastic Search"></a>1. å®‰è£…Elastic Search</h2><p>è¿™ä¸ªæ¯”è¾ƒç®€å•ï¼Œå…ˆç›´æ¥å»å®˜ç½‘ä¸Šé¢æ‰¾åˆ°<strong>å¯¹åº”çš„Springbootçš„</strong>ç‰ˆæœ¬ï¼Œç„¶åä¸‹è½½Zipï¼Œè§£å‹</p><p>ä¾‹å¦‚æˆ‘çš„springbootç‰ˆæœ¬æ˜¯2.7.5ï¼Œæ‰€ä»¥ESæˆ‘ä¸‹çš„æ˜¯7.17.3</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230604174859202.png" alt="image-20230604174859202"></p><p>ESå®˜ç½‘<a href="https://www.elastic.co/cn/downloads/elasticsearch">Download Elasticsearch | Elastic</a></p><p>ä¸»é¡µå³è¾¹å¯ä»¥é€‰æ‹©è¿‡å»çš„ç‰ˆæœ¬</p><p><strong>è§£å‹å</strong>ç›´æ¥è¿è¡Œbinæ–‡ä»¶ä¸‹çš„elasticsearch.batçš„æ‰¹å¤„ç†æ–‡ä»¶</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230604174939035.png" alt="image-20230604174939035"></p><p>ç„¶åç­‰å¾…CMDè¾“å‡ºä¸€äº›æŒ‡ä»¤å³å¯è¿è¡ŒæˆåŠŸäº†ï¼</p><p>cmdè¿è¡Œå†…å®¹å¦‚å›¾</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230604183512060.png" alt="image-20230604183512060"></p><p>åœ¨åé¢è¿è¡Œspringbootçš„æ—¶å€™è®°å¾—ä¹Ÿè¦åŒæ—¶è¿è¡Œç€è¿™ä¸ªElastic Search</p><p>å¯ä»¥å»<code>localhost:9200</code>å¤„æŸ¥çœ‹æ˜¯å¦æ­£ç¡®çš„è¿è¡Œ;</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230605164859410.png" alt="image-20230605164859410"></p><h2 id="2-å®‰è£…IKåˆ†è¯å™¨ï¼ˆè¿™ä¸ªç´¢å¼•å½“ä¸­ç”¨äº†ik-max-wordçš„è¯å°±è¦è£…ï¼‰"><a href="#2-å®‰è£…IKåˆ†è¯å™¨ï¼ˆè¿™ä¸ªç´¢å¼•å½“ä¸­ç”¨äº†ik-max-wordçš„è¯å°±è¦è£…ï¼‰" class="headerlink" title="2. å®‰è£…IKåˆ†è¯å™¨ï¼ˆè¿™ä¸ªç´¢å¼•å½“ä¸­ç”¨äº†ik_max_wordçš„è¯å°±è¦è£…ï¼‰"></a>2. å®‰è£…IKåˆ†è¯å™¨ï¼ˆè¿™ä¸ªç´¢å¼•å½“ä¸­ç”¨äº†ik_max_wordçš„è¯å°±è¦è£…ï¼‰</h2><p>IKåˆ†è¯å™¨æ˜¯esçš„ä¸€ä¸ªæ’ä»¶</p><p>æˆ‘åœ¨åé¢é…ç½®å¥½äº†springbootä¹‹åæ‰å‘ç°è¦é…ç½®è¿™ä¸ª</p><p>è¿è¡Œspring bootçš„æ—¶å€™å‘ç°æœ‰<code>reason=analyzer [ik_max_word] has not been configured in mappings]]</code>çš„æŠ¥é”™</p><p>ç„¶åæœäº†ä¸€ä¸‹å‘ç°è¿˜éœ€è¦å®‰è£…åˆ†è¯å™¨</p><p>å› ä¸ºåœ¨å®ä½“ç±»ç´¢å¼•å½“ä¸­æˆ‘ä½¿ç”¨äº†åˆ†è¯</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230605161823817.png" alt="image-20230605161823817"></p><p>githubä¸‹è½½ç½‘å€ <a href="https://github.com/medcl/elasticsearch-analysis-ik">medcl&#x2F;elasticsearch-analysis-ik: The IK Analysis plugin integrates Lucene IK analyzer into elasticsearch, support customized dictionary. (github.com)</a>ï¼Œåœ¨é¡µé¢çš„å³ä¾§çš„releaseå¯ä»¥æŸ¥çœ‹è¿‡å»çš„ç‰ˆæœ¬</p><p><strong>æ³¨æ„ç‰ˆæœ¬è¦å’ŒElasticSearchçš„ä¸€è‡´ï¼ï¼</strong></p><p>åˆ†è¯å™¨ä¹Ÿæ˜¯å®‰è£…å¥½å¯¹åº”ç‰ˆæœ¬ï¼ˆå’ŒESç‰ˆæœ¬ä¸€è‡´ï¼‰çš„zipæ–‡ä»¶åï¼Œç›´æ¥<strong>è§£å‹åˆ°ESçš„pluginæ–‡ä»¶å¤¹</strong>ä¸‹å³å¯</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/359bd7b0d80f4c1e8f1e7fcb22228ac3.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>å®‰è£…å¥½åå†æ¬¡è¿è¡ŒElastic Searchå³å¯ã€‚</p><h2 id="3-springbooté…ç½®ç›¸å…³ä¾èµ–"><a href="#3-springbooté…ç½®ç›¸å…³ä¾èµ–" class="headerlink" title="3. springbooté…ç½®ç›¸å…³ä¾èµ–"></a>3. springbooté…ç½®ç›¸å…³ä¾èµ–</h2><p>ä»è¿™ä¸ªæ­¥éª¤å¾€åéƒ½æ˜¯å¯ä»¥å‚ç…§æˆ‘æœ€ä¸Šé¢ç»™å‡ºçš„æ•™ç¨‹ç½‘å€ï¼Œè·Ÿç€èµ°å³å¯</p><p>æˆ‘è¿™é‡Œåªè®²ä¸€ä¸‹å¤§æ¦‚</p><h4 id="3-1-pomå¯¼å…¥ä¾èµ–"><a href="#3-1-pomå¯¼å…¥ä¾èµ–" class="headerlink" title="3.1 pomå¯¼å…¥ä¾èµ–"></a>3.1 pomå¯¼å…¥ä¾èµ–</h4><p>åªé…è¿™ä¸ªdata-elasticsearchå°±å¯ä»¥äº†ï¼Œé‚£ä¸ªclientå¯ä»¥ä¸ç”¨ï¼Œé‚£ä¸ªæœ‰ä»€ä¹ˆç”¨ç›®å‰æˆ‘è¿˜ä¸ä¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-data-elasticsearch<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span><br><br></code></pre></td></tr></table></figure><h4 id="3-2-java-ç¼–å†™ç›¸å…³é…ç½®ç±»"><a href="#3-2-java-ç¼–å†™ç›¸å…³é…ç½®ç±»" class="headerlink" title="3.2 java ç¼–å†™ç›¸å…³é…ç½®ç±»"></a>3.2 java ç¼–å†™ç›¸å…³é…ç½®ç±»</h4><p>è¿™ä¸ªé…ç½®ç±»ä¹Ÿå¾ˆç®€å•ï¼Œæ‰€æœ‰çš„éƒ½æ˜¯è¿™æ ·é…ç½®ï¼Œç½‘ä¸Šç›´æ¥æ‰¾å°±å¯ä»¥äº†</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * ElasticSearch å®¢æˆ·ç«¯é…ç½®</span><br><span class="hljs-comment"> *</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@author</span> geng</span><br><span class="hljs-comment"> * 2020/12/19</span><br><span class="hljs-comment"> */</span><br><span class="hljs-meta">@Configuration</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RestClientConfig</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">AbstractElasticsearchConfiguration</span> &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-meta">@Bean</span><br>    <span class="hljs-keyword">public</span> RestHighLevelClient <span class="hljs-title function_">elasticsearchClient</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">final</span> <span class="hljs-type">ClientConfiguration</span> <span class="hljs-variable">clientConfiguration</span> <span class="hljs-operator">=</span> ClientConfiguration.builder()<br>                .connectedTo(<span class="hljs-string">&quot;localhost:9200&quot;</span>)<br>                .build();<br>        <span class="hljs-keyword">return</span> RestClients.create(clientConfiguration).rest();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="3-3-å®ä½“ç±»entityä¸Daoå±‚"><a href="#3-3-å®ä½“ç±»entityä¸Daoå±‚" class="headerlink" title="3.3 å®ä½“ç±»entityä¸Daoå±‚"></a>3.3 å®ä½“ç±»entityä¸Daoå±‚</h4><p>å®ä½“ç±»Recipe</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Data</span><br><span class="hljs-meta">@NoArgsConstructor</span><br><span class="hljs-meta">@AllArgsConstructor</span><br><span class="hljs-meta">@Document(indexName = &quot;recipe&quot;,createIndex = true)</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Recipe</span> &#123;<br>    <span class="hljs-meta">@Id</span><br>    <span class="hljs-meta">@Field(type = FieldType.Integer)</span><br>    <span class="hljs-keyword">private</span> Integer id; <span class="hljs-comment">//èœè°±id</span><br>    <span class="hljs-meta">@Field(type = FieldType.Integer)</span><br>    <span class="hljs-keyword">private</span> Integer categoryId;<span class="hljs-comment">//èœè°±ç§ç±»ï¼Œå¤–é”®ID</span><br>    <span class="hljs-meta">@Field(type = FieldType.Text,analyzer = &quot;ik_max_word&quot;)</span><br>    <span class="hljs-keyword">private</span> String title;<br>    <span class="hljs-meta">@Field(type = FieldType.Keyword)</span><br>    <span class="hljs-keyword">private</span> String coverUrl; <span class="hljs-comment">//é£Ÿè°±å°é¢</span><br>    <span class="hljs-meta">@Field(type = FieldType.Text,analyzer = &quot;ik_max_word&quot;)</span><br>    <span class="hljs-keyword">private</span> String mainIngredient;<span class="hljs-comment">//æ·»æœ‰ä¸»è¦é£Ÿæçš„åå­—</span><br>..................<br>&#125;<br></code></pre></td></tr></table></figure><p>å…³äºè¿™äº›æ³¨è§£çš„ä»‹ç»å¯å‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼Œæˆ–è€…csdnæ•™ç¨‹<a href="https://blog.csdn.net/u013089490/article/details/84323762">(153æ¡æ¶ˆæ¯) Spring Data Elasticsearchç¯‡(1):å¸¸ç”¨æ³¨è§£_spring data elasticsearch @field_mykefeiçš„åšå®¢-CSDNåšå®¢</a></p><p>å¯¹åº”çš„DAOå±‚éå¸¸ç®€å•ï¼Œspringçš„data-elasticsearchéƒ½å·²ç»æä¾›å¥½äº†</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">ESRecipeDao</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">ElasticsearchRepository</span>&lt;Recipe,String&gt; &#123;<br>    List&lt;Recipe&gt; <span class="hljs-title function_">findByTitleOrMainIngredient</span><span class="hljs-params">(String title,String mainIngredient)</span>;<br>    List&lt;Recipe&gt; <span class="hljs-title function_">findByTitle</span><span class="hljs-params">(String title)</span>;<br><br>&#125;<br></code></pre></td></tr></table></figure><p>è¿™é‡Œdaoå®šä¹‰äº†ä¸¤ä¸ªå‡½æ•°ï¼Œéƒ½æ˜¯å®ƒè‡ªåŠ¨æä¾›å¥½çš„ï¼Œåªè¦ä½ çš„å®ä½“ç±»é‡Œé¢æœ‰è¿™äº›å‚æ•°ï¼Œè¿™ä¸ªå‡½æ•°å°±å¯ä»¥è¢«è‡ªåŠ¨æ„å»ºå‡ºæ¥ï¼Œæ¯”MybatisPlusè¿˜è¦é«˜çº§ï¼Œæ›´è¯¦ç»†çš„ç”¨æ³•è¿™é‡Œå°±ä¸ä»‹ç»äº†ï¼Œè¿™ä¸ªåªèƒ½å®ç°ç®€å•çš„æœç´¢ï¼Œè¿˜æ²¡æœ‰åˆ†è¯åŠŸèƒ½</p><p>serviceå±‚ä»€ä¹ˆçš„å°±ç›´æ¥è°ƒç”¨Daoå±‚çš„æ¥å£å°±å¥½äº†ï¼Œè¿™é‡Œä¹Ÿä¸å±•å¼€äº†ã€‚</p><p>æ­£ç¡®è¿è¡Œåï¼Œç´¢å¼•å¦‚æœæ­£ç¡®å»ºç«‹äº†ï¼Œä¹Ÿæ˜¯å¯ä»¥é€šè¿‡æ¥å£è®¿é—®çš„</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230605164951261.png" alt="image-20230605164951261"></p><p>ç«¯å£åé¢åŠ ä¸Šä½ æ–°å»ºçš„indexï¼ˆç´¢å¼•ï¼‰çš„åç§°ï¼Œå¯ä»¥æ ¡å¯¹ä¸€ä¸‹é‡Œé¢çš„æ•°æ®æ˜¯å¦å’Œå®ä½“ç±»çš„ä¸€ä¸€å¯¹åº”</p><h4 id="3-4-é«˜äº®åˆ†è¯æŸ¥è¯¢å®ç°ï¼š"><a href="#3-4-é«˜äº®åˆ†è¯æŸ¥è¯¢å®ç°ï¼š" class="headerlink" title="3.4 é«˜äº®åˆ†è¯æŸ¥è¯¢å®ç°ï¼š"></a>3.4 é«˜äº®åˆ†è¯æŸ¥è¯¢å®ç°ï¼š</h4><p>å‚è€ƒäº†ä»¥ä¸‹åšä¸»çš„æ–‡ç« ï¼Œå†™çš„å¾ˆå¥½ï¼ŒåŸºæœ¬ä¸Šç›´æ¥å¥—ç”¨ä»–å†™çš„highquerySeearch</p><p><a href="https://blog.csdn.net/wpw2000/article/details/115704320">(156æ¡æ¶ˆæ¯) SpringBootæ•´åˆElasticSearch7.12å®ç°å¢åˆ æ”¹æŸ¥åŠé«˜äº®åˆ†è¯æŸ¥è¯¢_elasticsearchrepositoryåˆ†è¯æŸ¥è¯¢_å¤œä¸­å¬é›ªçš„åšå®¢-CSDNåšå®¢</a></p><p>é«˜äº®éƒ¨åˆ†ä»£ç å¦‚ä¸‹</p><p> &#x2F;&#x2F;å¸¦é«˜äº®çš„æŸ¥è¯¢<br>    @Test<br>    public void highlightQuery() throws Exception{<br>        SearchRequest searchRequest &#x3D; new SearchRequest(â€œdiscusspostâ€);&#x2F;&#x2F;discusspostæ˜¯ç´¢å¼•åï¼Œå°±æ˜¯è¡¨å</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">highlightQuery</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> Exception&#123;<br>      <span class="hljs-type">SearchRequest</span> <span class="hljs-variable">searchRequest</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SearchRequest</span>(<span class="hljs-string">&quot;discusspost&quot;</span>);<span class="hljs-comment">//discusspostæ˜¯ç´¢å¼•åï¼Œå°±æ˜¯è¡¨å</span><br><br>      <span class="hljs-comment">//é«˜äº®</span><br>      <span class="hljs-type">HighlightBuilder</span> <span class="hljs-variable">highlightBuilder</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">HighlightBuilder</span>();<br>      highlightBuilder.field(<span class="hljs-string">&quot;title&quot;</span>);<br>      highlightBuilder.field(<span class="hljs-string">&quot;content&quot;</span>);<br>      highlightBuilder.requireFieldMatch(<span class="hljs-literal">false</span>);<br>      highlightBuilder.preTags(<span class="hljs-string">&quot;&lt;span style=&#x27;color:red&#x27;&gt;&quot;</span>);<br>      highlightBuilder.postTags(<span class="hljs-string">&quot;&lt;/span&gt;&quot;</span>);<br><br>      <span class="hljs-comment">//æ„å»ºæœç´¢æ¡ä»¶</span><br>      <span class="hljs-type">SearchSourceBuilder</span> <span class="hljs-variable">searchSourceBuilder</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SearchSourceBuilder</span>()<br>              .query(QueryBuilders.multiMatchQuery(<span class="hljs-string">&quot;äº’è”ç½‘å¯’å†¬&quot;</span>, <span class="hljs-string">&quot;title&quot;</span>, <span class="hljs-string">&quot;content&quot;</span>))<br>              .sort(SortBuilders.fieldSort(<span class="hljs-string">&quot;type&quot;</span>).order(SortOrder.DESC))<br>              .sort(SortBuilders.fieldSort(<span class="hljs-string">&quot;score&quot;</span>).order(SortOrder.DESC))<br>              .sort(SortBuilders.fieldSort(<span class="hljs-string">&quot;createTime&quot;</span>).order(SortOrder.DESC))<br>              .from(<span class="hljs-number">0</span>)<span class="hljs-comment">// æŒ‡å®šä»å“ªæ¡å¼€å§‹æŸ¥è¯¢</span><br>              .size(<span class="hljs-number">10</span>)<span class="hljs-comment">// éœ€è¦æŸ¥å‡ºçš„æ€»è®°å½•æ¡æ•°</span><br>              .highlighter(highlightBuilder);<span class="hljs-comment">//é«˜äº®</span><br><br>      searchRequest.source(searchSourceBuilder);<br>      <span class="hljs-type">SearchResponse</span> <span class="hljs-variable">searchResponse</span> <span class="hljs-operator">=</span> restHighLevelClient.search(searchRequest, RequestOptions.DEFAULT);<br><br>      List&lt;DiscussPost&gt; list = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LinkedList</span>&lt;&gt;();<br>      <span class="hljs-keyword">for</span> (SearchHit hit : searchResponse.getHits().getHits()) &#123;<br>          <span class="hljs-type">DiscussPost</span> <span class="hljs-variable">discussPost</span> <span class="hljs-operator">=</span> JSONObject.parseObject(hit.getSourceAsString(), DiscussPost.class);<br><br>          <span class="hljs-comment">// å¤„ç†é«˜äº®æ˜¾ç¤ºçš„ç»“æœ</span><br>          <span class="hljs-type">HighlightField</span> <span class="hljs-variable">titleField</span> <span class="hljs-operator">=</span> hit.getHighlightFields().get(<span class="hljs-string">&quot;title&quot;</span>);<br>          <span class="hljs-keyword">if</span> (titleField != <span class="hljs-literal">null</span>) &#123;<br>              discussPost.setTitle(titleField.getFragments()[<span class="hljs-number">0</span>].toString());<br>          &#125;<br>          <span class="hljs-type">HighlightField</span> <span class="hljs-variable">contentField</span> <span class="hljs-operator">=</span> hit.getHighlightFields().get(<span class="hljs-string">&quot;content&quot;</span>);<br>          <span class="hljs-keyword">if</span> (contentField != <span class="hljs-literal">null</span>) &#123;<br>              discussPost.setContent(contentField.getFragments()[<span class="hljs-number">0</span>].toString());<br>          &#125;<br>          System.out.println(discussPost);<br>          list.add(discussPost);<br>      &#125;<br>  &#125;<br></code></pre></td></tr></table></figure><h2 id="4-ç”¨logstashå°†Elastic-Searchå’Œmysqlè¿æ¥èµ·æ¥"><a href="#4-ç”¨logstashå°†Elastic-Searchå’Œmysqlè¿æ¥èµ·æ¥" class="headerlink" title="4. ç”¨logstashå°†Elastic Searchå’Œmysqlè¿æ¥èµ·æ¥"></a>4. ç”¨logstashå°†Elastic Searchå’Œmysqlè¿æ¥èµ·æ¥</h2><h4 id="4-1-ä¸‹è½½é…ç½®"><a href="#4-1-ä¸‹è½½é…ç½®" class="headerlink" title="4.1 ä¸‹è½½é…ç½®"></a>4.1 ä¸‹è½½é…ç½®</h4><p>å½“æ‰€æœ‰é…ç½®å®Œæˆåï¼Œä»£ç ä¹Ÿå¯ä»¥æ­£å¸¸è¿è¡Œäº†ï¼Œæ¥å£å¯ä»¥æ­£å¸¸æµ‹è¯•äº†</p><p>ä½†æ˜¯å‘ç°è¿”å›çš„<strong>ä»€ä¹ˆéƒ½æ²¡æœ‰</strong>ï¼ŒåŸæ¥æ˜¯å¿˜è®°äº†ç»™esæœ¬èº«æ·»åŠ æ•°æ®äº†ï¼Œæ¯•ç«ŸESå’ŒMYSQLå¯æ²¡æœ‰è¿æ¥åˆ°ä¸€èµ·</p><p>é‚£ä¹ˆå¦‚ä½•å¾€Elastic Searchå½“ä¸­æ·»åŠ æ•°æ®å‘¢ï¼Ÿ</p><p>ä¸ºäº†æ–¹ä¾¿ï¼Œå¯ä»¥ä½¿ç”¨<strong>logstash</strong>ç›´æ¥å’Œæ•°æ®åº“å…³è”èµ·æ¥ï¼Œlogstashå¯ä»¥å¾ˆæ–¹ä¾¿çš„è·å–å„ä¸ªåœ°æ–¹çš„æ•°æ®æºï¼Œå¹¶ä¸”å¯¼å…¥åˆ°ESå½“ä¸­</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/v2-28dff31022dce1cda36f4983ed44cd12_r.jpg" alt="img"></p><p>ä¸‹è½½åœ°å€ï¼š</p><p><a href="https://www.elastic.co/cn/downloads/logstash">Download Logstash Free | Get Started Now | Elastic</a></p><p>ä¸‹è½½æ•™ç¨‹ï¼š</p><p><a href="https://blog.csdn.net/liyongbing1122/article/details/85096187">(152æ¡æ¶ˆæ¯) å®‰è£… ElasticSearch å¹¶è¿æ¥mysqlæ•°æ®åº“_elasticsearchæ€ä¹ˆå’Œæ•°æ®åº“å…³è”_liyongbing1122çš„åšå®¢-CSDNåšå®¢</a></p><p>æ³¨æ„æ•™ç¨‹é‡Œé¢è¿˜éœ€è¦ä¸‹è½½ä¸€ä¸ª<strong>mysqlçš„JDBCé©±åŠ¨</strong>,è‡ªå·±å»Oracleä¸‹è½½å°±å¥½äº†ï¼Œ</p><p>ä¸‹å¥½åç›´æ¥å°†jaråŒ…æ”¾å…¥<code>ä¸‹è½½logstashçš„è·¯å¾„\logstash-7.17.3\logstash-core\lib\jars</code></p><p>ï¼ˆä¸è¿‡ç½‘ä¸Šå¥½åƒè¯´ä¹Ÿä¸ä¸€å®šè¦æ”¾è¿™ä¸ªä½ç½®ï¼Œåæ­£æˆ‘æ˜¯æ”¾äº†ï¼‰</p><p>åœ¨logstashçš„binç›®å½•ä¸‹æ–°å»º<code>logstash-mysql.conf</code>é…ç½®æ–‡ä»¶ï¼Œæ„Ÿè§‰logstashæœ¬èº«å°±æ˜¯é¢å‘å„ç§æ•°æ®æºè¿›è¡Œé…ç½®çš„</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><code class="hljs conf">input &#123;<br>    stdin &#123;<br>    &#125;<br>    #å¦‚æœéœ€è¦åŒæ­¥å¤šä¸ªè¡¨ï¼Œé‚£ä¹ˆé‡å¤é…ç½®jdbc&#123;&#125;è¿™ä¸€éƒ¨åˆ†ï¼Œåªéœ€è¦ä¿®æ”¹è¡¨ç›¸å…³çš„éƒ¨åˆ†<br>    jdbc &#123;<br>      # æ•°æ®åº“  æ•°æ®åº“åç§°ä¸ºtestï¼Œè¡¨åä¸ºusers<br>      jdbc_connection_string =&gt; &quot;jdbc:mysql://localhost:3306/refrigerator&quot;<br>      # ç”¨æˆ·åå¯†ç <br>      jdbc_user =&gt; &quot;root&quot;<br>      jdbc_password =&gt; &quot;root&quot;<br>      # jaråŒ…çš„ä½ç½®ï¼ˆæŠŠjaråŒ…ç›´æ¥æ”¾åˆ°logstash-core/lib/jarsä¸‹ï¼‰<br>      jdbc_driver_library =&gt; &quot;D:\RookieCODE\Tools\LogStash\logstash-7.17.3\logstash-core\lib\jars\mysql-connector-j-8.0.33.jar&quot;<br>      # mysqlçš„Driver<br>      jdbc_driver_class =&gt; &quot;com.mysql.jdbc.Driver&quot;<br>      jdbc_paging_enabled =&gt; &quot;true&quot;<br>      jdbc_page_size =&gt; &quot;50000&quot;<br>      #statement_filepath =&gt; &quot;config-mysql/recipe.sql&quot;<br>      #è¿™é‡Œçš„sqlæ•ˆæœæ˜¯ï¼šå…¨é‡åŒæ­¥ã€å¢é‡æ›´æ–°usersè¡¨ã€‚ å¦‚æœéœ€è¦å…¨é‡åŒæ­¥ä»¥åŠæ›´æ–°usersè¡¨ï¼Œåˆ™select * from userså³å¯ã€‚<br>      statement =&gt; &quot;select * from recipe&quot;<br>      #å®šæ—¶å­—æ®µ å„å­—æ®µå«ä¹‰ï¼ˆç”±å·¦è‡³å³ï¼‰åˆ†ã€æ—¶ã€å¤©ã€æœˆã€å¹´ï¼Œå…¨éƒ¨ä¸º*é»˜è®¤å«ä¹‰ä¸ºæ¯åˆ†é’Ÿéƒ½æ›´æ–°(cronè¡¨è¾¾å¼)<br>      schedule =&gt; &quot;* * * * *&quot;<br>        record_last_run =&gt; true<br>        use_column_value =&gt; true<br>        tracking_column =&gt; &quot;LastUpdateDate&quot;<br>        tracking_column_type =&gt; &quot;timestamp&quot;<br>        clean_run =&gt; true<br>        lowercase_column_names =&gt; false<br>      #ç´¢å¼•çš„ç±»å‹<br>      type =&gt; &quot;_doc&quot;<br>    &#125;<br>&#125;<br> <br>filter &#123;<br>    json &#123;<br>        source =&gt; &quot;message&quot;<br>        remove_field =&gt; [&quot;message&quot;]<br>    &#125;<br>&#125;<br>output &#123;<br>    elasticsearch &#123;<br>        hosts =&gt; &quot;127.0.0.1:9200&quot;<br>        # indexå<br>index =&gt; &quot;recipe&quot;<br># éœ€è¦å…³è”çš„æ•°æ®åº“ä¸­è¦æœ‰ä¸€ä¸ªidå­—æ®µï¼ˆæœ€å¥½å°±æ˜¯è¡¨çš„ä¸»é”®ï¼‰ï¼Œå¯¹åº”ç´¢å¼•çš„idå·<br>        document_id =&gt; &quot;%&#123;id&#125;&quot;<br>    &#125;<br>    stdout &#123;<br>        codec =&gt; json_lines<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><h4 id="4-2-è¿è¡Œ"><a href="#4-2-è¿è¡Œ" class="headerlink" title="4.2 è¿è¡Œ"></a>4.2 è¿è¡Œ</h4><p>ä¸€å¼€å§‹ä»¥ä¸ºä¸€å®šè¦å…ˆç”¨è¿™æ¡æŒ‡ä»¤</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmd">./logstash -e &#x27;input &#123; stdin &#123; &#125; &#125; output &#123; stdout &#123;&#125; &#125;&#x27;<br></code></pre></td></tr></table></figure><p>ä½†æ˜¯è¿™æ¡ä¸€ç›´æ— æ³•è¿è¡Œ</p><p>æŠ¥é”™ç±»ä¼¼äº JAVA JDKçš„é—®é¢˜</p><p>ä¸€å¼€å§‹è¯´ä¸æ”¯æŒå½“å‰ç‰ˆæœ¬ï¼Œ8.0ä»¥å‰çš„å·²ç»å¼ƒç”¨ï¼Œç„¶åè¦9.0ä»¥ä¸Šçš„ç‰ˆæœ¬</p><p>ç„¶åç°åœ¨åˆè¯´</p><p>åˆ æ‰äº†1.8çš„Javaä¹‹åï¼Œå˜æˆå¦‚ä¸‹æŠ¥é”™</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmd"><span class="hljs-function">DEPRECATION: <span class="hljs-title">The</span> <span class="hljs-title">use</span> <span class="hljs-title">of</span> <span class="hljs-title">JAVA_HOME</span> <span class="hljs-title">is</span> <span class="hljs-title">now</span> <span class="hljs-title">deprecated</span> <span class="hljs-title">and</span> <span class="hljs-title">will</span> <span class="hljs-title">be</span> <span class="hljs-title">removed</span> <span class="hljs-title">starting</span> <span class="hljs-title">from</span> 8.0. </span><br></code></pre></td></tr></table></figure><p>æ¥ç€æˆ‘ä½¿ç”¨äº†logstashæ†ç»‘è‡ªå¸¦çš„jdkï¼Œç„¶åæ”¾åˆ°ç¯å¢ƒå˜é‡<code>LS_JAVA_HOME</code>è¿˜æ˜¯æŠ¥é”™ï¼Œ</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs cmd">Using LS_JAVA_HOME <span class="hljs-keyword">defined</span> java: D:\RookieCODE\Tools\LogStash\logstash-<span class="hljs-number">7</span>.<span class="hljs-number">17</span>.<span class="hljs-number">3</span>\jdk<br><span class="hljs-function">WARNING: <span class="hljs-title">Using</span> <span class="hljs-title">LS_JAVA_HOME</span> <span class="hljs-title">while</span> <span class="hljs-title">Logstash</span> <span class="hljs-title">distribution</span> <span class="hljs-title">comes</span> <span class="hljs-title">with</span> <span class="hljs-title">a</span> <span class="hljs-title">bundled</span> <span class="hljs-title">JDK</span>.</span><br><span class="hljs-function"><span class="hljs-title">OpenJDK</span> 64-<span class="hljs-title">Bit</span> <span class="hljs-title">Server</span> <span class="hljs-title">VM</span> <span class="hljs-title">warning</span>: <span class="hljs-title">Option</span> <span class="hljs-title">UseConcMarkSweepGC</span> <span class="hljs-title">was</span> <span class="hljs-title">deprecated</span> <span class="hljs-title">in</span> <span class="hljs-title">version</span> 9.0 <span class="hljs-title">and</span> <span class="hljs-title">will</span> <span class="hljs-title">likely</span> <span class="hljs-title">be</span> <span class="hljs-title">removed</span> <span class="hljs-title">in</span> <span class="hljs-title">a</span> <span class="hljs-title">future</span> <span class="hljs-title">release</span>.</span><br></code></pre></td></tr></table></figure><p>è¿™é‡Œé‚£ä¸å°±æ˜¯9.0ä¹Ÿè¦å¼ƒç”¨å—</p><p>ç„¶åå…¶å®æ¢äº†æ†ç»‘çš„jskä¹‹å</p><p>ç›´æ¥ç”¨<strong>æ•°æ®åº“é…ç½®çš„å‘½ä»¤</strong>å°±æˆåŠŸäº†</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmd">logstash -f logstash-mysql.conf<br></code></pre></td></tr></table></figure><p>ä¸è¿‡è®°å¾—è¦<strong>å…ˆå¯åŠ¨elasticsearch</strong>ï¼Œç„¶åå†ç”¨ä¸Šé¢çš„æŒ‡ä»¤ï¼Œå³å¯æ­£ç¡®å¯¼å…¥æ•°æ®</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230605020120282.png" alt="image-20230605020120282"></p><p>å¯¼å…¥æˆåŠŸçš„è¯ä¼šæœ‰æ•°æ®è®°å½•æ˜¾ç¤ºåœ¨æ§åˆ¶å°</p><p>å¦‚æœæ²¡æœ‰æ›´æ–°é‚£ä¹ˆé‡æ–°è¿è¡Œç¨‹åºä¹Ÿä¸ä¼šå¯¼å…¥ï¼ˆå³ä½¿ä½ ä¿®æ”¹äº†configæ–‡ä»¶ï¼‰</p><p>å¦‚æœæ¯æ¬¡æ›´æ–°äº†æ•°æ®åº“å°±é‡æ–°åœ¨logstashçš„binç›®å½•cmdä¸‹<strong>é‡æ–°è¿è¡Œ</strong>ä¸Šé¢çš„é‚£æ¡é…ç½®æŒ‡ä»¤å³å¯</p><h2 id="5-å®‰è£…-elastic-search-head"><a href="#5-å®‰è£…-elastic-search-head" class="headerlink" title="5. å®‰è£… elastic search head"></a>5. å®‰è£… elastic search head</h2><p>å‚è€ƒä»¥ä¸‹æ–‡ç« </p><p><a href="https://blog.csdn.net/wpc2018/article/details/121108389">(156æ¡æ¶ˆæ¯) ELasticSearchâ€”â€”headæ’ä»¶çš„å®‰è£…å’ŒåŸºæœ¬ä½¿ç”¨_elasticsearch-head_ä¸‡é‡Œé¡¾â€”ç¨‹çš„åšå®¢-CSDNåšå®¢</a></p><p>è®°å¾—è¦å»elastic searchçš„é…ç½®æ–‡ä»¶é‡Œé¢è®¾ç½®ä¸€ä¸‹è§£å†³<strong>è·¨åŸŸé—®é¢˜</strong></p><hr><h2 id="6-æ€»ç»“"><a href="#6-æ€»ç»“" class="headerlink" title="6.  æ€»ç»“"></a>6.  æ€»ç»“</h2><p>ç»è¿‡ä¸Šé¢çš„æ­¥éª¤å°±é…ç½®å®Œæˆäº†ï¼Œè¿è¡ŒæˆåŠŸåsprinbootçš„cmdå¦‚ä¸‹</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230605165557542.png" alt="image-20230605165557542"></p><p>ä½¿ç”¨apifoxè¿›è¡Œæµ‹è¯•</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230605165618265.png" alt="image-20230605165618265"></p><p>å…¶å®ä»é›¶å¼€å§‹çš„è¯è¦é…ç½®çš„ä¸œè¥¿è¿˜æ˜¯æŒºå¤šçš„ï¼Œä¹Ÿè¦æŸ¥æŒºå¤šæ–‡ç« ï¼Œä½†æ˜¯æ‰€å¹¸elasticsearchå’Œå®ƒçš„æ’ä»¶è¿˜æœ‰ç›¸å…³çš„å·¥å…·çš„ä¸‹è½½å’Œå®‰è£…å¹¶ä¸éº»çƒ¦ï¼ˆè§£å‹å³å¯ç”¨ï¼‰ï¼Œä½¿ç”¨èµ·æ¥éš¾åº¦è¿˜æ˜¯ä¸é«˜çš„ã€‚</p><p>å½“æ—¶æœäº†æŒºå¤šæ–‡ç« çš„èµ„æ–™çš„ï¼Œæƒ³ç€æŠŠä»–ä»¬æ•´åˆåˆ°ä¸€èµ·ï¼Œå¸Œæœ›èƒ½å¤Ÿå¸®åŠ©åˆ°éœ€è¦çš„å°ä¼™ä¼´ã€‚</p><blockquote><p>åˆ é™¤æ•´ä¸ªç´¢å¼•çš„ä»£ç ï¼ˆåœ¨git bashå½“ä¸­ï¼‰</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">curl  -XPOST -H <span class="hljs-string">&quot;Content-Type: application/json&quot;</span> http://localhost:9200/ä½ çš„index_name/_delete_by_query?pretty=<span class="hljs-literal">true</span> -d <span class="hljs-string">&#x27;&#123;&quot;query&quot;:&#123;&quot;match_all&quot;: &#123;&#125;&#125;&#125;&#x27;</span><br><br></code></pre></td></tr></table></figure><p>åœ¨XPOSTåé¢è¦åŠ ä¸ŠContent â€¦.å®šä¹‰postçš„ç±»å‹ï¼Œå¦åˆ™é»˜è®¤æ˜¯<code>www-form-data</code></p>]]></content>
    
    
    <categories>
      
      <category>æœ¬ç§‘</category>
      
      <category>å¤§ä¸‰ä¸‹</category>
      
      <category>è½¯å·¥å®è®­</category>
      
    </categories>
    
    
    <tags>
      
      <tag>åç«¯</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Android Studioå®ç°æ ¡å›­APPï¼ˆå®Œæ•´æ­¥éª¤ï¼‰</title>
    <link href="/2023/05/17/%E6%9C%AC%E7%A7%91/%E5%A4%A7%E4%B8%89%E4%B8%8B/%E7%A7%BB%E5%8A%A8%E4%BA%92%E8%81%94%E7%BD%91%E7%BC%96%E7%A8%8B/Android%20studio%E5%AE%9E%E7%8E%B0%E6%A0%A1%E5%9B%ADAPP/"/>
    <url>/2023/05/17/%E6%9C%AC%E7%A7%91/%E5%A4%A7%E4%B8%89%E4%B8%8B/%E7%A7%BB%E5%8A%A8%E4%BA%92%E8%81%94%E7%BD%91%E7%BC%96%E7%A8%8B/Android%20studio%E5%AE%9E%E7%8E%B0%E6%A0%A1%E5%9B%ADAPP/</url>
    
    <content type="html"><![CDATA[<h1 id="Android-studioå®ç°æ ¡å›­APPï¼ˆå®Œæ•´æ­¥éª¤ï¼‰"><a href="#Android-studioå®ç°æ ¡å›­APPï¼ˆå®Œæ•´æ­¥éª¤ï¼‰" class="headerlink" title="Android studioå®ç°æ ¡å›­APPï¼ˆå®Œæ•´æ­¥éª¤ï¼‰"></a>Android studioå®ç°æ ¡å›­APPï¼ˆå®Œæ•´æ­¥éª¤ï¼‰</h1><p>[TOC]</p><blockquote><p>å¼€å‘è¯­è¨€ï¼šJava</p><p>å¼€å‘å·¥å…·ï¼šAndroid Studio</p><p>ç”¨åˆ°çš„ä¸€äº›æ§ä»¶ï¼ŒåŠŸèƒ½ï¼š</p><p>Tablayoutï¼ŒViewPagerï¼ˆæ»‘åŠ¨åˆ‡æ¢èœå•åŠŸèƒ½ï¼‰ï¼ŒNavigationï¼ŒToolBar</p><p><strong>éœ€è¦çš„å¤–éƒ¨åŒ…</strong>ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//æ–°å¢çš„å››ä¸ªä¾èµ–ï¼Œç”¨äºTablayoutï¼Œviewpagerï¼ŒrecyclerViewå¸ƒå±€ï¼Œä»¥åŠæ•°æ®åº“litepal</span><br>   implementation <span class="hljs-string">&#x27;androidx.legacy:legacy-support-v4:1.0.0&#x27;</span><br>   implementation <span class="hljs-string">&#x27;com.google.android.material:material:1.5.0&#x27;</span><br>   implementation <span class="hljs-string">&#x27;androidx.recyclerview:recyclerview:1.2.1&#x27;</span><br>   implementation <span class="hljs-title function_">files</span><span class="hljs-params">(<span class="hljs-string">&#x27;libs\\litepal-2.0.0-src.jar&#x27;</span>)</span><br></code></pre></td></tr></table></figure><p>æ³¨æ„ï¼ï¼ï¼</p><ol><li><p>è¿™é‡Œå¯èƒ½æœ‰çš„äººç‰ˆæœ¬æ˜¯support-v4å¯¹åº”çš„åŒ…</p><p>æ·»åŠ äº†support-v4çš„åŒ…åå‘ç°build.gradleï¼ˆGradle Scriptsæ–‡ä»¶å¤¹ä¸‹ï¼‰æœ‰æŠ¥é”™ï¼Œ</p><p>æŠ¥é”™å†…å®¹ç±»ä¼¼<code>Version 28 (intended for Android Pie and below) is the last version of the legacy support library</code></p><p>è¿™æ˜¯å› ä¸ºå½“å‰çš„ASå·²ç»ä¸æ”¯æŒè¿™äº›æ—§çš„åŒ…ï¼Œå› æ­¤å¯ä»¥å°†support-v4è¿ç§»åˆ°AndroidXï¼Œå…·ä½“æ–¹æ³•å‚è€ƒä¸‹é¢çš„æ–‡ç« æˆ–è€…è‡ªè¡Œæœç´¢ï¼š</p><p><a href="https://blog.csdn.net/lfdfhl/article/details/105269551">(174æ¡æ¶ˆæ¯) Version 28 (intended for Android Pie and below) is the last version of the legacy support library_è°·å“¥çš„å°å¼Ÿçš„åšå®¢-CSDNåšå®¢</a></p></li><li><p>æœ€åä¸€ä¸ªlitepalçš„å¼•å…¥æ˜¯æœ¬åœ°ä¸‹è½½å¥½çš„ä¾èµ–</p><p>è¿™é‡Œå°è¯•è¿‡ç›´æ¥å¼•å…¥<code>implementation &#39;org.litepal.guolindev:core:3.2.0&#39;</code>æˆ–è€…æ˜¯<code>implementation &#39;org.litepal.android:core:3.2.0&#39;</code></p><p>ä½†æ˜¯å‘ç°åœ¨Javaï¼Œmanifestæ–‡ä»¶å½“ä¸­æ ¹æœ¬æ‰¾ä¸åˆ°å–è¿™ä¸ªåº“ç›¸å…³çš„å†…å®¹</p><p>äºæ˜¯å°±ç›´æ¥åˆ°githubä¸Šé¢ä¸‹è½½jaråŒ…å¹¶ä¸”å¯¼å…¥äº†</p><p>ç»™å‡ºä¸‹è½½åœ°å€</p><p><a href="https://github.com/guolindev/LitePal#latest-downloads/">https://github.com/guolindev/LitePal#latest-downloads/</a></p></li></ol></blockquote><h2 id="1-æ•ˆæœå±•ç¤º"><a href="#1-æ•ˆæœå±•ç¤º" class="headerlink" title="1. æ•ˆæœå±•ç¤º"></a>1. æ•ˆæœå±•ç¤º</h2><blockquote><p>å®ç°åŠŸèƒ½å¦‚ä¸‹ï¼š</p><ul><li>è‡ªé€‚åº”å¹³æ¿å’Œæ‰‹æœºçš„<strong>ç¢ç‰‡åŒ–</strong>å¸ƒå±€ï¼ˆFragmentï¼‰</li><li>ç”¨æˆ·ç™»å½•ï¼ˆæ•°æ®æŒä¹…åŒ–ï¼‰ï¼š<strong>æ•°æ®åº“æ–‡ä»¶å­˜å‚¨å’Œè¯»å–</strong>è´¦å·å¯†ç </li><li>å¼ºåˆ¶ç™»å‡ºï¼ˆå¹¿æ’­æœºåˆ¶ï¼‰</li><li>æç¤ºç½‘ç»œä¸­æ–­ï¼ˆå¹¿æ’­æœºåˆ¶ï¼‰</li><li>è®°ä½å¯†ç åŠŸèƒ½ï¼ˆæ•°æ®æŒä¹…åŒ–ï¼‰ï¼šä½¿ç”¨<strong>SharedPreference</strong></li><li>ç‚¹å‡»é¡µé¢æ‰“å¼€åµŒå…¥å¼Webå†…å®¹ï¼ˆä½¿ç”¨WebViewï¼‰ä»¥åŠè·³è½¬åˆ°<strong>æµè§ˆå™¨</strong></li><li>åŒé¡µæ¨¡å¼ä½¿ç”¨<strong>ä¾§è¾¹æ </strong>æ”¾ç½®ä¿¡æ¯æ¡ï¼ˆNavigationVIewï¼‰</li><li>å³ä¾§å•é¡µä½¿ç”¨Tabå®ç°åˆ‡æ¢</li><li>ä½¿ç”¨RecyclerViewå®ç°ç½‘æ ¼å¸ƒå±€ï¼ˆå³è¾¹ç¢ç‰‡ç½‘æ ¼èœå•ï¼‰</li><li>å·¦è¾¹ç¢ç‰‡çš„ç½‘æ ¼èœå•å¸ƒå±€GridLayout</li></ul></blockquote><ul><li><p>é¦–å…ˆä¸€æ‰“å¼€APPçš„é¡µé¢å°±æ˜¯ç™»å½•é¡µé¢ã€‚</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/%E8%81%94%E6%83%B3%E6%88%AA%E5%9B%BE_20230517232119(1).png" alt="è”æƒ³æˆªå›¾_20230517232119(1)"></p><p>å¯ä»¥é€‰ä¸­<strong>è®°ä½å¯†ç </strong>ï¼Œä¸‹æ¬¡å°±å¯ä»¥ä¸ç”¨è¾“å…¥äº†</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/%E8%81%94%E6%83%B3%E6%88%AA%E5%9B%BE_20230517233602(1).png" alt="è”æƒ³æˆªå›¾_20230517233602(1)"></p><p>å¹³æ¿æ¨¡å¼å¦‚å›¾æ‰€ç¤ºï¼Œè‡ªé€‚åº”åˆ°å±å¹•ä¸­é—´</p></li><li><p>ç™»å½•åè¿›å…¥åˆ°é¦–é¡µï¼Œè¿™é‡Œç»™å‡ºçš„å¹³æ¿å’Œæ‰‹æœºä¸¤ç§å¸ƒå±€ï¼Œç¨æœ‰ä¸åŒ</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/%E8%81%94%E6%83%B3%E6%88%AA%E5%9B%BE_20230517232617(1).png" alt="è”æƒ³æˆªå›¾_20230517232617(1)"></p><p>è¿™é‡Œæœ€ä¸Šé¢å¯¼èˆªæ å·¦è¾¹æ˜¯<strong>ä¸ªäººä¿¡æ¯çš„ä¾§è¾¹æ </strong>ï¼Œæœ€å³è¾¹çš„æŒ‰é’®æ˜¯<strong>é€€å‡ºç™»å½•</strong>çš„æŒ‰é’®ã€‚æ¥ç€æ˜¯<strong>ç½‘æ ¼èœå•</strong>ï¼Œå¯ä»¥ç‚¹å‡»è¿›å…¥ä¸åŒçš„é¡µé¢</p><p>æœ€ä¸‹é¢æ˜¯å¯ä»¥å·¦å³åˆ‡æ¢æˆ–è€…ä¸Šä¸‹æ»šåŠ¨çš„<strong>å­¦æ ¡æ–°é—»åˆ—è¡¨</strong></p><p>ç‚¹å‡»ç½‘æ ¼èœå•å³ä¸‹è§’çš„<code>æ›´å¤šæœåŠ¡</code>çš„æŒ‰é’®ï¼Œä¼šå±•ç¤ºæ›´å¤šçš„<strong>ç½‘æ ¼èœå•</strong>å†…å®¹</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/%E8%81%94%E6%83%B3%E6%88%AA%E5%9B%BE_20230517233152(1).png" alt="è”æƒ³æˆªå›¾_20230517233152(1)"></p><p>å¹³æ¿æ‰“å¼€çš„è¯é¡µé¢å¦‚ä¸‹ï¼š</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/%E8%81%94%E6%83%B3%E6%88%AA%E5%9B%BE_20230517233423(1).png" alt="è”æƒ³æˆªå›¾_20230517233423(1)"></p><p>çœ‹åˆ°è¿™é‡Œå·¦è¾¹å·²ç»æ²¡æœ‰äº†ç½‘æ ¼èœå•ï¼Œåªå‰©ä¸‹æ–°é—»åˆ—è¡¨çš„å†…å®¹</p><p>ç„¶åå³è¾¹åˆ—å‡ºäº†åˆšåˆšç»™å‡ºçš„æ›´å¤šæ–°é—»çš„èœå•ï¼Œè¿™é‡Œå®é™…ä¸Šå°±æ˜¯å°†<strong>ä¸¤ä¸ªç¢ç‰‡</strong>æ‹¼åœ¨äº†ä¸€èµ·</p></li><li><p>æ¥ç€æ‰“å¼€ä¾§è¾¹æ ï¼Œå±•ç¤ºäº†éƒ¨åˆ†ç”¨æˆ·ä¿¡æ¯ä»¥åŠä¸€äº›å¯¼èˆªæ å…¥å£</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/%E8%81%94%E6%83%B3%E6%88%AA%E5%9B%BE_20230517233637(1).png" alt="è”æƒ³æˆªå›¾_20230517233637(1)"></p><p>æ‰‹æœºçš„è¯ä¹Ÿæ˜¯ç±»ä¼¼çš„ï¼Œæœ€ä¸‹æ–¹ä¹Ÿæœ‰ä¸€ä¸ªç”¨äºç™»å‡ºçš„<strong>æ³¨é”€</strong>æŒ‰é’®</p><p>ç‚¹å‡»<strong>ç”¨æˆ·ä¿¡æ¯</strong>æˆ–è€…ç”¨æˆ·çš„<strong>å¤´åƒ</strong>å¯ä»¥è¿›å…¥ä¸ªäººä¿¡æ¯é¡µé¢</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/%E8%81%94%E6%83%B3%E6%88%AA%E5%9B%BE_20230518114857.png" alt="è”æƒ³æˆªå›¾_20230518114857"></p><p>åœ¨ç”¨æˆ·ä¿¡æ¯é¡µé¢å½“ä¸­ä¼šå±•ç¤ºæ›´å¤šçš„ä¸ªäººä¿¡æ¯</p></li><li><p>å°è¯•ç‚¹å‡»è¿›å…¥ä¸€ä¸ªèœå•çš„è¯¦æƒ…é¡µé¢æˆ–è€…é€šçŸ¥ï¼Œä¼šé€šè¿‡WebViewå°†é“¾æ¥å½“ä¸­çš„ç½‘å€å†…å®¹å±•ç°å‡ºæ¥</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/%E8%81%94%E6%83%B3%E6%88%AA%E5%9B%BE_20230517232807(1).png" alt="è”æƒ³æˆªå›¾_20230517232807(1)"></p><p>å¦‚å›¾ä¸ºæ‰‹æœºä¸‹æ‰“å¼€ã€Šè®¡è½¯ä¸»é¡µã€‹å†…å®¹ï¼Œç‚¹å‡»å³ä¸Šè§’å¯ä»¥é€‰æ‹©è·³è½¬åˆ°æµè§ˆå™¨æ‰“å¼€è¯¥é“¾æ¥</p></li><li><p>æœ€ååšäº†ä¸€ä¸ª<strong>ç½‘ç»œä¸­æ–­æ£€æµ‹</strong></p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/%E8%81%94%E6%83%B3%E6%88%AA%E5%9B%BE_20230518121747.png" alt="è”æƒ³æˆªå›¾_20230518121747"></p><p>ç½‘ç»œä¸­æ–­çš„æ—¶å€™ä¼šæœ‰å¼¹çª—å¼¹å‡ºï¼Œä½†ä¸ä¼šå¼ºåˆ¶ä¸‹çº¿ï¼Œä¸è¿‡åœ¨è¿›å…¥åˆ°æ¯ä¸€ä¸ªæ–°çš„é¡µé¢çš„æ—¶å€™ï¼Œè‹¥è¿˜æ˜¯ç½‘ç»œä¸­æ–­ï¼Œåˆ™ä¹Ÿä¼šå¼¹å‡ºè¯¥è­¦å‘Š</p></li></ul><hr><h2 id="2-å…·ä½“å®ç°"><a href="#2-å…·ä½“å®ç°" class="headerlink" title="2. å…·ä½“å®ç°"></a>2. å…·ä½“å®ç°</h2><blockquote><p>é¦–å…ˆçœ‹ä¸€ä¸‹Javaç±»çš„æ–‡ä»¶å¸ƒå±€</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/%E8%81%94%E6%83%B3%E6%88%AA%E5%9B%BE_20230518125521.png" alt="è”æƒ³æˆªå›¾_20230518125521"></p><p>ä¸»è¦åˆ†æˆä¸‰ä¸ªéƒ¨åˆ†</p><p>è¿™ä¸ªBaseActivityæ˜¯å…¶ä»–æ‰€æœ‰ç±»çš„åŸºç±»ï¼Œé€šè¿‡è¯¥ç±»å¯ä»¥å®ç°ä»»æ„ä¸€ä¸ªé¡µé¢å¼ºåˆ¶ä¸‹çº¿çš„åŠŸèƒ½</p><p>åŠŸèƒ½ç±»å¤§è‡´ä»‹ç»ä¸€ä¸‹ï¼š</p><ul><li>ActivityCollectorï¼šç”¨äºç®¡ç†å¢åŠ æˆ–å›æ”¶æ‰€æœ‰æ´»åŠ¨</li><li>DatabaseUtilï¼šå¯¹å­˜åœ¨assetsä¸­çš„.dbæ•°æ®åº“æ–‡ä»¶åšè¯»å–å­˜å‚¨å®ç°</li><li>ForceOffLineReceiverï¼šå®ç°å¼ºåˆ¶ä¸‹çº¿ä»¥åŠç½‘ç»œçŠ¶æ€ç›‘å¬</li><li>NavigationUtilï¼šå¯¹ä¾§æ»‘æ çš„æ§ä»¶ç»‘å®šæ•°æ®ï¼Œè§†å›¾ç­‰è¿›è¡ŒåŠ¨æ€è®¾ç½®</li><li>NewsFragmentPagerAdapterï¼šå¯¹viewPageræ˜¾ç¤ºé€šçŸ¥å†…å®¹è¿›è¡Œé€‚é…</li><li>RightGridMenuAdapterï¼šå¯¹å³ä¾§ç¢ç‰‡çš„RecyclerViewå†…å®¹è¿›è¡Œé€‚é…</li></ul></blockquote><h3 id="2-1-é¡¶éƒ¨æ ToolBarä»¥åŠä¾§æ»‘æ Navigation"><a href="#2-1-é¡¶éƒ¨æ ToolBarä»¥åŠä¾§æ»‘æ Navigation" class="headerlink" title="2.1 é¡¶éƒ¨æ ToolBarä»¥åŠä¾§æ»‘æ Navigation"></a>2.1 é¡¶éƒ¨æ ToolBarä»¥åŠä¾§æ»‘æ Navigation</h3><blockquote><p>é¡¶éƒ¨èœå•æ ï¼š</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230518130742345.png" alt="image-20230518130742345"></p><p>ä¾§æ»‘æ ï¼š</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/%E8%81%94%E6%83%B3%E6%88%AA%E5%9B%BE_20230518130831.png" alt="è”æƒ³æˆªå›¾_20230518130831"></p><p>xmlæ–‡ä»¶ï¼š</p><ul><li>activity_main.xml ï¼šä¸»æ´»åŠ¨é¡µé¢</li><li>toolbar_menuï¼šèœå•æ å›¾æ ‡ï¼ˆå³ä¾§çš„åˆ†äº«å’Œä¸ªäººé¡µé¢çš„logoï¼‰</li><li>nav_header,xml ï¼šä¾§æ»‘æ çš„å¤´éƒ¨ä¿¡æ¯ï¼ˆå¤´åƒï¼Œæ˜µç§°ï¼Œè”ç³»æ–¹å¼ï¼‰</li><li>left_drawer.xmlï¼šä¾§æ»‘æ çš„èœå•å†…å®¹</li></ul><p>Javaæ–‡ä»¶ï¼š</p><ul><li>MainActivity</li><li>NavigationUtil</li></ul></blockquote><h4 id="2-1-1-å¯¼å…¥å¯¼èˆªæ ä¾èµ–"><a href="#2-1-1-å¯¼å…¥å¯¼èˆªæ ä¾èµ–" class="headerlink" title="2.1.1 å¯¼å…¥å¯¼èˆªæ ä¾èµ–"></a>2.1.1 å¯¼å…¥å¯¼èˆªæ ä¾èµ–</h4><p>å¯¼å…¥â€NavigationViewâ€œçš„ä¾èµ–</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml">implementation &#x27;com.android.support:design:29.0.1&#x27;<br></code></pre></td></tr></table></figure><h4 id="2-1-2-é…ç½®toolbarèœå•æ å¸ƒå±€æ–‡ä»¶"><a href="#2-1-2-é…ç½®toolbarèœå•æ å¸ƒå±€æ–‡ä»¶" class="headerlink" title="2.1.2 é…ç½®toolbarèœå•æ å¸ƒå±€æ–‡ä»¶"></a>2.1.2 é…ç½®toolbarèœå•æ å¸ƒå±€æ–‡ä»¶</h4><p>å…³äºtoolbarçš„å„ç§è®¾ç½®ï¼Œå¯ä»¥å‚è€ƒä»¥ä¸‹æ–‡ç« </p><p><a href="https://blog.csdn.net/qq_42324086/article/details/117390236">(174æ¡æ¶ˆæ¯) Android Toolbarçš„ä½¿ç”¨è¯¦è§£_æš—æ‹èŠ±é¦™çš„åšå®¢-CSDNåšå®¢</a></p><p><strong>è®¾ç½®ä¸ºNoActionBar</strong>ï¼š</p><p>è¦ä½¿ç”¨toolbarï¼Œé¦–å…ˆè¦å»æ‰ç³»ç»Ÿé»˜è®¤è®¾ç½®çš„ActionBar</p><p>åœ¨AndroidManifest.xmlæ–‡ä»¶å½“ä¸­å¯ä»¥è®¾ç½®æ´»åŠ¨çš„ä¸»é¢˜ï¼Œæˆ‘ä»¬æ–°å»ºä¸€ä¸ªNoActionBarçš„ä¸»é¢˜ï¼Œå¹¶ä¸”ç»™æˆ‘ä»¬éœ€è¦é…ç½®toolBarçš„é¡µé¢èµ‹äºˆè¿™ä¸ªä¸»é¢˜å³å¯</p><p><strong>AndroidMenifest.xml</strong></p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/%E8%81%94%E6%83%B3%E6%88%AA%E5%9B%BE_20230518131127.png" alt="è”æƒ³æˆªå›¾_20230518131127"></p><p><strong>themes.xml</strong></p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230422164201720.png" alt="image-20230422164201720"></p><p>çœ‹åˆ°æœ€å³è¾¹è®¾ç½®äº†noActionBarï¼Œè¿™æ ·æ‰å¯ä»¥è®©toolbaræ­£å¸¸æ˜¾ç¤º</p><p><strong>é…ç½®toolBar</strong></p><p>éœ€è¦åœ¨<code>activity_main.xml</code>æ–‡ä»¶å½“ä¸­æ”¾å…¥toolBarï¼Œå› ä¸ºæ˜¯åœ¨é¦–é¡µä¸»æ´»åŠ¨æ”¾ç½®toolBar</p><p><strong>activity_main.xmléƒ¨åˆ†ä»£ç </strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--    é¡¶éƒ¨èœå•æ toolBar--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">androidx.appcompat.widget.Toolbar</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:id</span>=<span class="hljs-string">&quot;@+id/my_toolbar&quot;</span>                                          <span class="hljs-attr">android:theme</span>=<span class="hljs-string">&quot;@style/ThemeOverlay.AppCompat.ActionBar&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">app:popupTheme</span>=<span class="hljs-string">&quot;@style/ThemeOverlay.AppCompat.Light&quot;</span></span><br><span class="hljs-tag">       <span class="hljs-attr">......</span></span><br><span class="hljs-tag">/&gt;</span><br></code></pre></td></tr></table></figure><p>é™¤äº†åœ¨æ´»åŠ¨å¸ƒå±€æ–‡ä»¶ä¸­æ”¾ç½®toolbarï¼Œè¿˜éœ€è¦ä¸€ä¸ªèœå•å›¾æ ‡æ–‡ä»¶</p><p><strong>toolbar_menu.xml</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">menu</span> <span class="hljs-attr">xmlns:android</span>=<span class="hljs-string">&quot;http://schemas.android.com/apk/res/android&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">xmlns:app</span>=<span class="hljs-string">&quot;http://schemas.android.com/apk/res-auto&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">item</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:id</span>=<span class="hljs-string">&quot;@+id/tool_msg&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:icon</span>=<span class="hljs-string">&quot;@drawable/share&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:orderInCategory</span>=<span class="hljs-string">&quot;80&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:title</span>=<span class="hljs-string">&quot;edit&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">app:showAsAction</span>=<span class="hljs-string">&quot;ifRoom|withText&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">item</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:id</span>=<span class="hljs-string">&quot;@+id/tool_user&quot;</span></span><br><span class="hljs-tag"><span class="hljs-attr">..........</span> /&gt;</span><br><span class="hljs-comment">&lt;!--    åé¢æœ‰æ›´å¤šçš„itemå¦‚æœæ”¾ä¸ä¸‹å°±ä¼šè¿›å…¥èœå•æ --&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">menu</span>&gt;</span><br></code></pre></td></tr></table></figure><p>è¿™é‡Œçš„é…ç½®å’ŒactionBarçš„menuç»˜åˆ¶æ–¹æ³•ç±»ä¼¼ï¼Œå”¯ä¸€åŒºåˆ«å°±æ˜¯<code>app:showAsAction</code>ä¸åŒï¼Œè¯¥å±æ€§æ˜¯Toolbarå½“ä¸­å¾ˆå…³é”®çš„å±æ€§</p><p>å…¶ä¸­å››ä¸ªä¸åŒçš„å€¼çš„ä½œç”¨åˆ†åˆ«å¦‚ä¸‹ï¼š</p><p>1ï¼‰alwaysï¼šè¿™ä¸ªå€¼ä¼šä½¿èœå•é¡¹ä¸€ç›´æ˜¾ç¤ºåœ¨ ToolBarä¸Šã€‚<br>2ï¼‰ifRoomï¼šå¦‚æœæœ‰è¶³å¤Ÿçš„ç©ºé—´ï¼Œè¿™ä¸ªå€¼ä¼šä½¿èœå•é¡¹æ˜¾ç¤ºåœ¨ Tool Barä¸Šã€‚<br>3ï¼‰neverï¼šè¿™ä¸ªå€¼ä¼šä½¿èœå•é¡¹æ°¸è¿œéƒ½ä¸å‡ºç°åœ¨ ToolBarä¸Šã€‚<br>4ï¼‰withTextï¼šè¿™ä¸ªå€¼ä¼šä½¿èœå•é¡¹å’Œå®ƒçš„å›¾æ ‡ã€èœå•æ–‡æœ¬ä¸€èµ·æ˜¾ç¤ºã€‚ä¸€èˆ¬å’ŒifRoomä¸€èµ·é€šè¿‡â€œ|â€ä½¿ç”¨<br>app:showAsAction å±æ€§å€¼ä¸º ifRoom|withTextï¼Œè¡¨ç¤ºå¦‚æœæœ‰ç©ºé—´ï¼Œé‚£ä¹ˆå°±è¿åŒæ–‡å­—ä¸€èµ·æ˜¾ç¤ºåœ¨æ ‡é¢˜æ ä¸­ï¼Œå¦åˆ™å°±æ˜¾ç¤ºåœ¨èœå•æ ä¸­ã€‚<br>è€Œå½“app:showAsAction å±æ€§å€¼ä¸º neveræ—¶ï¼Œè¯¥é¡¹ä½œç”¨ä¸ºMenuä¸æ˜¾ç¤ºåœ¨èœå•ç»„ä»¶ä¸­ã€‚</p><p>è¿™ä¸ªæ–‡ä»¶åé¢æˆ‘ä»¬ä¼šåœ¨<strong>activityçš„Javaä»£ç </strong>å½“ä¸­å†™å…¥å¹¶ä¸”è¿æ¥ä¸Š</p><p><strong>MainActivity.java</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java">myToolbar.inflateMenu(R.menu.toolbar_menu);<br></code></pre></td></tr></table></figure><h4 id="2-1-3-é…ç½®ä¾§æ»‘æ xmlæ–‡ä»¶"><a href="#2-1-3-é…ç½®ä¾§æ»‘æ xmlæ–‡ä»¶" class="headerlink" title="2.1.3 é…ç½®ä¾§æ»‘æ xmlæ–‡ä»¶"></a>2.1.3 é…ç½®ä¾§æ»‘æ xmlæ–‡ä»¶</h4><p>æ·»åŠ NavigationViewç»„ä»¶</p><p>ï¼ˆè¦ä½¿ç”¨è¯¥ç»„ä»¶éœ€è¦ä»å¤–éƒ¨å¯¼å…¥designåŒ…ï¼Œåœ¨å‰é¢æœ‰æåˆ°å¯¼å…¥çš„å…·ä½“çš„åŒ…ï¼‰</p><p>å°†è¯¥ç»„ä»¶æ·»åŠ åˆ°toolbaræ‰€åœ¨çš„æ´»åŠ¨çš„é¡µé¢å½“ä¸­ï¼Œè¿™é‡Œå°±æ˜¯activity_main.xml</p><p><strong>activity_main.xmléƒ¨åˆ†ä»£ç </strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;utf-8&quot;</span>?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">androidx.drawerlayout.widget.DrawerLayout</span></span><br><span class="hljs-tag">    <span class="hljs-attr">...............</span>&gt;</span><br><br>    --------<br>    è¿™é‡Œæ˜¯è¯¥é¡µé¢çš„å…¶ä»–å¸ƒå±€æ–‡ä»¶ï¼Œå¯ä»¥å°†æ•´ä¸ªå¸ƒå±€æ–‡ä»¶ä»£ç æ”¾è¿›å»ä¹Ÿæ˜¯å¯ä»¥çš„<br>    <br>    --------<br>    <br><span class="hljs-comment">&lt;!--å·¦ä¾§å¯¼èˆªèœå•--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">com.google.android.material.navigation.NavigationView</span></span><br><span class="hljs-tag"><span class="hljs-attr">..............</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:layout_gravity</span>=<span class="hljs-string">&quot;start&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:background</span>=<span class="hljs-string">&quot;@color/colorPrimary&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">app:headerLayout</span>=<span class="hljs-string">&quot;@layout/nav_header&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">app:menu</span>=<span class="hljs-string">&quot;@menu/left_drawer&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">androidx.drawerlayout.widget.DrawerLayout</span>&gt;</span><br></code></pre></td></tr></table></figure><p>è¿™ä¸ªèœå•æ ç”±äºæ˜¯ä¾§æ»‘å‡ºç°çš„ï¼Œæ‰€ä»¥æ”¾åœ¨æ•´ä¸ªå¸ƒå±€çš„æœ€å¤–é¢ï¼Œå¹¶ä¸”éœ€è¦ç”¨<code>DrawerLayout</code>åŒ…è£¹</p><p>æ³¨æ„çœ‹ä¸‹é¢ä¸¤ä¸ªappçš„å±æ€§<code>app:headerLayout</code>å’Œ<code>app:menu</code></p><p>å› æ­¤è¿™é‡Œéœ€è¦æ–°å»ºä¸¤ä¸ªæ–‡ä»¶ï¼Œä¸€ä¸ªæ˜¯å¤´éƒ¨çš„ä»£ç ï¼Œä¸€ä¸ªæ˜¯ä¸‹é¢çš„èœå•çš„éƒ¨åˆ†</p><p><strong>nav_header.xml</strong></p><p>ä»£ç ä»¥åŠé¢„è§ˆå¦‚å›¾</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/%E8%81%94%E6%83%B3%E6%88%AA%E5%9B%BE_20230518132647.png" alt="è”æƒ³æˆªå›¾_20230518132647"></p><p>çœ‹ä¸‹å·¦è¾¹ï¼Œè¿™é‡Œç”¨äº†å¸§å¸ƒå±€çš„æ–¹æ³•åµŒå¥—ä¸€ä¸ª<code>ImageView</code>å’Œ<code>RelativeLayout</code>ï¼ŒImageViewè¿™æ ·å°±å¯ä»¥ä½œä¸ºèƒŒæ™¯å›¾ç‰‡ï¼Œä½¿å¾—å¯¼èˆªæ å¤´éƒ¨æ›´åŠ ç¾è§‚</p><p><strong>left_drawer.xml</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;utf-8&quot;</span>?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">menu</span> </span><br><span class="hljs-tag">     <span class="hljs-attr">xmlns:app</span>=<span class="hljs-string">&quot;.......&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">item</span></span><br><span class="hljs-tag">            <span class="hljs-attr">android:id</span>=<span class="hljs-string">&quot;@+id/navigation_item_user&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">item</span></span><br><span class="hljs-tag">            <span class="hljs-attr">android:id</span>=<span class="hljs-string">&quot;@+id/navigation_item_setting&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">item</span></span><br><span class="hljs-tag">            <span class="hljs-attr">android:id</span>=<span class="hljs-string">&quot;@+id/navigation_item_about&quot;</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">item</span></span><br><span class="hljs-tag">            <span class="hljs-attr">android:id</span>=<span class="hljs-string">&quot;@+id/navigation_item_logout&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">menu</span>&gt;</span><br></code></pre></td></tr></table></figure><p>è¿™ä¸ªæ˜¯èœå•æ çš„é¡µé¢ï¼Œé¢„è§ˆçš„æ•ˆæœå’Œæœ€ç»ˆå®ç°çš„æ•ˆæœæ˜¯<strong>æœ‰å·®å¼‚çš„</strong>ï¼Œä¸éœ€è¦ä»¥é¢„è§ˆçš„é‚£ä¸ªæ•ˆæœä¸ºå‡†ã€‚</p><p>å°†nav_headerå’Œleft_drawerç»“åˆä¹‹åï¼Œæ•ˆæœå›¾ç‰‡åœ¨ä¸Šé¢æœ‰æ˜¾ç¤ºã€‚</p><h4 id="2-1-4-Javaé€»è¾‘ä»£ç å®ç°"><a href="#2-1-4-Javaé€»è¾‘ä»£ç å®ç°" class="headerlink" title="2.1.4 Javaé€»è¾‘ä»£ç å®ç°"></a>2.1.4 Javaé€»è¾‘ä»£ç å®ç°</h4><p>ToolBarçš„åˆå§‹åŒ–ä»£ç éƒ½åœ¨<strong>MainActivity</strong>å½“ä¸­ã€‚</p><p>ä¾§æ»‘æ çš„ä»£ç ä¸ºäº†å‡å°‘MainActivityçš„å†—ä½™ï¼Œå°†å…¶å•ç‹¬åˆ†ç¦»å‡ºäº†ä¸€ä¸ªåŠŸèƒ½ç±»NavigationUtil</p><p>ç¨‹åºå…¥å£åœ¨onCreateå½“ä¸­å®ç°</p><p><strong>MainActivity</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Override</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onCreate</span><span class="hljs-params">(Bundle savedInstanceState)</span> &#123;<br>    <span class="hljs-built_in">super</span>.onCreate(savedInstanceState);<br>    setContentView(R.layout.activity_main);<br>    <span class="hljs-comment">//è®¾ç½®é¡¶éƒ¨èœå•æ çš„æŒ‰é’®ï¼Œç›‘å¬äº‹ä»¶ç­‰</span><br>    initToolBarView();<br>    <span class="hljs-type">NavigationUtil</span> <span class="hljs-variable">navigationUtil</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">NavigationUtil</span>(<span class="hljs-built_in">this</span>,myToolbar,drawerLayout);<br>    navigationUtil.initMainNavigation();<br>&#125;<br></code></pre></td></tr></table></figure><p>å…ˆè°ƒç”¨<code>initToolBarViewï¼ˆï¼‰</code>è¿›è¡Œåˆå§‹åŒ–</p><p>æ¥ç€newä¸€ä¸ªæ–°çš„Utilç±»ï¼Œå¹¶ä¸”å°†éœ€è¦ç”¨åˆ°çš„æ§ä»¶ä¼ å‚è¿›å»ï¼Œè°ƒç”¨<code>initMainNavigationï¼ˆï¼‰</code></p><p>è¿™é‡Œç¨å¾®è¯´ä¸€ä¸‹NavigationViewçš„è®¾ç½®çš„æ—¶å€™ä¸€äº›æ³¨æ„äº‹é¡¹</p><ul><li><p>nav_headeræ— æ³•ç›´æ¥è¢«<code>activity.findViewById()</code>æ‰¾åˆ°</p><p>ç”±äºè¯¥æ§ä»¶ä¸æ˜¯åœ¨<strong>activity_main.xml</strong>å½“ä¸­ï¼Œåªæ˜¯è¢«å¼•ç”¨äº†</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/%E8%81%94%E6%83%B3%E6%88%AA%E5%9B%BE_20230518134252.png" alt="è”æƒ³æˆªå›¾_20230518134252"></p><p>æ‰€ä»¥æ— æ³•ç›´æ¥æ‰¾åˆ°ï¼Œå› æ­¤è¦ç”¨å¦‚ä¸‹ä»£ç è·å¾—</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java">        <br><span class="hljs-type">NavigationView</span> <span class="hljs-variable">mNavigationView</span> <span class="hljs-operator">=</span> activity.findViewById(R.id.nav_view);<br><span class="hljs-type">View</span> <span class="hljs-variable">headerView</span> <span class="hljs-operator">=</span> mNavigationView.getHeaderView(<span class="hljs-number">0</span>);<br></code></pre></td></tr></table></figure><p>ä¹Ÿå°±æ˜¯å…ˆè·å¾—NavigationViewï¼Œå†è·å–å®ƒå½“ä¸­çš„<strong>headerVIew</strong></p></li><li><p>ç”¨æˆ·çš„ä¿¡æ¯å±•ç°æ˜¯åŠ¨æ€çš„ï¼Œè¿™é‡Œçš„æ•°æ®æ˜¯å­˜å‚¨åœ¨<strong>æ•°æ®åº“</strong>å½“ä¸­çš„</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java">nickName.setText(LoginActivity.userInfo.getNickname());<br>grade.setText(LoginActivity.userInfo.getGrade());<br>major.setText(LoginActivity.userInfo.getMajor());<br></code></pre></td></tr></table></figure><p>å¦‚ä¸Šï¼Œä¿¡æ¯éƒ½å­˜å‚¨åœ¨æ¥è‡ªç™»å½•æ´»åŠ¨å½“ä¸­çš„é™æ€æˆå‘˜å˜é‡userInfoï¼Œåé¢ä¼šæœ‰ä»‹ç»ç™»å½•çš„å®ç°</p><p>ä¸åŒçš„ç”¨æˆ·ç™»å½•ï¼Œæ˜¾ç¤ºçš„ä¿¡æ¯æ˜¯ä¸ä¸€æ ·çš„</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/%E8%81%94%E6%83%B3%E6%88%AA%E5%9B%BE_20230518150801.png" alt="è”æƒ³æˆªå›¾_20230518150801"></p></li></ul><h4 id="2-1-5-ä¸ªäººä¿¡æ¯é¡µé¢"><a href="#2-1-5-ä¸ªäººä¿¡æ¯é¡µé¢" class="headerlink" title="2.1 5 ä¸ªäººä¿¡æ¯é¡µé¢"></a>2.1 5 ä¸ªäººä¿¡æ¯é¡µé¢</h4><p>æœ€åè¿™é‡Œç®€å•åœ°ä»‹ç»ä¸€ä¸‹ä¸ªäººé¡µé¢çš„ä¿¡æ¯ã€‚</p><p>å¯ä»¥ç‚¹å‡»ä¾§æ»‘æ çš„å¤´åƒæˆ–è€…ã€Šç”¨æˆ·ä¿¡æ¯ã€‹éƒ½å¯ä»¥è·³è½¬åˆ°è¯¥é¡µé¢ã€‚</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/%E8%81%94%E6%83%B3%E6%88%AA%E5%9B%BE_20230518114857(1).png" alt="è”æƒ³æˆªå›¾_20230518114857(1)"></p><p>è¿™é‡Œæ”¾å‡ºçš„æ˜¯å¹³æ¿çš„ç•Œé¢ï¼Œå’Œæ‰‹æœºæ˜¯å®Œå…¨ä¸€æ ·çš„ï¼Œ</p><p>åªæ˜¯å¹³æ¿ä¼šæ‹‰ä¼¸ï¼Œä½†æ˜¯ä¿¡æ¯å†…å®¹éƒ½æ˜¯å·¦å³æ”¾ç½®ï¼Œæ‰€ä»¥ä¸ä¼šæœ‰åŒºåˆ«</p><hr><h3 id="2-2å¹³æ¿æ‰‹æœºé€‚é…ï¼ˆFragmentï¼‰"><a href="#2-2å¹³æ¿æ‰‹æœºé€‚é…ï¼ˆFragmentï¼‰" class="headerlink" title="2. 2å¹³æ¿æ‰‹æœºé€‚é…ï¼ˆFragmentï¼‰"></a>2. 2å¹³æ¿æ‰‹æœºé€‚é…ï¼ˆFragmentï¼‰</h3><p>ä¸ºäº†å®ç°æ‰‹æœºçš„å¹³æ¿çš„é€‚é…ï¼Œå°±éœ€è¦ç”¨åˆ°ä¸€ä¸ªéå¸¸å¼ºå¤§çš„åŠŸèƒ½Fragmentäº†ï¼Œå®ƒè¢«ç§°ä¸ºå®‰å“çš„ç¬¬äº”å¤§ç»„ä»¶ï¼Œ</p><p>å¯ä»¥å®ç°ç±»ä¼¼äºActivityçš„æ•ˆæœï¼ŒåŒæ—¶æœ‰å…·æœ‰æä¸ºçµæ´»çš„ç‰¹æ€§</p><p>çœ‹ä¸€ä¸‹<strong>activity_main</strong>æ–‡ä»¶</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230518153955863.png" alt="image-20230518153955863"></p><p>é¦–å…ˆè¿™é‡Œæœ‰ä¸¤ä¸ªæ–‡ä»¶ï¼Œå¸¦æœ‰(sw600dp)çš„æ˜¯å­˜æ”¾åœ¨<strong>layout-sw600dp</strong>çš„æ–‡ä»¶å¤¹å½“ä¸­</p><p>è¿™æ ·å½“å±å¹•æ¯”è¾ƒå¤§çš„æ—¶å€™ï¼Œå°±ä¼šè‡ªåŠ¨åŠ è½½ï¼ˆsw600dpï¼‰çš„activity_mainæ–‡ä»¶äº†</p><p>activity_main (sw600dp)</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;utf-8&quot;</span>?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">androidx.drawerlayout.widget.DrawerLayout</span></span><br><span class="hljs-tag">    <span class="hljs-attr">xmlns:android</span>=<span class="hljs-string">&quot;http://schemas.android.com/apk/res/android&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">.........</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">LinearLayout</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">&quot;match_parent&quot;</span> <span class="hljs-attr">.......</span>&gt;</span><br>        <span class="hljs-comment">&lt;!--é¡¶éƒ¨å·¥å…·æ --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">androidx.appcompat.widget.Toolbar</span>   <span class="hljs-attr">.......</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">ImageView</span> <span class="hljs-attr">............</span>/&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">LinearLayout.........</span>&gt;</span><br>            <span class="hljs-comment">&lt;!--å·¦è¾¹ç¢ç‰‡--&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">fragment</span></span><br><span class="hljs-tag">                <span class="hljs-attr">android:id</span>=<span class="hljs-string">&quot;@+id/main_left_fragment&quot;</span></span><br><span class="hljs-tag">                <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;com.example.myschool.fragment.MainLeftFragment&quot;</span></span><br><span class="hljs-tag">                <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">&quot;match_parent&quot;</span></span><br><span class="hljs-tag">                <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">&quot;match_parent&quot;</span></span><br><span class="hljs-tag">                <span class="hljs-attr">android:layout_weight</span>=<span class="hljs-string">&quot;3&quot;</span></span><br><span class="hljs-tag">                <span class="hljs-attr">tools:layout</span>=<span class="hljs-string">&quot;@layout/fragment_main_left&quot;</span></span><br><span class="hljs-tag">                <span class="hljs-attr">tools:ignore</span>=<span class="hljs-string">&quot;MissingConstraints&quot;</span> /&gt;</span><br>            <span class="hljs-comment">&lt;!--å³è¾¹ç¢ç‰‡--&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">fragment</span></span><br><span class="hljs-tag">                <span class="hljs-attr">android:id</span>=<span class="hljs-string">&quot;@+id/right_frag&quot;</span></span><br><span class="hljs-tag">                <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;com.example.myschool.fragment.MainRightFragment&quot;</span></span><br><span class="hljs-tag">                <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">&quot;match_parent&quot;</span></span><br><span class="hljs-tag">                <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">&quot;match_parent&quot;</span></span><br><span class="hljs-tag">                <span class="hljs-attr">android:layout_gravity</span>=<span class="hljs-string">&quot;center&quot;</span></span><br><span class="hljs-tag">                <span class="hljs-attr">android:layout_weight</span>=<span class="hljs-string">&quot;2&quot;</span></span><br><span class="hljs-tag">                <span class="hljs-attr">tools:layout</span>=<span class="hljs-string">&quot;@layout/fragment_main_right&quot;</span></span><br><span class="hljs-tag">                <span class="hljs-attr">tools:ignore</span>=<span class="hljs-string">&quot;MissingConstraints&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">LinearLayout</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">LinearLayout</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--å·¦ä¾§å¯¼èˆªèœå•--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">com.google.android.material.navigation.NavigationView</span></span><br><span class="hljs-tag">        <span class="hljs-attr">......</span> /&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">androidx.drawerlayout.widget.DrawerLayout</span>&gt;</span><br></code></pre></td></tr></table></figure><p>è¿™é‡Œçœç•¥äº†å…¶ä»–çš„å†…å®¹ï¼Œç€é‡äºçœ‹ä¸¤ä¸ªfragmentï¼Œè¿™é‡Œçš„<strong>layout_weight</strong>çš„å¤§å°ä¸åŒï¼Œè¯´æ˜å®ƒä»¬å æ®çš„å¸ƒå±€ä½ç½®ä¹Ÿä¸åŒã€‚</p><p>è€Œåœ¨é€‚é…æ‰‹æœºçš„activity_mainå½“ä¸­ï¼Œå°±ä¸éœ€è¦åé¢çš„é‚£ä¸ªfragmentçš„ç¢ç‰‡ã€‚</p><h3 id="2-3-å·¦ä¾§ç¢ç‰‡-ï¼ˆMainLeftFragmentï¼‰"><a href="#2-3-å·¦ä¾§ç¢ç‰‡-ï¼ˆMainLeftFragmentï¼‰" class="headerlink" title="2.3 å·¦ä¾§ç¢ç‰‡ ï¼ˆMainLeftFragmentï¼‰"></a>2.3 å·¦ä¾§ç¢ç‰‡ ï¼ˆMainLeftFragmentï¼‰</h3><p>å¯¹æ§ä»¶çš„åˆå§‹åŒ–ä»£ç éƒ½æ”¾åœ¨è¯¥Fragmentç±»çš„<code>onCreateViewï¼ˆï¼‰</code>å½“ä¸­</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Override</span><br><span class="hljs-keyword">public</span> View <span class="hljs-title function_">onCreateView</span><span class="hljs-params">(LayoutInflater inflater, ViewGroup container,</span><br><span class="hljs-params">                         Bundle savedInstanceState)</span> &#123;<br>    <span class="hljs-comment">//è·å–ç¢ç‰‡è§†å›¾</span><br>    view = inflater.inflate(R.layout.fragment_main_left, container, <span class="hljs-literal">false</span>);<br>    <span class="hljs-comment">//è®¾ç½®é¦–é¡µå·¥å…·æ å†…å®¹ä»¥åŠæ ·å¼</span><br>    <span class="hljs-comment">//åˆå§‹åŒ–ä¸Šæ–¹çš„ç½‘æ ¼èœå•</span><br>    initGridMenu();<br>    <span class="hljs-comment">//å°†é¡µé¢ç»‘å®šviewPagerï¼Œè¿›è¡Œè®¾ç½®</span><br>    initViewPager();<br>    <span class="hljs-comment">//åˆå§‹åŒ–layoutçš„è®¾ç½®ï¼Œä¾‹å¦‚å›¾æ ‡ï¼Œå®šä½</span><br>    initTabLayoutView();<br>    <span class="hljs-keyword">return</span> view;<br></code></pre></td></tr></table></figure><h4 id="2-3-1-ç½‘æ ¼èœå•ï¼ˆGridLayoutï¼‰"><a href="#2-3-1-ç½‘æ ¼èœå•ï¼ˆGridLayoutï¼‰" class="headerlink" title="2.3.1 ç½‘æ ¼èœå•ï¼ˆGridLayoutï¼‰"></a>2.3.1 ç½‘æ ¼èœå•ï¼ˆGridLayoutï¼‰</h4><p>ç½‘æ ¼èœå•ä½¿ç”¨äº†gridLayoutï¼Œå¹¶ä¸”åœ¨é‡Œé¢ æ”¾ç½®äº†å¤šä¸ªå›¾ç‰‡çš„å†…å®¹</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">GridLayout</span> <span class="hljs-attr">xmlns:android</span>=<span class="hljs-string">&quot;http://schemas.android.com/apk/res/android&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:columnCount</span>=<span class="hljs-string">&quot;4&quot;</span>   <span class="hljs-attr">è®¾ç½®å®ƒçš„æœ€å¤§åˆ—</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:rowCount</span>=<span class="hljs-string">&quot;2&quot;</span>    <span class="hljs-attr">è®¾ç½®æœ€å¤§è¡Œ</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:layout_gravity</span>=<span class="hljs-string">&quot;center&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:orientation</span>=<span class="hljs-string">&quot;horizontal&quot;</span></span><br><span class="hljs-tag">    &gt;</span><br></code></pre></td></tr></table></figure><p>å®ç°æ•ˆæœå¦‚å›¾</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/%E8%81%94%E6%83%B3%E6%88%AA%E5%9B%BE_20230518155931.png" alt="è”æƒ³æˆªå›¾_20230518155931"></p><h4 id="2-3-2-é€šçŸ¥åˆ—è¡¨ï¼ˆTabLayout-ViewPager-Fragmentï¼‰"><a href="#2-3-2-é€šçŸ¥åˆ—è¡¨ï¼ˆTabLayout-ViewPager-Fragmentï¼‰" class="headerlink" title="2.3.2 é€šçŸ¥åˆ—è¡¨ï¼ˆTabLayout + ViewPager + Fragmentï¼‰"></a>2.3.2 é€šçŸ¥åˆ—è¡¨ï¼ˆTabLayout + ViewPager + Fragmentï¼‰</h4><blockquote><p>é€šçŸ¥åˆ—è¡¨ä½¿ç”¨äº†ä¸Šè¿°ä¸‰æ ·ä¸œè¥¿ç»“åˆ</p><p>TabLayoutï¼šæä¾›é€‰é¡¹åˆ‡æ¢åˆ°ä¸åŒçš„èœå•</p><p>ViewPagerï¼šç”¨äºæ»‘åŠ¨åˆ‡æ¢åˆ°ä¸åŒçš„èœå•</p><p>Fragmentï¼šæ¯ä¸ªèœå•æ˜¾ç¤ºçš„é¡µé¢å†…å®¹</p><p><strong>å®ç°æ•ˆæœ</strong>ï¼š</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/%E8%81%94%E6%83%B3%E6%88%AA%E5%9B%BE_20230518160221.png" alt="è”æƒ³æˆªå›¾_20230518160221"></p><p><strong>æ¶‰åŠé…ç½®xmlæ–‡ä»¶</strong>ï¼š</p><ul><li>fragment_main_left.xml ï¼ˆå·¦ä¾§ç¢ç‰‡å¸ƒå±€ï¼‰</li><li>main_grid_menu.xml ï¼ˆç½‘æ ¼èœå•ï¼‰</li><li>selected.xml ï¼ˆé€‰ä¸­èœå•çš„é¢œè‰²è®¾ç½®ï¼‰</li><li>themes.xml  ï¼ˆè®¾ç½®èœå•çš„æ–‡ä»¶å¤§å°ï¼‰</li></ul><p><strong>Javaä»£ç æ–‡ä»¶</strong>ï¼š</p><ul><li>MainLeftFragment ï¼ˆæ•´ä½“å·¦ä¾§ç¢ç‰‡ï¼‰</li><li>NewsFragmentPagerAdapterï¼ˆç”¨äºåˆ‡æ¢åˆ—è¡¨çš„é€‚é…å™¨ï¼‰</li><li>NotificationFragmentï¼ˆé€šçŸ¥åˆ—è¡¨ç¢ç‰‡ï¼‰</li></ul></blockquote><h5 id="ç•Œé¢é…ç½®æ–‡ä»¶"><a href="#ç•Œé¢é…ç½®æ–‡ä»¶" class="headerlink" title="ç•Œé¢é…ç½®æ–‡ä»¶"></a>ç•Œé¢é…ç½®æ–‡ä»¶</h5><p>ç»™å‡ºæ•´ä½“çš„å·¦ä¾§ç¢ç‰‡ç®€ç•¥xmlä»£ç </p><p><strong>fragment_main_left.xml</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;utf-8&quot;</span>?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">LinearLayout</span> <span class="hljs-attr">xmlns:android</span>=<span class="hljs-string">&quot;http://schemas.android.com/apk/res/android&quot;</span></span><br><span class="hljs-tag"><span class="hljs-attr">.................</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--é¡¶éƒ¨ç½‘æ ¼èœå•--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">include</span> <span class="hljs-attr">layout</span>=<span class="hljs-string">&quot;@layout/main_grid_menu&quot;</span>/&gt;</span><br><br>    <span class="hljs-comment">&lt;!--é¡¶éƒ¨å¯¼èˆªæ ï¼Œåˆ‡æ¢é€‰é¡¹å¡--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">com.google.android.material.tabs.TabLayout</span></span><br><span class="hljs-tag">        <span class="hljs-attr">app:tabBackground</span>=<span class="hljs-string">&quot;@drawable/selected&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">app:tabTextAppearance</span>=<span class="hljs-string">&quot;@style/MyTabLayoutTextAppearance&quot;</span></span><br><span class="hljs-tag"><span class="hljs-attr">................</span>/&gt;</span><br>    <span class="hljs-comment">&lt;!--ç”¨äºå®ç°å·¦å³æ»‘åŠ¨æ•ˆæœ--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">androidx.viewpager.widget.ViewPager</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:id</span>=<span class="hljs-string">&quot;@+id/viewPager&quot;</span></span><br><span class="hljs-tag"><span class="hljs-attr">.........</span>/&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">ImageView</span> <span class="hljs-attr">android:id</span>=<span class="hljs-string">&quot;@+id/more_page_bt&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">LinearLayout</span>&gt;</span><br><br></code></pre></td></tr></table></figure><p>ä¸­é—´çš„ä¸¤ä¸ª<code>ViewPager</code>å’Œ<code>TabLayout</code>å°±æ˜¯æˆ‘ä»¬ç”¨æ¥å®ç°é€šçŸ¥åˆ—è¡¨çš„æ§ä»¶</p><p>åˆå§‹åŒ–è¿™å‡ ä¸ªæ§ä»¶çš„æ–¹æ³•ï¼Œå…·ä½“æºç å»æŸ¥çœ‹ä»“åº“ä»£ç </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//å°†é¡µé¢ç»‘å®šviewPagerï¼Œè¿›è¡Œè®¾ç½®</span><br>initViewPager();<br><span class="hljs-comment">//åˆå§‹åŒ–layoutçš„è®¾ç½®ï¼Œä¾‹å¦‚å›¾æ ‡ï¼Œå®šä½</span><br>initTabLayoutView();<br></code></pre></td></tr></table></figure><p>æ¯ä¸ªé€šçŸ¥Listçš„æ–‡ç« å¸ƒå±€ï¼š</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230518171636001.png" alt="image-20230518171636001"></p><p>å¯¹åº”çš„æ•°æ®åº“å†…å®¹ï¼š</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230518171829841.png" alt="image-20230518171829841"></p><p>è¿™é‡Œæœ€å³ä¾§çš„â€æ ‡ç­¾â€œæ˜¯ç”¨äºæ˜¾ç¤ºä¸åŒtabä¸‹çš„æ–‡ç« å†…å®¹</p><p>è·å–é€šçŸ¥åˆ—è¡¨æ•°æ®çš„æ–¹æ³•å¦‚ä¸‹</p><p><strong>NotifictaionFragment.java</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">initData</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-comment">//æ ¹æ®labelæ ‡ç­¾æ¡ä»¶æŸ¥è¯¢å¤„ç›¸åº”çš„æ–‡ç« </span><br>    mList = LitePal.where(<span class="hljs-string">&quot;label = ?&quot;</span>,label).find(Notification.class);<br>&#125;<br></code></pre></td></tr></table></figure><p>æ ¹æ®whereæ–¹æ³•è·å–å¯¹åº”labelä¸‹çš„å†…å®¹ï¼Œè¿™æ ·å°±å¯ä»¥å°†å…¨éƒ¨é€šçŸ¥ä¿¡æ¯æ”¾åœ¨<strong>ä¸€å¼ è¡¨</strong>ä¸‹é¢</p><p><strong>æ³¨æ„äº‹é¡¹ï¼ï¼š</strong></p><p><strong>å…¶ä»–xmlæ–‡ä»¶çš„æ·»åŠ </strong></p><p>è¿™é‡Œè¯´å‡ ä¸ªtablayoutå’ŒviewPagerè¦å¯¼å…¥çš„ä¸€äº›å…¶ä»–çš„ç®€çŸ­çš„xmlæ–‡ä»¶</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230423002236907.png" alt="image-20230423002236907"></p><p>åœ¨<code>themes.xml</code>ï¼ˆæˆ–styles.xmlï¼‰æ–‡ä»¶å½“ä¸­è¦æ·»åŠ <code>style name = MyTabLayoutTextAppearance</code>çš„æ ·å¼</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--    TabLayoutçš„æ–‡æœ¬å¤§å°--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;MyTabLayoutTextAppearance&quot;</span> <span class="hljs-attr">parent</span>=<span class="hljs-string">&quot;TextAppearance.AppCompat.Widget.ActionBar.Title&quot;</span>&gt;</span><span class="language-xml"></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">item</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;android:textSize&quot;</span>&gt;</span>18sp<span class="hljs-tag">&lt;/<span class="hljs-name">item</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">item</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;android:textColor&quot;</span>&gt;</span>@color/white<span class="hljs-tag">&lt;/<span class="hljs-name">item</span>&gt;</span></span><br><span class="language-xml">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br></code></pre></td></tr></table></figure><p>è¿˜æœ‰åœ¨drawableæ–‡ä»¶ä¸‹çš„ <code>selected.xml</code>ï¼Œç”¨äºå±•ç¤ºè¢«é€‰ä¸­ä¸‹èœå•çš„é¢œè‰²</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;utf-8&quot;</span>?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">selector</span> <span class="hljs-attr">xmlns:android</span>=<span class="hljs-string">&quot;http://schemas.android.com/apk/res/android&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">item</span> <span class="hljs-attr">android:state_selected</span>=<span class="hljs-string">&quot;true&quot;</span> <span class="hljs-attr">android:drawable</span>=<span class="hljs-string">&quot;@color/TabBackGround&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">item</span> <span class="hljs-attr">android:drawable</span>=<span class="hljs-string">&quot;@color/colorAccent&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">selector</span>&gt;</span><br></code></pre></td></tr></table></figure><h3 id="2-4-æ–‡ç« è¯¦æƒ…é¡µé¢ï¼ˆWebViewï¼‰"><a href="#2-4-æ–‡ç« è¯¦æƒ…é¡µé¢ï¼ˆWebViewï¼‰" class="headerlink" title="2.4 æ–‡ç« è¯¦æƒ…é¡µé¢ï¼ˆWebViewï¼‰"></a>2.4 æ–‡ç« è¯¦æƒ…é¡µé¢ï¼ˆWebViewï¼‰</h3><blockquote><p><strong>xmlæ–‡ä»¶</strong>ï¼š</p><p>activity_news_article_content.xml</p><p><strong>javaæ–‡ä»¶</strong>ï¼š</p><p>NewsArticleContentActivity</p></blockquote><p><strong>xmlæ–‡ä»¶å†…å®¹</strong>ï¼š</p><p><strong>activity_news_article_content.xml</strong></p><p>è¿™é‡Œå°±ç”¨çº¿æ€§å¸ƒå±€æ”¾ç½®äº†ä¸€ä¸ªWebViewï¼Œæ¯”è¾ƒç®€å•</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">LinearLayout</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">&quot;match_parent&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">&quot;match_parent&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:orientation</span>=<span class="hljs-string">&quot;vertical&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">WebView</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:id</span>=<span class="hljs-string">&quot;@+id/news_webView&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">&quot;match_parent&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">&quot;match_parent&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">LinearLayout</span>&gt;</span><br></code></pre></td></tr></table></figure><p>è¿™ä¸ªæ¯”è¾ƒç®€å•ï¼Œæ–‡ç« æˆ–è€…æ˜¯èœå•ä»€ä¹ˆç‚¹å‡»åéƒ½ä¼šè§¦å‘äº‹ä»¶å¹¶ä¸”è·³è½¬åˆ°è¿™ä¸ªæ´»åŠ¨ï¼Œ</p><p>è·³è½¬è¿‡æ¥çš„æ—¶å€™å¾€å¾€ä¼šå¸¦æœ‰ä¸€ä¸ªæ ‡é¢˜å’Œä¸€ä¸ªé“¾æ¥urlï¼Œç„¶åå°±å¯ä»¥ç”¨xmlæ–‡ä»¶é‡Œé¢çš„WebViewæ˜¾ç¤ºå‡ºæ¥</p><p>ä¾‹å¦‚åœ¨å·¦ä¾§ç¢ç‰‡æœ€ä¸‹é¢çš„ä¸€ä¸ªå›¾æ ‡å¯ä»¥è·³è½¬åˆ°å…¬æ–‡é€š</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/%E8%81%94%E6%83%B3%E6%88%AA%E5%9B%BE_20230518162233.png" alt="è”æƒ³æˆªå›¾_20230518162233"></p><h3 id="2-5-ç™»å½•ç•Œé¢"><a href="#2-5-ç™»å½•ç•Œé¢" class="headerlink" title="2.5 ç™»å½•ç•Œé¢"></a>2.5 ç™»å½•ç•Œé¢</h3><p>ä¸Šé¢è®²çš„å¾ˆå¤šå†…å®¹éƒ½æ˜¯ä¸Šä¸€ä¸ªå®éªŒçš„ï¼Œè€Œç™»å½•ç•Œé¢åˆ™æ¶‰åŠåˆ°äº†æ–°çš„çŸ¥è¯†ï¼Œå¹¿æ’­æœºåˆ¶ä»¥åŠæ•°æ®æŒä¹…åŒ–å­˜å‚¨</p><blockquote><p><strong>xmlæ–‡ä»¶</strong>ï¼š</p><p>activity_login.xml</p><p><strong>ç™»å½•è´¦å·</strong>ï¼š</p><p>è´¦å·ï¼š2020111051  å¯†ç ï¼š8888</p><p>è´¦å·ï¼šadmin å¯†ç ï¼š1111</p><p><strong>java ç›¸å…³æ–‡ä»¶</strong>ï¼š</p><ul><li>LoginActivity</li><li>BaseActivity</li></ul><p><strong>ç™»å½•ç•Œé¢</strong>ï¼š</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/%E8%81%94%E6%83%B3%E6%88%AA%E5%9B%BE_20230517233602(1).png" alt="è”æƒ³æˆªå›¾_20230517233602(1)"></p></blockquote><p>è¿™é‡Œçš„å¸ƒå±€æ–‡ä»¶åªæœ‰ä¸€ä¸ªï¼Œå°±ä¸è¯¦ç»†ä»‹ç»äº†</p><p>åªè¯´ä¸€ä¸‹ç”¨äº†å“ªäº›ä¸å¤ªå¸¸è§çš„æ§ä»¶</p><ul><li>editTextï¼šè¾“å…¥æ¡†ï¼Œå¯é€šè¿‡<code>android:theme</code>è®¾ç½®é¢œè‰²é£æ ¼</li><li>CheckBoxï¼šå‹¾é€‰æ¡†</li></ul><h4 id="2-5-1-ç”¨æˆ·ä¿¡æ¯æ ¡å¯¹"><a href="#2-5-1-ç”¨æˆ·ä¿¡æ¯æ ¡å¯¹" class="headerlink" title="2.5.1  ç”¨æˆ·ä¿¡æ¯æ ¡å¯¹"></a>2.5.1  ç”¨æˆ·ä¿¡æ¯æ ¡å¯¹</h4><p>ä»<strong>æ•°æ®åº“</strong>å½“ä¸­è·å–ç”¨æˆ·çš„æ‰€æœ‰ä¿¡æ¯ï¼Œå’Œå½“å‰è¾“å…¥æ¡†çš„ä¿¡æ¯è¿›è¡Œæ ¡å¯¹</p><p><strong>LoginActivity</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onClick</span><span class="hljs-params">(View view)</span> &#123;<br>    <span class="hljs-type">String</span> <span class="hljs-variable">account</span> <span class="hljs-operator">=</span> accountEdit.getText().toString();<br>    <span class="hljs-type">String</span> <span class="hljs-variable">password</span> <span class="hljs-operator">=</span> passwordEdit.getText().toString();<br>    <span class="hljs-comment">//å¦‚æœè´¦å·æ˜¯adminä¸”å¯†ç æ˜¯123456,å°±è®¤ä¸ºç™»å½•æˆåŠŸ</span><br>    userInfoList = LitePal.findAll(UserInfo.class);<span class="hljs-comment">//è·å–å¯†ç æ•°æ®åº“ä¿¡æ¯</span><br>    <span class="hljs-keyword">for</span>(UserInfo info : userInfoList)&#123;<br>        <br>        <span class="hljs-keyword">if</span>(info.getAdmin().equals(account.trim()) &amp;&amp; info.getPassword().equals(password.trim()))<br>        &#123; <br>            <span class="hljs-comment">//å¯†ç æ­£ç¡®åçš„é€»è¾‘ä»£ç </span><br>        &#125;<br>    &#125;<br></code></pre></td></tr></table></figure><p>çœ‹åˆ°ä¸Šé¢çš„ä»£ç é€šè¿‡</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java">userInfoList = LitePal.findAll(UserInfo.class);<span class="hljs-comment">//è·å–å¯†ç æ•°æ®åº“ä¿¡æ¯</span><br><br></code></pre></td></tr></table></figure><p>è¿™ä¸€è¡Œæ¥è·å–æ•°æ®åº“ä¸­è¯¥è¡¨çš„æ‰€æœ‰æ•°æ®</p><p>è¯¥è¡¨çš„å†…å®¹å¦‚ä¸‹</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230518171531080.png" alt="image-20230518171531080"></p><h4 id="2-5-2-è®°å½•ç”¨æˆ·æ•°æ®ï¼ˆSharedPreferenceï¼‰"><a href="#2-5-2-è®°å½•ç”¨æˆ·æ•°æ®ï¼ˆSharedPreferenceï¼‰" class="headerlink" title="2.5.2 è®°å½•ç”¨æˆ·æ•°æ®ï¼ˆSharedPreferenceï¼‰"></a>2.5.2 è®°å½•ç”¨æˆ·æ•°æ®ï¼ˆSharedPreferenceï¼‰</h4><p>ä¸ºäº†è®©ç”¨æˆ·ç™»å½•æ›´åŠ æ–¹ä¾¿ï¼Œåœ¨ç™»å½•é¡µé¢å½“ä¸­ï¼Œ<strong>è®°ä½å¯†ç </strong>è¿™ä¸ªåŠŸèƒ½æ˜¯å¿…ä¸å¯å°‘çš„</p><p>è€Œç”¨SharedPreferenceå¯ä»¥å¾ˆæ–¹ä¾¿åœ°å®ç°è¿™ä¸ªåŠŸèƒ½</p><p>ä»£ç ä¹Ÿå¾ˆç®€å•ï¼Œ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java">SharedPreferences pref;<br>SharedPreferences.<span class="hljs-type">Editor</span> <span class="hljs-variable">editor</span> <span class="hljs-operator">=</span> pref.edit();<br><span class="hljs-keyword">if</span>(rememberPass.isChecked())&#123; <span class="hljs-comment">//æ£€æŸ¥æ˜¯å¦å‹¾é€‰äº†è®°ä½å¯†ç </span><br>    <span class="hljs-comment">//ä½¿ç”¨Editoræ¥æ·»åŠ æ•°æ®å­˜å‚¨</span><br>    editor.putBoolean(<span class="hljs-string">&quot;remember_password&quot;</span>,<span class="hljs-literal">true</span>);<br>    editor.putString(<span class="hljs-string">&quot;account&quot;</span>,account);<br>    editor.putString(<span class="hljs-string">&quot;password&quot;</span>,password);<br>&#125;<br><span class="hljs-keyword">else</span> editor.clear();<br></code></pre></td></tr></table></figure><p>ä¸Šå›¾ä¹Ÿå°±åè¡Œä»£ç ï¼Œåªéœ€è¦ç›´æ¥è°ƒç”¨SharedPreferenceçš„åº“æä¾›çš„å†…å®¹</p><p>åœ¨æ£€æµ‹åˆ°ç”¨æˆ·å‹¾é€‰äº†â€è®°ä½å¯†ç â€œä¹‹åï¼Œå°±å°†æ•°æ®éƒ½putåˆ°editorå½“ä¸­ï¼Œè¿™æ ·å°±å·²ç»å°†ç”¨æˆ·çš„ä¿¡æ¯å­˜åœ¨æœ¬åœ°äº†ï¼Œå®ƒçš„å…·ä½“æ–‡ä»¶ä½ç½®å¯ä»¥ä¸Šç½‘æœç´¢</p><p>ä¸‹æ¬¡å†æ¬¡è¿›å…¥åˆ°LoginActivityçš„æ—¶å€™ï¼Œå°±å¯ä»¥ç›´æ¥è°ƒç”¨å­˜åœ¨SharedPreferenceçš„æ•°æ®äº†</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java">pref = PreferenceManager.getDefaultSharedPreferences(<span class="hljs-built_in">this</span>);<br><span class="hljs-type">boolean</span> <span class="hljs-variable">isRemember</span> <span class="hljs-operator">=</span> pref.getBoolean(<span class="hljs-string">&quot;remember_password&quot;</span>,<span class="hljs-literal">false</span>);<br><span class="hljs-keyword">if</span>(isRemember)&#123;<br>    <span class="hljs-comment">//å°†è®°ä½çš„å†…å®¹ç›´æ¥è®¾ç½®ä¸Šå»</span><br>    accountEdit.setText(pref.getString(<span class="hljs-string">&quot;account&quot;</span>,<span class="hljs-string">&quot;&quot;</span>));<br>    passwordEdit.setText(pref.getString(<span class="hljs-string">&quot;password&quot;</span>,<span class="hljs-string">&quot;&quot;</span>));<br>    rememberPass.setChecked(<span class="hljs-literal">true</span>);<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="2-6-æ•°æ®åº“å®ç°-ï¼ˆLitePalï¼‰"><a href="#2-6-æ•°æ®åº“å®ç°-ï¼ˆLitePalï¼‰" class="headerlink" title="2.6 æ•°æ®åº“å®ç° ï¼ˆLitePalï¼‰"></a>2.6 æ•°æ®åº“å®ç° ï¼ˆLitePalï¼‰</h3><blockquote><p><strong>ç›¸å…³é…ç½®æ–‡ä»¶</strong>ï¼š</p><ul><li>litepal.xml</li><li>AndroidManifest.xml</li><li>SchioolDemo.db</li><li>build.gradle</li></ul><p><strong>ç›¸å…³Javaæ–‡ä»¶</strong>ï¼š</p><p>DatabaseUtil.java</p></blockquote><h4 id="2-6-1-å¯¼å…¥ä¾èµ–ä»¥åŠé…ç½®"><a href="#2-6-1-å¯¼å…¥ä¾èµ–ä»¥åŠé…ç½®" class="headerlink" title="2.6.1 å¯¼å…¥ä¾èµ–ä»¥åŠé…ç½®"></a>2.6.1 å¯¼å…¥ä¾èµ–ä»¥åŠé…ç½®</h4><p>è¿™é‡Œæˆ‘å­¦ä¹ äº†ã€Šç¬¬ä¸€è¡Œä»£ç ã€‹å½“ä¸­ç»™å‡ºçš„LitePalçš„åº“çš„ä½¿ç”¨å¹¶ä¸”è¿›è¡Œäº†å¯¼å…¥</p><p>ä¸è¿‡è¿™é‡Œç”¨ç»™å‡ºçš„å¯¼å…¥æ–¹æ³•æˆ–è€…ç½‘ä¸Šçš„éƒ½ä¸è¡Œï¼Œäºæ˜¯åªèƒ½åˆ°githubç›´æ¥å°†<strong>JaråŒ…</strong>ä¸‹è½½ä¸‹æ¥äº†ã€‚</p><p><strong>é…ç½®æ•°æ®åº“æ–¹æ³•</strong></p><p>è¿™é‡Œä¹¦ä¸Šä¹Ÿæœ‰æ•™ç¨‹ï¼Œè¿™é‡Œå°±ç®€å•ä»‹ç»ä¸€ä¸‹</p><ul><li><p>å¯¼å…¥ä¾èµ–</p><p>åœ¨build.gradleï¼ˆModule.appï¼‰å½“ä¸­å¯¼å…¥</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java">implementation <span class="hljs-title function_">files</span><span class="hljs-params">(<span class="hljs-string">&#x27;libs\\litepal-2.0.0-src.jar&#x27;</span>)</span><br></code></pre></td></tr></table></figure></li><li><p>åœ¨mainå½“ä¸­æ–°å»ºassetsæ–‡ä»¶å¤¹ï¼Œå¹¶æ–°å»ºä¸€ä¸ªlitepal.xml</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230518173736578.png" alt="image-20230518173736578"></p><p>è¯¥æ–‡ä»¶ç”¨äºé…ç½®æ•°æ®åº“å’ŒJavaå½“ä¸­çš„ç±»çš„å…³ç³»æ˜ å°„</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">litepal</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dbname</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;SchoolDemo&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">dbname</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">version</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;3&quot;</span> &gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">list</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">mapping</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.example.myschool.schobject.Notification&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">mapping</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">mapping</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.example.myschool.schobject.UserInfo&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">mapping</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">mapping</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;com.example.myschool.schobject.Card&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">mapping</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">list</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">litepal</span>&gt;</span><br></code></pre></td></tr></table></figure><ul><li><p>dbnameï¼šæ•°æ®åº“åå­—ä¸ºâ€SchoolDemoâ€œï¼Œç„¶åä¸€å…±æœ‰ä¸‰ä¸ªæ•°æ®è¡¨ï¼Œ</p></li><li><p>version ï¼švalueå°±æ˜¯æ•°æ®è¡¨çš„ä¸ªæ•°</p></li><li><p>listï¼šå¯¹åº”æ¯ä¸€ä¸ªJavaå½“ä¸­çš„ç±»çš„ä¸€ä¸ªæ˜ å°„</p></li></ul></li><li><p>åœ¨<code>AndroidManifest.xml</code>å½“ä¸­é…ç½®ä¸€ä¸‹</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">application</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;org.litepal.LitePalApplication&quot;</span></span><br><span class="hljs-tag">             <span class="hljs-attr">.......</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">application</span>&gt;</span><br></code></pre></td></tr></table></figure></li></ul><p>é…ç½®æˆåŠŸåï¼Œå¯ä»¥é€šè¿‡android studioè‡ªå¸¦çš„<strong>Device File Explorer</strong>æ¥æŸ¥æ‰¾è™šæ‹Ÿæœºå½“ä¸­çš„æ–‡ä»¶</p><p>å®ƒåœ¨è™šæ‹Ÿæœºæ–‡ä»¶å½“ä¸­çš„è·¯å¾„ä¸º<code>data/data/com.example.mewsapppage/databases</code></p><p>ä¸è¿‡è¿™ä¸ªè·¯å¾„åœ¨æœ¬æœºç”µè„‘å½“ä¸­æ˜¯ä¸å®é™…å­˜åœ¨çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ä½ æ— æ³•åœ¨<strong>è™šæ‹Ÿæœºå…³æœº</strong>çš„æƒ…å†µä¸‹å»<strong>ä¿®æ”¹è¿™ä¸ªæ–‡ä»¶</strong>.</p><h4 id="2-6-2-å­˜å‚¨æå‰å‡†å¤‡å¥½çš„æ•°æ®æ–‡ä»¶"><a href="#2-6-2-å­˜å‚¨æå‰å‡†å¤‡å¥½çš„æ•°æ®æ–‡ä»¶" class="headerlink" title="2.6.2 å­˜å‚¨æå‰å‡†å¤‡å¥½çš„æ•°æ®æ–‡ä»¶"></a>2.6.2 å­˜å‚¨æå‰å‡†å¤‡å¥½çš„æ•°æ®æ–‡ä»¶</h4><p>ç”±äºè€ƒè™‘åˆ°æ¯æ¬¡åˆ°ä¸€å°æ–°çš„æœºå™¨ä¸Šé¢ï¼Œéƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„æ•°æ®åº“dbï¼Œå› ä¸ºå®ƒæ˜¯ä¸å­˜åœ¨æœ¬åœ°çš„ï¼Œå› æ­¤æˆ‘ä»¬è¦å»è¯»å–å®ƒçš„æ–‡ä»¶</p><p>ä¸ºäº†é¿å…åœ¨Javaå½“ä¸­è¿˜è¦æ‰‹åŠ¨å†™ä»£ç å»å¯¼å…¥æ•°æ®åˆ°æ•°æ®åº“å½“ä¸­ï¼Œè€Œä¸”æ•°æ®ä¹Ÿä¸æ–¹ä¾¿ä¿®æ”¹</p><p>äºæ˜¯å¯ä»¥é‡‡ç”¨å°†<strong>å­˜åœ¨å®‰å“èµ„æºæ–‡ä»¶ä¸­çš„dbæ•°æ®åº“</strong> å†™å…¥ åˆ°androidæ‰‹æœºå­˜å‚¨dbæ•°æ®åº“çš„ä½ç½®å½“ä¸­ï¼Œè¿™æ ·å°±å®ç°äº†æ–‡ä»¶çš„è¦†ç›–ï¼Œå¯ä»¥ä½¿ç”¨é¢„å…ˆå†™å¥½æ•°æ®çš„æ•°æ®åº“äº†ï¼</p><p>è¿™å°±æ¶‰åŠåˆ°æ–‡ä»¶çš„è¯»å†™æ“ä½œäº†ï¼Œæˆ‘ä»¬å°†æ•°æ®åº“æ–‡ä»¶å­˜æ”¾åœ¨assetsç›®å½•ä¸‹é¢</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230518175126413.png" alt="image-20230518175126413"></p><p>åå­—ä¹Ÿè¦å’Œæˆ‘ä»¬è¦ç”Ÿæˆçš„å®‰å“æ‰‹æœºä¸Šçš„æ•°æ®åº“<strong>æ–‡ä»¶åå­—ä¸€è‡´</strong>ï¼Œæ¥ç€ç¼–å†™ä»£ç è¿›è¡ŒIOæ“ä½œ</p><p><strong>DatabaseUtil.java</strong></p><p>é¦–å…ˆåœ¨Javaå½“ä¸­è·å–å­˜å–çš„è·¯å¾„åç§°</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// com.example.myschool æ˜¯ç¨‹åºçš„åŒ…åï¼Œè¯·æ ¹æ®è‡ªå·±çš„ç¨‹åºè°ƒæ•´</span><br><span class="hljs-comment">// /data/data/com.example.myschool/databasesç›®å½•æ˜¯å‡†å¤‡æ”¾ SQLite æ•°æ®åº“çš„åœ°æ–¹ï¼Œä¹Ÿæ˜¯ Android ç¨‹åºé»˜è®¤çš„æ•°æ®åº“å­˜å‚¨ç›®å½•</span><br><span class="hljs-comment">// æ•°æ®åº“åä¸º SchoolDemo.db</span><br><span class="hljs-type">String</span> <span class="hljs-variable">DB_PATH</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;/data/data/&quot;</span> + context.getPackageName() +<span class="hljs-string">&quot;/databases/&quot;</span>;<br><span class="hljs-type">String</span> <span class="hljs-variable">DB_NAME</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;SchoolDemo.db&quot;</span>;<br></code></pre></td></tr></table></figure><p>æ¥ç€ä½¿ç”¨<code>InputStream</code> å’Œ<code>FileOutputStream</code>ç±»æ¥åˆ†åˆ«è¿›è¡Œ<strong>å­—èŠ‚æµ</strong>çš„è¾“å…¥è¾“å‡ºæ“ä½œ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// å¾—åˆ° assets ç›®å½•ä¸‹æˆ‘ä»¬å®ç°å‡†å¤‡å¥½çš„ SQLite æ•°æ®åº“ä½œä¸ºè¾“å…¥æµ</span><br><span class="hljs-type">InputStream</span> <span class="hljs-variable">is</span> <span class="hljs-operator">=</span> context.getAssets().open(DB_NAME);<br><span class="hljs-comment">// è¾“å‡ºæµ,åœ¨æŒ‡å®šè·¯å¾„ä¸‹ç”Ÿæˆdbæ–‡ä»¶</span><br><span class="hljs-type">OutputStream</span> <span class="hljs-variable">os</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileOutputStream</span>(DB_PATH + DB_NAME);<br><span class="hljs-comment">// æ–‡ä»¶å†™å…¥</span><br><span class="hljs-type">byte</span>[] buffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">byte</span>[<span class="hljs-number">1024</span>];<br><span class="hljs-type">int</span> length;<br><span class="hljs-keyword">while</span> ((length = is.read(buffer)) &gt; <span class="hljs-number">0</span>) <br>    os.write(buffer, <span class="hljs-number">0</span>, length);<br><span class="hljs-comment">// å…³é—­æ–‡ä»¶æµ</span><br>os.flush();<br>os.close();<br>is.close();<br></code></pre></td></tr></table></figure><p>ä»£ç ä¹Ÿæ¯”è¾ƒç®€å•ï¼Œè¿™æ ·æˆ‘ä»¬å°±å®ç°äº†æ–‡ä»¶çš„å†™å…¥è¦†ç›–ï¼Œå°±å¯ä»¥åœ¨<strong>æœ¬åœ°ç¼–è¾‘å¥½æ•°æ®åº“</strong>ä¹‹åï¼Œç›´æ¥å°†æ•°æ®åº“è·‘åœ¨å®‰å“çš„æœºå™¨ä¸Šå•¦</p><h3 id="2-7-å¼ºåˆ¶ä¸‹çº¿ä»¥åŠç½‘ç»œç›‘å¬ï¼ˆå¹¿æ’­æœºåˆ¶ï¼‰"><a href="#2-7-å¼ºåˆ¶ä¸‹çº¿ä»¥åŠç½‘ç»œç›‘å¬ï¼ˆå¹¿æ’­æœºåˆ¶ï¼‰" class="headerlink" title="2.7 å¼ºåˆ¶ä¸‹çº¿ä»¥åŠç½‘ç»œç›‘å¬ï¼ˆå¹¿æ’­æœºåˆ¶ï¼‰"></a>2.7 å¼ºåˆ¶ä¸‹çº¿ä»¥åŠç½‘ç»œç›‘å¬ï¼ˆå¹¿æ’­æœºåˆ¶ï¼‰</h3><blockquote><p><strong>æ¶‰åŠJavaä»£ç </strong>ï¼š</p><ul><li>ForceOfflineReceiver.java</li><li>BaseActivity.java</li><li>ActivityCollector.java</li></ul><p>ç›¸å…³é…ç½®æ–‡ä»¶ï¼š</p><p>æ— ç›´æ¥ç›¸å…³çš„ï¼Œåªéœ€è¦è°ƒç”¨ä¸Šé¢çš„Javaç±»ä»£ç å³å¯è‡ªåŠ¨è§¦å‘åŠŸèƒ½</p></blockquote><h4 id="2-7-1-æ³¨å†Œå¹¿æ’­å™¨ï¼š"><a href="#2-7-1-æ³¨å†Œå¹¿æ’­å™¨ï¼š" class="headerlink" title="2.7.1 æ³¨å†Œå¹¿æ’­å™¨ï¼š"></a>2.7.1 æ³¨å†Œå¹¿æ’­å™¨ï¼š</h4><p>é¦–å…ˆè¦å¯¹å¹¿æ’­å™¨Receiverè¿›è¡Œ<strong>æ³¨å†Œ</strong></p><p>åœ¨BaseActivityå½“ä¸­è¿›è¡Œæ³¨å†Œï¼Œç„¶åæ‰€æœ‰æœ‰éœ€æ±‚æ‰§è¡Œç™»å‡ºæ“ä½œçš„ç•Œé¢éƒ½å¯ä»¥ç»§æ‰¿è¿™ä¸ªç±»ä½œä¸ºåŸºç±»ï¼Œè¿™æ ·å°±ä¼šç»Ÿä¸€æ”¶åˆ°å¹¿æ’­äº†</p><p>æ³¨å†Œçš„ä»£ç å¦‚ä¸‹ï¼š</p><p><strong>BaseActivityï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Override</span><br><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onResume</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-comment">//åŠ¨æ€æ³¨å†Œå¹¿æ’­å™¨</span><br>    <span class="hljs-built_in">super</span>.onResume();<br>    <span class="hljs-type">IntentFilter</span> <span class="hljs-variable">filter</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">IntentFilter</span>();<br>    <span class="hljs-comment">//å¢åŠ éœ€è¦ç›‘å¬çš„å†…å®¹</span><br>    filter.addAction(<span class="hljs-string">&quot;com.example.myschool.FORCE_OFFLINE&quot;</span>); <span class="hljs-comment">//ç›‘å¬å¼ºåˆ¶ä¸‹çº¿å¹¿æ’­</span><br>    filter.addAction(<span class="hljs-string">&quot;android.net.conn.CONNECTIVITY_CHANGE&quot;</span>); <span class="hljs-comment">//ç›‘å¬ç½‘ç»œè¿æ¥å¹¿æ’­</span><br>    forceOffLineReceiver = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ForceOffLineReceiver</span>();<br>    <span class="hljs-comment">//æ³¨å†Œç›‘å¬ï¼Œè¿™æ ·ForceOfflineReceiverå°±å¯ä»¥æ¥æ”¶åˆ°æ‰€æœ‰FORCEâ€”â€”OFFLINEçš„å¹¿æ’­</span><br>    registerReceiver(forceOffLineReceiver,filter);<br>&#125;<br><span class="hljs-meta">@Override</span><br><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onPause</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-built_in">super</span>.onPause();<br>    <span class="hljs-keyword">if</span>(forceOffLineReceiver != <span class="hljs-literal">null</span>)<br>        unregisterReceiver(forceOffLineReceiver); <span class="hljs-comment">//æœ€åå–æ¶ˆæ³¨å†Œ</span><br>&#125;<br></code></pre></td></tr></table></figure><p>è¿™é‡Œå¢åŠ äº†ä¸¤æ¡éœ€è¦ç›‘å¬çš„å†…å®¹ï¼Œåˆ†åˆ«æ˜¯å¼ºåˆ¶ä¸‹çº¿å¹¿æ’­å’Œç½‘ç»œé“¾æ¥å¹¿æ’­ï¼Œè¿™æ ·å°±å¾ˆå®¹æ˜“åœ°å®ç°äº†æ³¨å†Œ</p><p>æœ€åä¸è¦å¿˜äº†åœ¨onPauseæˆ–è€…onDestroyçš„æ—¶å€™è¿›è¡Œå–æ¶ˆæ³¨å†Œï¼Œä¸ç„¶å¯èƒ½ä¼šå¼•å‘ä¸€äº›åæœã€‚</p><h4 id="2-7-2-å®ç°ç›‘å¬è§¦å‘äº‹ä»¶"><a href="#2-7-2-å®ç°ç›‘å¬è§¦å‘äº‹ä»¶" class="headerlink" title="2.7.2 å®ç°ç›‘å¬è§¦å‘äº‹ä»¶"></a>2.7.2 å®ç°ç›‘å¬è§¦å‘äº‹ä»¶</h4><p>æ¥ä¸‹æ¥å°±æ˜¯è¦åˆ°ForceOffLineReceiverè¿™ä¸ªç±»å½“ä¸­å»å®ç°å…·ä½“çš„<strong>ç›‘å¬è§¦å‘</strong>äº‹ä»¶äº†ã€‚</p><p>å…·ä½“ç±»å®ç°ï¼š</p><p><strong>ForceOffLineReceiver</strong>ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ForceOffLineReceiver</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">BroadcastReceiver</span> &#123;<br>    <span class="hljs-comment">//è¯¥ç›‘å¬å™¨åŒ…æ‹¬äº†ç½‘ç»œç›‘å¬ä½•å¼ºåˆ¶ä¸‹çº¿ç›‘å¬</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onReceive</span><span class="hljs-params">(Context context, Intent intent)</span> &#123;<br>        AlertDialog.<span class="hljs-type">Builder</span> <span class="hljs-variable">builder</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">AlertDialog</span>.Builder(context);<span class="hljs-comment">//æ„å»ºå¯¹è¯æ¡†</span><br>        builder.setTitle(<span class="hljs-string">&quot;è­¦å‘Š&quot;</span>);<br>        <span class="hljs-type">String</span> <span class="hljs-variable">action</span> <span class="hljs-operator">=</span> intent.getAction();<br>        <span class="hljs-keyword">if</span> (action.equals(<span class="hljs-string">&quot;com.example.myschool.FORCE_OFFLINE&quot;</span>)) &#123;<br>            <span class="hljs-comment">// Handle the FORCE_OFFLINE broadcast</span><br>            <br>        &#125;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (action.equals(<span class="hljs-string">&quot;android.net.conn.CONNECTIVITY_CHANGE&quot;</span>)) &#123;<br>            <span class="hljs-comment">// Handle the CONNECTIVITY_CHANGE broadcast</span><br>            <br>        &#125;<br>        builder.show();<span class="hljs-comment">//ä»¤è¯¥å¯¹è¯æ¡†å¯è§†åŒ–</span><br>    &#125;<br></code></pre></td></tr></table></figure><p>é¦–å…ˆè¯¥ç›‘å¬å™¨è¦ç»§æ‰¿<code>BroadcastReceiver</code>ï¼Œç„¶åå»é‡è½½å®ƒçš„<code>onReceiveï¼ˆï¼‰</code>æ–¹æ³•ï¼Œ</p><p>è¯¥æ–¹æ³•åœ¨æ”¶åˆ°ä¹‹å‰æ·»åŠ çš„ç›‘å¬äº‹ä»¶ä¹‹åå°±ä¼šè§¦å‘ï¼Œæˆ‘ä»¬éœ€è¦åšä¸€ä¸ªifåˆ¤æ–­å®ƒæ˜¯å“ªä¸ªç±»å‹çš„äº‹ä»¶è§¦å‘äº†å³å¯</p><h2 id="3-å®éªŒæ€»ç»“"><a href="#3-å®éªŒæ€»ç»“" class="headerlink" title="3. å®éªŒæ€»ç»“"></a>3. å®éªŒæ€»ç»“</h2><h3 id="3-1-APPäº®ç‚¹"><a href="#3-1-APPäº®ç‚¹" class="headerlink" title="3.1 APPäº®ç‚¹"></a>3.1 APPäº®ç‚¹</h3><p>è¿™é‡Œåˆ—å‡ºè¯¥APPè®¾è®¡çš„ä¸€äº›è®¤ä¸ºæ¯”è¾ƒçªå‡ºçš„åœ°æ–¹ï¼š</p><ul><li>ä½¿ç”¨SharedPreferenceå®ç°è®°ä½å¯†ç </li><li>ä½¿ç”¨å®‰å“çš„åº“LitePelå®ç°æ•°æ®åº“çš„è´¦å·å¯†ç çš„å­˜å–</li><li>ç”¨æˆ·ä¿¡æ¯ä»æ•°æ®åº“ä¸­æå–ï¼Œä¸åŒçš„ç”¨æˆ·åŠ¨æ€å±•ç°ä¸åŒçš„ä¿¡æ¯</li><li>ä½¿ç”¨æ”¾åœ¨assetsæ–‡ä»¶ä¸­å·²ç»å†™å¥½çš„æ•°æ®åº“ï¼Œå¯æ‰‹åŠ¨ç¼–è¾‘</li><li>ç¢ç‰‡åŒ–å®ç°å¹³æ¿ä¸æ‰‹æœºçš„é€‚é…</li><li>ä½¿ç”¨gridLayoutç½‘æ ¼ç»˜åˆ¶èœå•ï¼ˆä¸ä¸‹é¢å¯¹æ¯”ä¸¤ç§ä¸åŒçš„æ–¹å¼ï¼‰</li><li>recyclerViewå®ç°ç½‘æ ¼èœå•</li></ul><h3 id="3-2-é‡åˆ°è¿‡çš„é—®é¢˜"><a href="#3-2-é‡åˆ°è¿‡çš„é—®é¢˜" class="headerlink" title="3.2. é‡åˆ°è¿‡çš„é—®é¢˜"></a>3.2. é‡åˆ°è¿‡çš„é—®é¢˜</h3><ul><li><p>æ•°æ®åº“æ— æ³•åœ¨æ–°çš„æœºå™¨ä¸Šå­˜å‚¨ï¼Œéœ€è¦åœ¨ä»£ç æ·»åŠ è¿›å»</p><p>è§£å†³æ–¹æ³•ï¼š</p><p>åœ¨æœ¬åœ°åšå¥½ä¸€ä¸ªæ•°æ®åº“æ–‡ä»¶ï¼Œç„¶åé€šè¿‡æ–‡ä»¶å­—èŠ‚æµè¯»å†™çš„æ–¹å¼å†™å…¥åˆ°å®‰å“æ¨¡æ‹Ÿå™¨ä¸Šçš„ä½ç½®</p></li><li><p>ImageViewæ— æ³•é€šè¿‡elevationè®¾ç½®é˜´å½±</p><p>ä½¿ç”¨CardViewåŒ…è£¹å®ç°é˜´å½±æ•ˆæœ</p></li></ul><h3 id="3-3-æ„Ÿæƒ³å¿ƒå¾—"><a href="#3-3-æ„Ÿæƒ³å¿ƒå¾—" class="headerlink" title="3.3 æ„Ÿæƒ³å¿ƒå¾—"></a>3.3 æ„Ÿæƒ³å¿ƒå¾—</h3><p>æœ¬æ¬¡å®éªŒç»™æˆ‘çš„ç¬¬ä¸€æ„Ÿè§‰å°±æ˜¯å†…å®¹æ¯”ä¸Šæ¬¡è¦å¤šäº†æ›´å¤šï¼Œéœ€è¦åšçš„ä¸œè¥¿æœ‰è¯¸å¦‚æ•°æ®åº“ï¼Œå¹¿æ’­ç­‰ç­‰ï¼Œè¿™ä¹Ÿæ˜¯å› ä¸ºæˆ‘ä»¬å­¦åˆ°äº†æ›´åŠ å¤šçš„æ–°çŸ¥è¯†ï¼Œå› æ­¤ä¹Ÿéœ€è¦åœ¨å®éªŒä¸­åº”ç”¨ä¸Šç›¸å…³çš„çŸ¥è¯†ã€‚</p><p>è™½ç„¶è¿™æ¬¡çš„å†…å®¹æ¯”è¾ƒå¤šå§ï¼Œä½†æ˜¯æ„Ÿè§‰æ²¡æœ‰ä¸Šæ¬¡åšèµ·æ¥è¿™ä¹ˆéš¾äº†ï¼Œå› ä¸ºä¸Šæ¬¡çš„æ˜¯ç¬¬ä¸€æ¬¡å»è®¤çœŸåœ°å®Œæˆä¸€ä¸ªAPPï¼Œä»é›¶å¼€å§‹ï¼Œè€Œè¿™æ¬¡ä¸ä»…å·²ç»æœ‰äº†ä¸Šä¸€æ¬¡å®éªŒçš„ç»éªŒï¼Œæœ‰äº›ä»£ç æ¡†æ¶å’Œå†…å®¹ä¹Ÿå¯ä»¥æ²¿ç”¨ä¸Šä¸€æ¬¡çš„ï¼Œå¹¶ä¸”åŸºäºä¸Šä¸€æ¬¡åšçš„ä¸è¶³çš„åœ°æ–¹åšæ›´å¥½åœ°è°ƒæ•´ï¼Œä¾‹å¦‚è¿™æ¬¡æˆ‘å¯¹ä¾§è¾¹æ è¿›è¡Œäº†æ›´å¤šåœ°ç¾åŒ–ï¼ŒåŠ ä¸Šäº†èƒŒæ™¯å›¾ç‰‡çš„åµŒå…¥ï¼Œè¿˜æœ‰è®¾è®¡äº†ä¸ªäººä¿¡æ¯ç•Œé¢ï¼Œå¯ä»¥é€šè¿‡ä¾§è¾¹æ æ‰¾åˆ°å…¥å£è¿›å…¥ã€‚å¦å¤–åœ¨é¡µé¢ç¢ç‰‡å½“ä¸­ä¹Ÿè¿›è¡Œäº†ä»£ç çš„ä¼˜åŒ–å’Œç®€åŒ–ã€‚</p><p>å½“ç„¶è¿™ä¸€æ¬¡æ”¶è·æœ€å¤§çš„è¿˜æ˜¯æ•°æ®æŒä¹…åŒ–çš„å­¦ä¹ è¿˜æœ‰å¹¿æ’­æœºåˆ¶çš„åº”ç”¨ï¼Œä½¿ç”¨å¹¿æ’­æœºåˆ¶å°±å¯ä»¥å®ç°å‡ ä¹æ‰€æœ‰APPéƒ½ä¼šå…·æœ‰çš„ä¸€ä¸ªåŠŸèƒ½ï¼Œå°±æ˜¯ç™»å½•ï¼Œè€Œä¸ºäº†å­˜å‚¨ç”¨æˆ·çš„æ•°æ®ï¼Œè‡ªç„¶ä¹Ÿå°±éœ€è¦ç»“åˆæ•°æ®æŒä¹…åŒ–çš„å­˜å‚¨ï¼Œè€Œè¿™æ¬¡ç›´æ¥å­¦ä¹ äº†æ•°æ®åº“çš„ä½¿ç”¨ï¼Œå› æ­¤åœ¨ListViewæ˜¾ç¤ºæ¯ä¸€æ¡æ–‡ç« çš„æ•°æ®çš„æ—¶å€™å†ä¹Ÿä¸éœ€è¦åœ¨Javaå½“ä¸­æ‰‹åŠ¨å†™å…¥è¿™äº›æ•°æ®äº†ï¼Œè€Œæ˜¯å¯ä»¥ç›´æ¥æ”¾åœ¨æ•°æ®åº“dbæ–‡ä»¶å½“ä¸­ï¼Œè€Œè¿™é‡Œç”¨çš„æ˜¯å®‰å“æä¾›çš„SQLiteæ•°æ®åº“ï¼Œä¸ä»…å¯ä»¥å­˜å‚¨ç”¨æˆ·æ•°æ®ï¼Œä¹Ÿå¯ä»¥å­˜å‚¨æ–‡ç« æ•°æ®ç­‰ç­‰ã€‚</p><p>ä¸è¿‡åœ¨å­¦ä¹ çš„åŒæ—¶ä¹Ÿè¶Šæ¥è¶Šå‘ç°è‡ªå·±è¿˜æœ‰å¾ˆå¤šä¸ä¼šçš„åœ°æ–¹ï¼Œç°åœ¨åšçš„å®é™…ä¸Šå¯¹äºç¤¾ä¼šä¸Šçš„å®‰å“å·¥ç¨‹å¸ˆï¼Œè¿™äº›åªæ˜¯å¾ˆç®€å•çš„ä¸œè¥¿ï¼Œä¾‹å¦‚æ•°æ®åº“åº”è¯¥ä¼šæœ‰æ›´å¥½åœ°æ–¹æ³•è¿›è¡Œæ“ä½œï¼Œå¯ä»¥åˆ©ç”¨åå°å†™æ¥å£çš„æ–¹å¼æ›´å¥½åœ°å¯¹æ•°æ®è¿›è¡Œå¤„ç†ï¼Œæ€»ä¹‹ï¼Œä»æœ‰å¾ˆå¤šçš„åœ°æ–¹éœ€è¦å­¦ä¹ ã€‚</p><h3 id="å¯ä»¥æ”¹è¿›æˆ–è€…æ‰©å±•çš„åœ°æ–¹ï¼ˆåˆ æ‰ï¼‰"><a href="#å¯ä»¥æ”¹è¿›æˆ–è€…æ‰©å±•çš„åœ°æ–¹ï¼ˆåˆ æ‰ï¼‰" class="headerlink" title="å¯ä»¥æ”¹è¿›æˆ–è€…æ‰©å±•çš„åœ°æ–¹ï¼ˆåˆ æ‰ï¼‰"></a>å¯ä»¥æ”¹è¿›æˆ–è€…æ‰©å±•çš„åœ°æ–¹ï¼ˆåˆ æ‰ï¼‰</h3><ol><li>å›¾ç‰‡æ²¡æœ‰çœŸæ­£å­˜è¿›æ•°æ®åº“é‡Œé¢ï¼Œä»¥åçœ‹çœ‹å¯èƒ½å¯ä»¥ç”¨Bitmapå­˜å‚¨</li><li>æ§ä»¶çš„é˜´å½±è®¾ç½®æœ‰è‡ªå®šä¹‰çš„æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥ç”¨åˆ«äººçš„åº“ï¼Œè¿˜å¯ä»¥ç”¨ä»€ä¹ˆ<code>ç‚¹9å›¾</code></li><li>æ•°æ®åº“ä»¥ååº”è¯¥å¯ä»¥é‡‡ç”¨åå°å¼€å‘çš„æ–¹å¼ï¼Œçœ‹çœ‹èƒ½ä¸èƒ½ç”¨springbootå¼€å‘</li><li>å¹³æ¿æ­£æ”¾ä¾§æ”¾åˆ‡å±çš„æ—¶å€™ä¼šé—ªé€€</li><li>æ•°æ®åº“çš„dbæ–‡ä»¶æ˜¯å¦å¯ä»¥ä¸€ç›´å­˜åœ¨è½¯ä»¶å½“ä¸­ï¼Œè¿˜æ˜¯åˆ°æ–°çš„æœºå™¨ä¸Šå°±ä¼šè¢«æ¸…é™¤</li></ol>]]></content>
    
    
    <categories>
      
      <category>æœ¬ç§‘</category>
      
      <category>å¤§ä¸‰ä¸‹</category>
      
      <category>ç§»åŠ¨äº’è”ç½‘ç¼–ç¨‹</category>
      
    </categories>
    
    
    <tags>
      
      <tag>android</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å®‰å“å­¦ä¹ ç¬”è®°01</title>
    <link href="/2023/05/10/%E6%9C%AC%E7%A7%91/%E5%A4%A7%E4%B8%89%E4%B8%8B/%E7%A7%BB%E5%8A%A8%E4%BA%92%E8%81%94%E7%BD%91%E7%BC%96%E7%A8%8B/%E5%AE%89%E5%8D%93%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B001/"/>
    <url>/2023/05/10/%E6%9C%AC%E7%A7%91/%E5%A4%A7%E4%B8%89%E4%B8%8B/%E7%A7%BB%E5%8A%A8%E4%BA%92%E8%81%94%E7%BD%91%E7%BC%96%E7%A8%8B/%E5%AE%89%E5%8D%93%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B001/</url>
    
    <content type="html"><![CDATA[<h1 id="å®‰å“å­¦ä¹ ç¬”è®°01"><a href="#å®‰å“å­¦ä¹ ç¬”è®°01" class="headerlink" title="å®‰å“å­¦ä¹ ç¬”è®°01"></a>å®‰å“å­¦ä¹ ç¬”è®°01</h1><blockquote><p>æ—¨åœ¨è®°å½•ä¸€äº›å¹³æ—¶åšé¡¹ç›®çš„æ—¶å€™ä¼šé‡åˆ°çš„ä¸€äº›é—®é¢˜ï¼Œ</p><p>æˆ–è€…æ˜¯æ¯”è¾ƒå€¼å¾—è®°å½•çš„ä¸€äº›çŸ¥è¯†ç‚¹</p></blockquote><h3 id="ä¸€äº›çƒ¦äººçš„å°é—®é¢˜"><a href="#ä¸€äº›çƒ¦äººçš„å°é—®é¢˜" class="headerlink" title="ä¸€äº›çƒ¦äººçš„å°é—®é¢˜"></a>ä¸€äº›çƒ¦äººçš„å°é—®é¢˜</h3><ul><li><p>è¿›å…¥çš„æ—¶å€™é¡¹ç›®æŠ¥é”™ï¼šå¤§è‡´æ˜¯ç¼ºå°‘è¿™ä¸ªç‰ˆæœ¬çš„Gradleï¼Œæ¯”å¦‚è¯´ä»€ä¹ˆgradle 7.4.2 .ã€‚ã€‚ </p><p>è¿™ä¸ªæ—¶å€™éœ€è¦åœ¨gradleå½“ä¸­æ¢ä¸ªJavaç‰ˆæœ¬</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230510215245920.png" alt="image-20230510215245920"></p></li><li><p>åˆ›å»ºäº†æ–°çš„layoutæ–‡ä»¶åï¼Œ<code>R.layout.xxx</code>çˆ†çº¢æ‰¾ä¸åˆ°</p><p>å‘ç°å…¶ä»–çš„layoutæ–‡ä»¶æ­£å¸¸ï¼Œæ²¡æœ‰ä»€ä¹ˆé—®é¢˜ï¼Œé‚£å°±é‡å¯å§</p></li><li></li></ul><h3 id="æ•°æ®åº“ä¸Šæ‰‹ï¼š"><a href="#æ•°æ®åº“ä¸Šæ‰‹ï¼š" class="headerlink" title="æ•°æ®åº“ä¸Šæ‰‹ï¼š"></a>æ•°æ®åº“ä¸Šæ‰‹ï¼š</h3><h4 id="1-å®‰è£…litepalåº“ï¼ˆå‚è€ƒã€Šç¬¬ä¸€è¡Œä»£ç ã€‹ä¸­çš„æ•™ç¨‹ï¼‰"><a href="#1-å®‰è£…litepalåº“ï¼ˆå‚è€ƒã€Šç¬¬ä¸€è¡Œä»£ç ã€‹ä¸­çš„æ•™ç¨‹ï¼‰" class="headerlink" title="1. å®‰è£…litepalåº“ï¼ˆå‚è€ƒã€Šç¬¬ä¸€è¡Œä»£ç ã€‹ä¸­çš„æ•™ç¨‹ï¼‰"></a>1. å®‰è£…litepalåº“ï¼ˆå‚è€ƒã€Šç¬¬ä¸€è¡Œä»£ç ã€‹ä¸­çš„æ•™ç¨‹ï¼‰</h4><blockquote><p>è¿™é‡Œä¸»è¦è¯´ä¸‹é‡åˆ°çš„ä¸€äº›é—®é¢˜</p></blockquote><p><strong>æ³¨æ„ï¼šmanifestæ–‡ä»¶ä¸­<code>android:name=&quot;org.litepal.LitePalApplication&quot;</code>çˆ†çº¢çš„é—®é¢˜</strong></p><p>â€‹ä¸€å¼€å§‹å°è¯•æ·»åŠ åŒ…åï¼š</p><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs gradle">implementation <span class="hljs-string">&#x27;org.litepal.guolindev:core:3.2.0&#x27;</span><br></code></pre></td></tr></table></figure><p>ç»“æœæ˜¯ä¸è¡Œçš„ï¼Œå°è¯•äº†å¾ˆä¹…ï¼Œé¡¹ç›®é‡Œé¢æ ¹æœ¬å°±æ‰¾ä¸åˆ°litepalè¿™ä¸ªåŒ…ï¼Œå¹¶ä¸”åœ¨Javaé‡Œé¢è¾“å…¥ç›¸å…³çš„ç±»æˆ–è€…æ–¹æ³•éƒ½æ²¡æœ‰</p><p>è§£å†³æ–¹æ³•æ˜¯ç›´æ¥ä¸‹è½½LitePalçš„jaråŒ…ï¼Œå¹¶ä¸”æ”¾åˆ°app&#x2F;libsä¸‹ç›´æ¥å¯¼å…¥ä½¿ç”¨</p><p><a href="https://github.com/guolindev/LitePal#latest-downloads/">githubä¸‹è½½åœ°å€</a></p><p>æ‰¾åˆ°é‡Œé¢çš„<strong>download</strong>æ–‡ä»¶ä¸‹çš„éœ€è¦çš„ç‰ˆæœ¬çš„jaråŒ…ï¼Œä¸€èˆ¬æ˜¯<code>litepal-1.1.0-src.jar</code>è¿™æ ·çš„åå­—ï¼Œç›´æ¥æ”¾åˆ°é¡¹ç›®çš„app&#x2F;libså½“ä¸­</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230513100512061.png" alt="image-20230513100512061"></p><p>å¯¼å…¥æˆåŠŸåï¼Œè§£å†³çˆ†çº¢é—®é¢˜</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/%E8%81%94%E6%83%B3%E6%88%AA%E5%9B%BE_20230513111546.png" alt="è”æƒ³æˆªå›¾_20230513111546"></p><h4 id="2-ä½¿ç”¨adb-shellè¿›è¡Œæ•°æ®åº“è°ƒè¯•"><a href="#2-ä½¿ç”¨adb-shellè¿›è¡Œæ•°æ®åº“è°ƒè¯•" class="headerlink" title="2. ä½¿ç”¨adb shellè¿›è¡Œæ•°æ®åº“è°ƒè¯•"></a>2. ä½¿ç”¨adb shellè¿›è¡Œæ•°æ®åº“è°ƒè¯•</h4><p>æ‰¾åˆ°SDKä¸‹çš„adbæ–‡ä»¶æ‰€åœ¨ä½ç½®<code>\AndroidSDK\platform-tools</code>ï¼Œå¯ä»¥æ”¾å…¥ç³»ç»Ÿå˜é‡ï¼Œæ–¹ä¾¿è®¿é—®ã€‚</p><p>è¿™é‡Œå¯èƒ½ä¼šæœ‰<strong>Permission Denied</strong>çš„æç¤ºã€‚</p><p>å¯ä»¥è¾“å…¥suæŒ‡ä»¤ï¼Œæé«˜æƒé™</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230513105810582.png" alt="image-20230513105810582"></p><p>å¦‚æœsuæŒ‡ä»¤ä¸è¡Œæˆ–è€…ä¸å­˜åœ¨ï¼Œ æ¨¡æ‹Ÿå™¨é‚£é‡Œä¸è¦ä½¿ç”¨Google playçš„ï¼Œä½¿ç”¨Google APIçš„</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230513105810582.png"></p><p>æˆåŠŸè¿›å…¥åï¼Œè¿›å…¥è¯¥åŒ…ä¸‹çš„databaseï¼ŒæŸ¥çœ‹åˆ°æœ‰database.dbç±»ä¼¼åç¼€çš„æ–‡ä»¶</p><p>è¿›å…¥sqliteæ¨¡å¼</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230513114334687.png" alt="image-20230513114334687"></p><h4 id="3-æ‰¾åˆ°æ•°æ®åº“ä½ç½®ï¼ˆæ‰¾åˆ°sqliteçš„dbæ–‡ä»¶ï¼‰"><a href="#3-æ‰¾åˆ°æ•°æ®åº“ä½ç½®ï¼ˆæ‰¾åˆ°sqliteçš„dbæ–‡ä»¶ï¼‰" class="headerlink" title="3. æ‰¾åˆ°æ•°æ®åº“ä½ç½®ï¼ˆæ‰¾åˆ°sqliteçš„dbæ–‡ä»¶ï¼‰"></a>3. æ‰¾åˆ°æ•°æ®åº“ä½ç½®ï¼ˆæ‰¾åˆ°sqliteçš„dbæ–‡ä»¶ï¼‰</h4><p>å…ˆåœ¨android studioå½“ä¸­æ‰¾åˆ°File explorerï¼Œæ³¨æ„è¦å…ˆ<strong>å¼€å¯æ¨¡æ‹Ÿå™¨</strong></p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230513122254634.png" alt="image-20230513122254634"></p><p>ç„¶åæ‰¾åˆ° <code>data/data/com.example.mewsapppage/databases</code>åœ¨è¿™é‡Œå°±å¯ä»¥æ‰¾åˆ°æ•°æ®åº“dbåç¼€çš„æ–‡ä»¶ã€‚</p><p>å¯ä»¥åœ¨å…¶ä»–è½¯ä»¶å¤„æ‰“å¼€è¯¥æ–‡ä»¶ï¼Œæˆ–è€…ä½¿ç”¨android studioä¸­æ‰©å±•pluginå¤„ä¸‹è½½çš„<strong>database navigator</strong>ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚</p><p>è¯¥æ–‡ä»¶ç»å¯¹è·¯å¾„å³é”®save aså³å¯æ‰¾åˆ°</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/%E8%81%94%E6%83%B3%E6%88%AA%E5%9B%BE_20230513122453.png" alt="è”æƒ³æˆªå›¾_20230513122453"></p><h4 id="4-ä»å¤–éƒ¨å¯¼å…¥æ•°æ®åº“dbæ–‡ä»¶"><a href="#4-ä»å¤–éƒ¨å¯¼å…¥æ•°æ®åº“dbæ–‡ä»¶" class="headerlink" title="4. ä»å¤–éƒ¨å¯¼å…¥æ•°æ®åº“dbæ–‡ä»¶"></a>4. ä»å¤–éƒ¨å¯¼å…¥æ•°æ®åº“dbæ–‡ä»¶</h4><p>å¯å‚è€ƒä»¥ä¸‹æ–‡ç« </p><p><a href="https://www.jianshu.com/p/c745e69c2521">Android ä½¿ç”¨å¤–éƒ¨dbæ•°æ®åº“æ–‡ä»¶ - ç®€ä¹¦ (jianshu.com)</a></p><p>ç„¶åæ ¹æ®è‡ªå·±çš„éœ€æ±‚ç¨å¾®æ”¹ä¸€ä¸‹é‡Œé¢çš„ä»£ç ã€‚</p><p>å¦‚æœæ˜¯ç”¨Litepalé…ç½®å°±æ›´ç®€å•äº†ï¼Œlitepalé…ç½®å¥½ä¹‹åï¼Œç›´æ¥è°ƒç”¨å‡½æ•°å³å¯ã€‚</p><p>å‡½æ•°å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.example.newsapppage;<br><br><span class="hljs-keyword">import</span> java.io.File;<br><span class="hljs-keyword">import</span> java.io.FileOutputStream;<br><span class="hljs-keyword">import</span> java.io.InputStream;<br><span class="hljs-keyword">import</span> java.io.OutputStream;<br><br><span class="hljs-keyword">import</span> android.annotation.SuppressLint;<br><span class="hljs-keyword">import</span> android.content.Context;<br><span class="hljs-keyword">import</span> android.util.Log;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * å°†assetsä¸­çš„dbæ–‡ä»¶æ‹·è´åˆ°databasesä¸­</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DatabaseUtil</span> &#123;<br><br>    <span class="hljs-meta">@SuppressLint(&quot;SdCardPath&quot;)</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">packDataBase</span><span class="hljs-params">(Context context)</span>&#123;<br>        <span class="hljs-comment">// com.kinth.youdian æ˜¯ç¨‹åºçš„åŒ…åï¼Œè¯·æ ¹æ®è‡ªå·±çš„ç¨‹åºè°ƒæ•´</span><br>        <span class="hljs-comment">// /data/data/com.kinth.youdian/databasesç›®å½•æ˜¯å‡†å¤‡æ”¾ SQLite æ•°æ®åº“çš„åœ°æ–¹ï¼Œä¹Ÿæ˜¯ Android ç¨‹åºé»˜è®¤çš„æ•°æ®åº“å­˜å‚¨ç›®å½•</span><br>        <span class="hljs-comment">// æ•°æ®åº“åä¸º db_youdian.db</span><br>        <span class="hljs-type">String</span> <span class="hljs-variable">DB_PATH</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;/data/data/&quot;</span> + context.getPackageName() +<span class="hljs-string">&quot;/databases/&quot;</span>;<br>        <span class="hljs-type">String</span> <span class="hljs-variable">DB_NAME</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;NewsDemo.db&quot;</span>;<br><br>        <span class="hljs-comment">// æ£€æŸ¥ SQLite æ•°æ®åº“æ–‡ä»¶æ˜¯å¦å­˜åœ¨</span><br>            <span class="hljs-keyword">try</span> &#123;<br>                <span class="hljs-comment">// å¾—åˆ° assets ç›®å½•ä¸‹æˆ‘ä»¬å®ç°å‡†å¤‡å¥½çš„ SQLite æ•°æ®åº“ä½œä¸ºè¾“å…¥æµ</span><br>                <span class="hljs-type">InputStream</span> <span class="hljs-variable">is</span> <span class="hljs-operator">=</span> context.getAssets().open(DB_NAME);<br>                <span class="hljs-comment">// è¾“å‡ºæµ,åœ¨æŒ‡å®šè·¯å¾„ä¸‹ç”Ÿæˆdbæ–‡ä»¶</span><br>                <span class="hljs-type">OutputStream</span> <span class="hljs-variable">os</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">FileOutputStream</span>(DB_PATH + DB_NAME);<br>                Log.d(<span class="hljs-string">&quot;æ•°æ®åº“åç§°: &quot;</span>,DB_NAME);<br><br>                <span class="hljs-comment">// æ–‡ä»¶å†™å…¥</span><br>                <span class="hljs-type">byte</span>[] buffer = <span class="hljs-keyword">new</span> <span class="hljs-title class_">byte</span>[<span class="hljs-number">1024</span>];<br>                <span class="hljs-type">int</span> length;<br>                <span class="hljs-keyword">while</span> ((length = is.read(buffer)) &gt; <span class="hljs-number">0</span>) &#123;<br>                    os.write(buffer, <span class="hljs-number">0</span>, length);<br>                &#125;<br>                Log.d(<span class="hljs-string">&quot;æˆåŠŸï¼š&quot;</span>,<span class="hljs-string">&quot;successï¼&quot;</span>);<br>                <span class="hljs-comment">// å…³é—­æ–‡ä»¶æµ</span><br>                os.flush();<br>                os.close();<br>                is.close();<br>            &#125; <span class="hljs-keyword">catch</span> (Exception e) &#123;<br>                e.printStackTrace();<br>            &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="åœ¨Fragmentå½“ä¸­é…ç½®ä¾§æ»‘æ "><a href="#åœ¨Fragmentå½“ä¸­é…ç½®ä¾§æ»‘æ " class="headerlink" title="åœ¨Fragmentå½“ä¸­é…ç½®ä¾§æ»‘æ "></a>åœ¨Fragmentå½“ä¸­é…ç½®ä¾§æ»‘æ </h2><blockquote><p>è¿™é‡Œè¯´ä¸€ä¸‹åœ¨Fragmentå½“ä¸­é…ç½®ä¾§æ»‘æ </p><p>å› ä¸ºä¹‹å‰é…ç½®ä¾§æ»‘æ æ˜¯æ”¾åœ¨Activityå½“ä¸­çš„ï¼Œåé¢æ”¹æˆFragmentä¹‹åï¼Œé™¤äº†å¯¹ä»£ç ä½œäº†ä¸€å®šçš„ä¿®æ”¹ï¼Œè¿˜å‡ºç°äº†ä¸€äº›å…¶ä»–çš„é—®é¢˜</p></blockquote><h4 id="é—®é¢˜1-ç”¨findViewByIdï¼ˆï¼‰ç»‘å®šæ§ä»¶çš„æ–¹å¼è¦ç¨å¾®æ”¹ä¸‹"><a href="#é—®é¢˜1-ç”¨findViewByIdï¼ˆï¼‰ç»‘å®šæ§ä»¶çš„æ–¹å¼è¦ç¨å¾®æ”¹ä¸‹" class="headerlink" title="é—®é¢˜1.  ç”¨findViewByIdï¼ˆï¼‰ç»‘å®šæ§ä»¶çš„æ–¹å¼è¦ç¨å¾®æ”¹ä¸‹"></a>é—®é¢˜1.  ç”¨findViewByIdï¼ˆï¼‰ç»‘å®šæ§ä»¶çš„æ–¹å¼è¦ç¨å¾®æ”¹ä¸‹</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//åŸæœ¬åº”è¯¥æ˜¯</span><br>activity.findViewById(R.id.xxx);<br><span class="hljs-comment">//åº”è¯¥æ”¹æˆ</span><br>view.findViewById(R.id.xx);<br></code></pre></td></tr></table></figure><p>è€Œè¿™é‡Œçš„Viewæ˜¯åœ¨Fragmentå½“ä¸­çš„onCreateViewï¼ˆï¼‰å½“ä¸­è·å¾—çš„</p><p>è·å¾—æ–¹æ³•ä¾‹å¦‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java">view = inflater.inflate(R.layout.fragment_main_left, container, <span class="hljs-literal">false</span>);<br><br></code></pre></td></tr></table></figure><p>ä½†æ˜¯ï¼Œå‡è®¾æ“ä½œçš„æ—¶å€™æ˜¯åœ¨<strong>å…¶ä»–ç±»é‡Œé¢</strong>ï¼š</p><p>è€Œå¦‚æœæƒ³è¦é€šè¿‡Activityæˆ–è€…Fragmentæ¥<code>getViewï¼ˆï¼‰</code>è·å–è¿™ä¸ªviewï¼Œ</p><p>åˆ™ä¸€å®šè¦<strong>æ³¨æ„</strong>ä¸èƒ½åœ¨Fragementçš„<code>onCreateView</code>ï¼ˆï¼‰æ–¹æ³•ä¸­å»æ‰§è¡Œ<code>getViewï¼ˆï¼‰</code></p><p>å¦åˆ™ä¼šæŠ¥é”™è·å–çš„æ§ä»¶ä¸ºç©ºæŒ‡é’ˆã€‚</p><p>æŠ¥é”™å¦‚ä¸‹ï¼š<code>&#39;xxxxxxxæ§ä»¶&#39; on a null object reference</code></p>]]></content>
    
    
    <categories>
      
      <category>æœ¬ç§‘</category>
      
      <category>å¤§ä¸‰ä¸‹</category>
      
      <category>ç§»åŠ¨äº’è”ç½‘ç¼–ç¨‹</category>
      
    </categories>
    
    
    <tags>
      
      <tag>android</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Androidå®ç°ä¸€ä¸ªç®€æ˜“çš„æ–°é—»åˆ—è¡¨APPï¼ˆTabLayouut + ViewPager + Fragmentï¼‰</title>
    <link href="/2023/04/22/%E6%9C%AC%E7%A7%91/%E5%A4%A7%E4%B8%89%E4%B8%8B/%E7%A7%BB%E5%8A%A8%E4%BA%92%E8%81%94%E7%BD%91%E7%BC%96%E7%A8%8B/Android%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E7%AE%80%E6%98%93%E7%9A%84%E6%96%B0%E9%97%BB%E5%88%97%E8%A1%A8APP%EF%BC%88TabLayout+ViewPager+Fragment%EF%BC%89/"/>
    <url>/2023/04/22/%E6%9C%AC%E7%A7%91/%E5%A4%A7%E4%B8%89%E4%B8%8B/%E7%A7%BB%E5%8A%A8%E4%BA%92%E8%81%94%E7%BD%91%E7%BC%96%E7%A8%8B/Android%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E7%AE%80%E6%98%93%E7%9A%84%E6%96%B0%E9%97%BB%E5%88%97%E8%A1%A8APP%EF%BC%88TabLayout+ViewPager+Fragment%EF%BC%89/</url>
    
    <content type="html"><![CDATA[<h1 id="Androidå®ç°ä¸€ä¸ªç®€æ˜“çš„æ–°é—»åˆ—è¡¨APPï¼ˆTabLayout-ViewPager-Fragmentï¼‰"><a href="#Androidå®ç°ä¸€ä¸ªç®€æ˜“çš„æ–°é—»åˆ—è¡¨APPï¼ˆTabLayout-ViewPager-Fragmentï¼‰" class="headerlink" title="Androidå®ç°ä¸€ä¸ªç®€æ˜“çš„æ–°é—»åˆ—è¡¨APPï¼ˆTabLayout+ViewPager+Fragmentï¼‰"></a>Androidå®ç°ä¸€ä¸ªç®€æ˜“çš„æ–°é—»åˆ—è¡¨APPï¼ˆTabLayout+ViewPager+Fragmentï¼‰</h1><p>[TOC]</p><blockquote><p>å¼€å‘è¯­è¨€ï¼šJava</p><p>å¼€å‘å·¥å…·ï¼šAndroid Studio</p><p>ç”¨åˆ°çš„ä¸€äº›æ§ä»¶ï¼ŒåŠŸèƒ½ï¼š</p><p>Tablayoutï¼ŒViewPagerï¼ˆæ»‘åŠ¨åˆ‡æ¢èœå•åŠŸèƒ½ï¼‰ï¼ŒNavigationï¼ŒToolBar</p><p><strong>éœ€è¦çš„å¤–éƒ¨åŒ…</strong>ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> androidx.fragment.app.Fragment;<br><span class="hljs-keyword">import</span> androidx.fragment.app.FragmentManager;<br><span class="hljs-keyword">import</span> androidx.fragment.app.FragmentPagerAdapter;<br></code></pre></td></tr></table></figure><p>æ³¨æ„ï¼ï¼ï¼è¿™é‡Œå¯èƒ½æœ‰çš„äººç‰ˆæœ¬æ˜¯support-v4å¯¹åº”çš„åŒ…</p><p>æ·»åŠ äº†support-v4çš„åŒ…åå‘ç°build.gradleï¼ˆGradle Scriptsæ–‡ä»¶å¤¹ä¸‹ï¼‰æœ‰æŠ¥é”™ï¼Œ</p><p>æŠ¥é”™å†…å®¹ç±»ä¼¼<code>Version 28 (intended for Android Pie and below) is the last version of the legacy support library</code></p><p>è¿™æ˜¯å› ä¸ºå½“å‰çš„ASå·²ç»ä¸æ”¯æŒè¿™äº›æ—§çš„åŒ…ï¼Œå› æ­¤å¯ä»¥å°†support-v4è¿ç§»åˆ°AndroidXï¼Œå…·ä½“æ–¹æ³•å‚è€ƒä¸‹é¢çš„æ–‡ç« æˆ–è€…è‡ªè¡Œæœç´¢ï¼š</p><p><a href="https://blog.csdn.net/lfdfhl/article/details/105269551">(174æ¡æ¶ˆæ¯) Version 28 (intended for Android Pie and below) is the last version of the legacy support library_è°·å“¥çš„å°å¼Ÿçš„åšå®¢-CSDNåšå®¢</a></p><p>ä»£ç çš„<strong>æºç ä»“åº“</strong>åœ°å€ä¸º</p><p><a href="https://github.com/Cheesheep/AndroidExp2-News-App/tree/master">Cheesheep&#x2F;AndroidExp2-News-App at master (github.com)</a></p></blockquote><h2 id="1-å®ç°å†…å®¹ä»¥åŠæ•ˆæœ"><a href="#1-å®ç°å†…å®¹ä»¥åŠæ•ˆæœ" class="headerlink" title="1.å®ç°å†…å®¹ä»¥åŠæ•ˆæœ"></a>1.å®ç°å†…å®¹ä»¥åŠæ•ˆæœ</h2><p>å…ˆæ”¾å‡ºæœ€ç»ˆçš„<strong>å®ç°æ•ˆæœ</strong>ï¼š</p><ul><li><p>é¦–é¡µæ˜¯å›½é™…æ–°é—»åˆ—è¡¨ï¼Œæ€»å…±æœ‰å››ä¸ªèœå•</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230422151217835.png" alt="image-20230422151217835"></p></li><li><p>å¯ä»¥é€šè¿‡<strong>æ»‘åŠ¨æˆ–ç‚¹å‡»</strong>åˆ‡æ¢åˆ°å…¶ä»–èœå•ï¼Œå¯ä»¥çœ‹åˆ°ä¸åŒé¡µé¢çš„åˆ—è¡¨æœ‰ä¸€å®šçš„å·®å¼‚</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230422151529248.png" alt="image-20230422151529248"></p></li><li><p>ç‚¹å‡»æŸ¥çœ‹å…¶ä¸­ä¸€ç¯‡æ–‡ç« ï¼Œå¯ä»¥çœ‹åˆ°æœ¬åœ°æ˜¯åŠ è½½äº†ä¸€ç¯‡çº¯æ–‡æœ¬çš„å†…å®¹</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230422151800242.png" alt="image-20230422151800242"></p></li><li><p>ç‚¹å‡»å³ä¸Šè§’çš„èœå•åˆ—è¡¨ï¼Œæœ‰å¦å¤–ä¸¤ç§æŸ¥çœ‹è¯¥æ–‡ç« çš„æ–¹å¼ï¼Œé€‰æ‹©<strong>é˜…è¯»åŸæ–‡</strong></p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230422151907617.png" alt="image-20230422151907617"></p><p>æ¥ç€åœ¨appå†…æ˜¾ç¤ºå‡ºåŸæ–‡æ‰€åœ¨çš„ç½‘é¡µ</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230422152926285.png" alt="image-20230422152926285"></p><p>å†æ¬¡ç‚¹å‡»<strong>å³ä¸Šè§’èœå•</strong>å¯ä»¥é€‰æ‹©é‡æ–°æ˜¾ç¤ºæœ¬åœ°çš„æ–‡ç« </p><p>å¦‚æœé€‰æ‹©æµè§ˆå™¨æ‰“å¼€ï¼Œå°±ä¼š<strong>è·³è½¬åˆ°æµè§ˆå™¨</strong>å¹¶ä¸”æ˜¾ç¤ºè¯¥ç½‘é¡µ</p></li><li><p>å›åˆ°ä¸»é¡µé¢ï¼Œå·¦åˆ’æˆ–è€…ç‚¹å‡»å·¦ä¸Šè§’å³å¯æ˜¾ç¤ºæ»‘åŠ¨èœå•æ </p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230422153049656.png" alt="image-20230422153049656"></p><p>æ‰“å¼€åè¿™é‡Œæ”¾äº†ä¸€äº›ä¸ªäººé¡µé¢çš„ä¿¡æ¯</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/%E8%81%94%E6%83%B3%E6%88%AA%E5%9B%BE_20230422153131.png" alt="è”æƒ³æˆªå›¾_20230422153131"></p><p>ä¸è¿‡èœå•ä¸Šé¢çš„åŠŸèƒ½éƒ½æ²¡æœ‰å®ç°ï¼Œåªæ˜¯åšäº†æ ·å¼ï¼ŒåŒ…æ‹¬é¡¶éƒ¨çš„åˆ†äº«å’Œä¸ªäººé¡µé¢æŒ‰é’®ä¹Ÿæ˜¯</p></li></ul><h2 id="2-å®ç°ä»£ç "><a href="#2-å®ç°ä»£ç " class="headerlink" title="2. å®ç°ä»£ç "></a>2. å®ç°ä»£ç </h2><h3 id="2-1-é¡¶éƒ¨èœå•æ ä»¥åŠä¾§æ»‘æ å®ç°ï¼ˆToolbarï¼‰"><a href="#2-1-é¡¶éƒ¨èœå•æ ä»¥åŠä¾§æ»‘æ å®ç°ï¼ˆToolbarï¼‰" class="headerlink" title="2.1 é¡¶éƒ¨èœå•æ ä»¥åŠä¾§æ»‘æ å®ç°ï¼ˆToolbarï¼‰"></a>2.1 é¡¶éƒ¨èœå•æ ä»¥åŠä¾§æ»‘æ å®ç°ï¼ˆToolbarï¼‰</h3><blockquote><p>é¡¶éƒ¨èœå•æ çš„æ•ˆæœå¦‚å›¾</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230422164518062.png" alt="image-20230422164518062"></p><p>æ¶‰åŠåˆ°çš„é…ç½®æ–‡ä»¶ï¼š</p><ul><li><p>activity_main.xml ï¼šä¸»æ´»åŠ¨é¡µé¢</p></li><li><p>toolbar_menuï¼šèœå•æ å›¾æ ‡ï¼ˆå³ä¾§çš„åˆ†äº«å’Œä¸ªäººé¡µé¢çš„logoï¼‰</p></li><li><p>nav_header,xml ï¼šä¾§æ»‘æ çš„å¤´éƒ¨ä¿¡æ¯ï¼ˆå¤´åƒï¼Œæ˜µç§°ï¼Œè”ç³»æ–¹å¼ï¼‰</p></li><li><p>left_drawer.xmlï¼šä¾§æ»‘æ çš„èœå•å†…å®¹</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/%E8%81%94%E6%83%B3%E6%88%AA%E5%9B%BE_20230422153131.png" alt="è”æƒ³æˆªå›¾_20230422153131"></p><p>ä¾§æ»‘æ å¦‚ä¸Š</p></li><li><p>Javaæ´»åŠ¨æ–‡ä»¶ï¼š</p><p><strong>MainActivity.java</strong> :å…¨éƒ¨é€»è¾‘åŠŸèƒ½ä»£ç éƒ½åœ¨è¯¥æ´»åŠ¨å½“ä¸­</p></li></ul></blockquote><h4 id="2-1-1-å¯¼å…¥å¯¼èˆªæ ä¾èµ–"><a href="#2-1-1-å¯¼å…¥å¯¼èˆªæ ä¾èµ–" class="headerlink" title="2.1.1 å¯¼å…¥å¯¼èˆªæ ä¾èµ–"></a>2.1.1 å¯¼å…¥å¯¼èˆªæ ä¾èµ–</h4><p>å¯¼å…¥â€NavigationViewâ€œçš„ä¾èµ–</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml">implementation &#x27;com.android.support:design:29.0.1&#x27;<br></code></pre></td></tr></table></figure><h4 id="2-1-2-é…ç½®toolbarèœå•æ å¸ƒå±€æ–‡ä»¶"><a href="#2-1-2-é…ç½®toolbarèœå•æ å¸ƒå±€æ–‡ä»¶" class="headerlink" title="2.1.2 é…ç½®toolbarèœå•æ å¸ƒå±€æ–‡ä»¶"></a>2.1.2 é…ç½®toolbarèœå•æ å¸ƒå±€æ–‡ä»¶</h4><p>å…³äºtoolbarçš„å„ç§è®¾ç½®ï¼Œå¯ä»¥å‚è€ƒä»¥ä¸‹æ–‡ç« </p><p><a href="https://blog.csdn.net/qq_42324086/article/details/117390236">(174æ¡æ¶ˆæ¯) Android Toolbarçš„ä½¿ç”¨è¯¦è§£_æš—æ‹èŠ±é¦™çš„åšå®¢-CSDNåšå®¢</a></p><p><strong>è®¾ç½®ä¸ºNoActionBar</strong>ï¼š</p><p>è¦ä½¿ç”¨toolbarï¼Œé¦–å…ˆè¦å»æ‰ç³»ç»Ÿé»˜è®¤è®¾ç½®çš„ActionBar</p><p>åœ¨AndroidManifest.xmlæ–‡ä»¶å½“ä¸­å¯ä»¥è®¾ç½®æ´»åŠ¨çš„ä¸»é¢˜ï¼Œæˆ‘ä»¬æ–°å»ºä¸€ä¸ªNoActionBarçš„ä¸»é¢˜ï¼Œå¹¶ä¸”ç»™æˆ‘ä»¬éœ€è¦é…ç½®toolBarçš„é¡µé¢èµ‹äºˆè¿™ä¸ªä¸»é¢˜å³å¯</p><p><strong>AndroidManifest.xml</strong></p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230422162635485.png" alt="image-20230422162635485"></p><p><strong>themes.xml</strong></p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230422164201720.png" alt="image-20230422164201720"></p><p>æœ€å³è¾¹æ˜¯noActionBarï¼Œå†…å®¹è®¾ç½®äº†toolbarçš„èƒŒæ™¯é¢œè‰²ç­‰ç­‰</p><p><strong>é…ç½®toolBar</strong></p><p>éœ€è¦åœ¨<code>activity_main.xml</code>æ–‡ä»¶å½“ä¸­æ”¾å…¥toolBarï¼Œå› ä¸ºæ˜¯åœ¨é¦–é¡µä¸»æ´»åŠ¨æ”¾ç½®toolBar</p><p><strong>activity_main.xmléƒ¨åˆ†ä»£ç </strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--    é¡¶éƒ¨èœå•æ toolBar--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">androidx.appcompat.widget.Toolbar</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:id</span>=<span class="hljs-string">&quot;@+id/my_toolbar&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">&quot;match_parent&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">&quot;?attr/actionBarSize&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:background</span>=<span class="hljs-string">&quot;?attr/colorPrimary&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">app:titleTextColor</span>=<span class="hljs-string">&quot;@color/white&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:elevation</span>=<span class="hljs-string">&quot;4dp&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:theme</span>=<span class="hljs-string">&quot;@style/ThemeOverlay.AppCompat.ActionBar&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">app:popupTheme</span>=<span class="hljs-string">&quot;@style/ThemeOverlay.AppCompat.Light&quot;</span>/&gt;</span><br></code></pre></td></tr></table></figure><p>é™¤äº†åœ¨æ´»åŠ¨å¸ƒå±€æ–‡ä»¶ä¸­æ”¾ç½®toolbarï¼Œè¿˜éœ€è¦ä¸€ä¸ªèœå•å›¾æ ‡æ–‡ä»¶</p><p><strong>toolbar_menu.xml</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;utf-8&quot;</span>?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">menu</span> <span class="hljs-attr">xmlns:android</span>=<span class="hljs-string">&quot;http://schemas.android.com/apk/res/android&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">xmlns:app</span>=<span class="hljs-string">&quot;http://schemas.android.com/apk/res-auto&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">item</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:id</span>=<span class="hljs-string">&quot;@+id/tool_msg&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:icon</span>=<span class="hljs-string">&quot;@drawable/share&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:orderInCategory</span>=<span class="hljs-string">&quot;80&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:title</span>=<span class="hljs-string">&quot;edit&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">app:showAsAction</span>=<span class="hljs-string">&quot;ifRoom|withText&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">item</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:id</span>=<span class="hljs-string">&quot;@+id/tool_user&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:icon</span>=<span class="hljs-string">&quot;@drawable/personal&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:orderInCategory</span>=<span class="hljs-string">&quot;80&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:title</span>=<span class="hljs-string">&quot;share&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">app:showAsAction</span>=<span class="hljs-string">&quot;ifRoom|withText&quot;</span> /&gt;</span><br><span class="hljs-comment">&lt;!--    åé¢æœ‰æ›´å¤šçš„itemå¦‚æœæ”¾ä¸ä¸‹å°±ä¼šè¿›å…¥èœå•æ --&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">menu</span>&gt;</span><br></code></pre></td></tr></table></figure><p>è¿™é‡Œçš„é…ç½®å’ŒactionBarçš„menuç»˜åˆ¶æ–¹æ³•ç±»ä¼¼ï¼Œå”¯ä¸€åŒºåˆ«å°±æ˜¯<code>app:showAsAction</code>ä¸åŒï¼Œè¯¥å±æ€§æ˜¯Toolbarå½“ä¸­å¾ˆå…³é”®çš„å±æ€§</p><p>å…¶ä¸­å››ä¸ªä¸åŒçš„å€¼çš„ä½œç”¨åˆ†åˆ«å¦‚ä¸‹ï¼š</p><p>1ï¼‰alwaysï¼šè¿™ä¸ªå€¼ä¼šä½¿èœå•é¡¹ä¸€ç›´æ˜¾ç¤ºåœ¨ ToolBarä¸Šã€‚<br>2ï¼‰ifRoomï¼šå¦‚æœæœ‰è¶³å¤Ÿçš„ç©ºé—´ï¼Œè¿™ä¸ªå€¼ä¼šä½¿èœå•é¡¹æ˜¾ç¤ºåœ¨ Tool Barä¸Šã€‚<br>3ï¼‰neverï¼šè¿™ä¸ªå€¼ä¼šä½¿èœå•é¡¹æ°¸è¿œéƒ½ä¸å‡ºç°åœ¨ ToolBarä¸Šã€‚<br>4ï¼‰withTextï¼šè¿™ä¸ªå€¼ä¼šä½¿èœå•é¡¹å’Œå®ƒçš„å›¾æ ‡ã€èœå•æ–‡æœ¬ä¸€èµ·æ˜¾ç¤ºã€‚ä¸€èˆ¬å’ŒifRoomä¸€èµ·é€šè¿‡â€œ|â€ä½¿ç”¨<br>app:showAsAction å±æ€§å€¼ä¸º ifRoom|withTextï¼Œè¡¨ç¤ºå¦‚æœæœ‰ç©ºé—´ï¼Œé‚£ä¹ˆå°±è¿åŒæ–‡å­—ä¸€èµ·æ˜¾ç¤ºåœ¨æ ‡é¢˜æ ä¸­ï¼Œå¦åˆ™å°±æ˜¾ç¤ºåœ¨èœå•æ ä¸­ã€‚<br>è€Œå½“app:showAsAction å±æ€§å€¼ä¸º neveræ—¶ï¼Œè¯¥é¡¹ä½œç”¨ä¸ºMenuä¸æ˜¾ç¤ºåœ¨èœå•ç»„ä»¶ä¸­ã€‚</p><p>è¿™ä¸ªæ–‡ä»¶åé¢æˆ‘ä»¬ä¼šåœ¨<strong>activityçš„Javaä»£ç </strong>å½“ä¸­å†™å…¥å¹¶ä¸”è¿æ¥ä¸Š</p><p><strong>MainActivity.java</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java">myToolbar.inflateMenu(R.menu.toolbar_menu);<br></code></pre></td></tr></table></figure><h4 id="2-1-3-é…ç½®ä¾§æ»‘æ çš„xmlå¸ƒå±€æ–‡ä»¶"><a href="#2-1-3-é…ç½®ä¾§æ»‘æ çš„xmlå¸ƒå±€æ–‡ä»¶" class="headerlink" title="2.1.3 é…ç½®ä¾§æ»‘æ çš„xmlå¸ƒå±€æ–‡ä»¶"></a>2.1.3 é…ç½®ä¾§æ»‘æ çš„xmlå¸ƒå±€æ–‡ä»¶</h4><p>æ·»åŠ NavigationViewç»„ä»¶</p><p>ï¼ˆè¦ä½¿ç”¨è¯¥ç»„ä»¶éœ€è¦ä»å¤–éƒ¨å¯¼å…¥designåŒ…ï¼Œåœ¨å‰é¢æœ‰æåˆ°å¯¼å…¥çš„å…·ä½“çš„åŒ…ï¼‰</p><p>å°†è¯¥ç»„ä»¶æ·»åŠ åˆ°toolbaræ‰€åœ¨çš„æ´»åŠ¨çš„é¡µé¢å½“ä¸­ï¼Œè¿™é‡Œå°±æ˜¯activity_main.xml</p><p><strong>activity_main.xmléƒ¨åˆ†ä»£ç </strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;utf-8&quot;</span>?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">androidx.drawerlayout.widget.DrawerLayout</span></span><br><span class="hljs-tag">    <span class="hljs-attr">xmlns:android</span>=<span class="hljs-string">&quot;http://schemas.android.com/apk/res/android&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">xmlns:app</span>=<span class="hljs-string">&quot;http://schemas.android.com/apk/res-auto&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:id</span>=<span class="hljs-string">&quot;@+id/drawer_layout&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">&quot;match_parent&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">&quot;match_parent&quot;</span>&gt;</span><br><br>    --------<br>    è¿™é‡Œæ˜¯è¯¥é¡µé¢çš„å…¶ä»–å¸ƒå±€æ–‡ä»¶ï¼Œå¯ä»¥å°†æ•´ä¸ªå¸ƒå±€æ–‡ä»¶ä»£ç æ”¾è¿›å»ä¹Ÿæ˜¯å¯ä»¥çš„<br>    <br>    --------<br>    <br><span class="hljs-comment">&lt;!--å·¦ä¾§å¯¼èˆªèœå•--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">com.google.android.material.navigation.NavigationView</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:id</span>=<span class="hljs-string">&quot;@+id/nav_view&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">&quot;wrap_content&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">&quot;match_parent&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:layout_gravity</span>=<span class="hljs-string">&quot;start&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:background</span>=<span class="hljs-string">&quot;@color/colorPrimary&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">app:headerLayout</span>=<span class="hljs-string">&quot;@layout/nav_header&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">app:menu</span>=<span class="hljs-string">&quot;@menu/left_drawer&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">androidx.drawerlayout.widget.DrawerLayout</span>&gt;</span><br></code></pre></td></tr></table></figure><p>è¿™ä¸ªèœå•æ ç”±äºæ˜¯ä¾§æ»‘å‡ºç°çš„ï¼Œæ‰€ä»¥æ”¾åœ¨æ•´ä¸ªå¸ƒå±€çš„æœ€å¤–é¢ï¼Œå¹¶ä¸”éœ€è¦ç”¨<code>DrawerLayout</code>åŒ…è£¹</p><p>æ³¨æ„çœ‹ä¸‹é¢ä¸¤ä¸ªappçš„å±æ€§<code>app:headerLayout</code>å’Œ<code>app:menu</code></p><p>é™¤æ­¤ä¹‹å¤–éœ€è¦æ–°å»ºä¸¤ä¸ªæ–‡ä»¶ï¼Œä¸€ä¸ªæ˜¯å¤´éƒ¨çš„ä»£ç ï¼Œä¸€ä¸ªæ˜¯èœå•çš„éƒ¨åˆ†</p><p><strong>nav_header.xml</strong></p><p>è¿™é‡Œä»£ç å°±ä¸å…¨éƒ¨æ”¾å‡ºæ¥äº†ï¼Œç»™å‡ºæ•ˆæœ</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230422181842842.png" alt="image-20230422181842842"></p><p><strong>left_drawer.xml</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;utf-8&quot;</span>?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">menu</span> <span class="hljs-attr">xmlns:app</span>=<span class="hljs-string">&quot;http://schemas.android.com/apk/res-auto&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">xmlns:android</span>=<span class="hljs-string">&quot;http://schemas.android.com/apk/res/android&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">item</span></span><br><span class="hljs-tag">            <span class="hljs-attr">android:id</span>=<span class="hljs-string">&quot;@+id/navigation_item_user&quot;</span></span><br><span class="hljs-tag">            <span class="hljs-attr">android:title</span>=<span class="hljs-string">&quot;ç”¨æˆ·ä¸­å¿ƒ&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">item</span></span><br><span class="hljs-tag">            <span class="hljs-attr">android:id</span>=<span class="hljs-string">&quot;@+id/navigation_item_setting&quot;</span></span><br><span class="hljs-tag">            <span class="hljs-attr">android:title</span>=<span class="hljs-string">&quot;ç”¨æˆ·è®¾ç½®&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">item</span></span><br><span class="hljs-tag">            <span class="hljs-attr">android:id</span>=<span class="hljs-string">&quot;@+id/navigation_item_about&quot;</span></span><br><span class="hljs-tag">            <span class="hljs-attr">android:title</span>=<span class="hljs-string">&quot;å…³äºæˆ‘ä»¬&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">item</span></span><br><span class="hljs-tag">            <span class="hljs-attr">android:id</span>=<span class="hljs-string">&quot;@+id/navigation_item_logout&quot;</span></span><br><span class="hljs-tag">            <span class="hljs-attr">android:title</span>=<span class="hljs-string">&quot;æ³¨é”€&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">menu</span>&gt;</span><br></code></pre></td></tr></table></figure><p>è¿™ä¸ªæ˜¯èœå•æ çš„é¡µé¢ï¼Œé¢„è§ˆçš„æ•ˆæœå’Œæœ€ç»ˆå®ç°çš„æ•ˆæœæ˜¯<strong>æœ‰å·®å¼‚çš„</strong>ï¼Œä¸éœ€è¦ä»¥é¢„è§ˆçš„é‚£ä¸ªæ•ˆæœä¸ºå‡†ã€‚</p><p>å°†nav_headerå’Œleft_drawerç»“åˆä¹‹åï¼Œæ•ˆæœå›¾ç‰‡åœ¨ä¸Šé¢æœ‰æ˜¾ç¤ºã€‚</p><h4 id="2-1-4-Javaé€»è¾‘ä»£ç å®ç°"><a href="#2-1-4-Javaé€»è¾‘ä»£ç å®ç°" class="headerlink" title="2.1.4 Javaé€»è¾‘ä»£ç å®ç°"></a>2.1.4 Javaé€»è¾‘ä»£ç å®ç°</h4><p>å¸ƒå±€æ–‡ä»¶å†™å¥½åï¼Œå°±æ˜¯åœ¨Activityæ´»åŠ¨å½“ä¸­å»å®ç°æˆ‘ä»¬çš„ç‚¹å‡»äº‹ä»¶ï¼Œä»¥åŠä¸€äº›ç»„ä»¶çš„è¿æ¥ï¼Œå¸ƒå±€çš„è®¾ç½®å…¶ä»–ç­‰ç­‰ã€‚</p><p>è¿™é‡Œå¯¹åº”çš„Javaä»£ç <strong>å…¨éƒ¨éƒ½åœ¨MainActivity.java</strong>å½“ä¸­</p><p>ToolBarå’Œä¾§è¾¹æ çš„åˆå§‹åŒ–éƒ½åœ¨MainActivityçš„<code>initToolBarView()</code>æ–¹æ³•å½“ä¸­</p><p><strong>åˆå§‹åŒ–Toolbar</strong>ï¼š</p><p><strong>MainActivity.java</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">initToolBarView</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-type">Toolbar</span> <span class="hljs-variable">myToolbar</span> <span class="hljs-operator">=</span> findViewById(R.id.my_toolbar);<br>    drawer_layout = findViewById(R.id.drawer_layout);<br>    <span class="hljs-comment">//å°†å›¾æ ‡èœå•æ–‡ä»¶æ·»åŠ åˆ°toolbarå½“ä¸­</span><br>    myToolbar.inflateMenu(R.menu.toolbar_menu);<br>    myToolbar.setTitle(<span class="hljs-string">&quot;Hello News&quot;</span>);<br>    <span class="hljs-comment">//ToolBarçš„èœå•çš„ç‚¹å‡»äº‹ä»¶</span><br>    myToolbar.setOnMenuItemClickListener(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Toolbar</span>.OnMenuItemClickListener() &#123;<br>        <span class="hljs-meta">@Override</span><br>        <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">onMenuItemClick</span><span class="hljs-params">(MenuItem item)</span> &#123;<br>            <span class="hljs-keyword">switch</span> (item.getItemId())&#123;<br>                <span class="hljs-keyword">default</span>:<br>                    Toast.makeText(MainActivity.<span class="hljs-built_in">this</span>, <span class="hljs-string">&quot;èœå•æ åŠŸèƒ½å°šæœªå¼€å‘&quot;</span>, Toast.LENGTH_SHORT).show();<br>            &#125;<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>        &#125;<br>    &#125;);<br></code></pre></td></tr></table></figure><p>é€šè¿‡<code>inflateMenuï¼ˆï¼‰</code>å°†å³ä¾§çš„èœå•å›¾æ ‡æ·»åŠ åˆ°toolbarå½“ä¸­ã€‚</p><p>ç„¶åè®¾ç½®è¿™äº›å›¾æ ‡çš„ç‚¹å‡»äº‹ä»¶ï¼Œåªä¸è¿‡è¿™é‡Œæˆ‘æ²¡æœ‰å»å†™å¯¹åº”çš„åŠŸèƒ½ï¼Œè¦ç”¨åˆ°çš„è¯ï¼Œè¯†åˆ«itemå½“ä¸­çš„idå³å¯ã€‚</p><p><strong>ç›‘å¬æ‰“å¼€ä¾§æ»‘æ çš„æŒ‰é’®</strong>ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//é…ç½®ä¾§æ»‘æ ï¼Œå¹¶ä¸”ç›‘å¬ç‚¹å‡»äº‹ä»¶</span><br>myToolbar.setNavigationIcon(R.drawable.left_nav);<br><span class="hljs-comment">//æ‰“å¼€ä¾§æ»‘æ çš„ç›‘å¬äº‹ä»¶</span><br>myToolbar.setNavigationOnClickListener(<span class="hljs-keyword">new</span> <span class="hljs-title class_">View</span>.OnClickListener() &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onClick</span><span class="hljs-params">(View view)</span> &#123;<br>        drawer_layout.openDrawer(GravityCompat.START);<br>    &#125;<br>&#125;);<br></code></pre></td></tr></table></figure><p>è¿™æ ·å°±å¯ä»¥é€šè¿‡ç‚¹å‡»æ‰“å¼€ä¾§æ»‘æ äº†ã€‚</p><p>ç„¶åæ˜¯ä¾§æ»‘æ çš„æŒ‰é’®çš„ç›‘å¬è®¾ç½®</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs Java"><span class="hljs-comment">//ä¾§æ»‘æ é‡Œé¢çš„èœå•çš„ç›‘å¬äº‹ä»¶</span><br><span class="hljs-type">NavigationView</span> <span class="hljs-variable">mNavigationView</span> <span class="hljs-operator">=</span> findViewById(R.id.nav_view);<br>mNavigationView.setNavigationItemSelectedListener(<span class="hljs-keyword">new</span> <span class="hljs-title class_">NavigationView</span>.OnNavigationItemSelectedListener() &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">onNavigationItemSelected</span><span class="hljs-params">(<span class="hljs-meta">@NonNull</span> MenuItem item)</span> &#123;<br>        <span class="hljs-comment">//ä¾§æ»‘æ ä¸­èœå•çš„ç‚¹å‡»äº‹ä»¶</span><br>    &#125;<br><br>&#125;);<br></code></pre></td></tr></table></figure><p>è¿™æ ·å°±å®Œæˆäº†toolbarçš„ä»£ç äº†</p><hr><p><strong>æ³¨æ„äº‹é¡¹</strong>ï¼ï¼š</p><p><strong>æƒ³è®©Toolbaræœ¬èº«çš„inflateMenuç”Ÿæ•ˆï¼Œåˆ™å¿…é¡»åˆ å»ä»¥ä¸‹ç±»ä¼¼ä»£ç ï¼ï¼ï¼</strong></p><p>ä¸ç„¶ä¼šç”±äºåŒæ—¶ä½¿ç”¨äº†ActionBarå¯¼è‡´å¤±æ•ˆ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"> <span class="hljs-comment">//è®¾ç½®ä¾§è¾¹æ </span><br>setSupportActionBar(myToolbar);<br>setTitle(<span class="hljs-string">&quot;Top News&quot;</span>);<span class="hljs-comment">//è®¾ç½®æ ‡é¢˜åç§°</span><br>getSupportActionBar().setDisplayHomeAsUpEnabled(<span class="hljs-literal">true</span>);<span class="hljs-comment">//è®¾ç½®å·¦è¾¹homeé”®</span><br>getSupportActionBar().setHomeAsUpIndicator(R.drawable.left_nav);<span class="hljs-comment">//æ›´æ¢homeé”®æ ·å¼</span><br><br></code></pre></td></tr></table></figure><h3 id="2-2-å¯¼èˆªæ å®ç°ï¼ˆTabLayout-ViewPager-Fragmentï¼‰"><a href="#2-2-å¯¼èˆªæ å®ç°ï¼ˆTabLayout-ViewPager-Fragmentï¼‰" class="headerlink" title="2.2 å¯¼èˆªæ å®ç°ï¼ˆTabLayout + ViewPager + Fragmentï¼‰"></a>2.2 å¯¼èˆªæ å®ç°ï¼ˆTabLayout + ViewPager + Fragmentï¼‰</h3><blockquote><p>å¯¼èˆªæ ä½¿ç”¨äº†ä¸Šè¿°ä¸‰æ ·ä¸œè¥¿ç»“åˆ</p><p>TabLayoutï¼šæä¾›é€‰é¡¹åˆ‡æ¢åˆ°ä¸åŒçš„èœå•</p><p>ViewPagerï¼šç”¨äºæ»‘åŠ¨åˆ‡æ¢åˆ°ä¸åŒçš„èœå•</p><p>Fragmentï¼šæ¯ä¸ªèœå•æ˜¾ç¤ºçš„é¡µé¢å†…å®¹</p><p><strong>æ¶‰åŠé…ç½®æ–‡ä»¶</strong>ï¼š</p><ul><li>activity_main.xml</li><li>selected.xml ï¼ˆé€‰ä¸­èœå•çš„é¢œè‰²è®¾ç½®ï¼‰</li><li>themes.xml  ï¼ˆè®¾ç½®èœå•çš„æ–‡ä»¶å¤§å°ï¼‰</li></ul></blockquote><h4 id="2-2-1-å¯¼å…¥ç›¸å…³ä¾èµ–"><a href="#2-2-1-å¯¼å…¥ç›¸å…³ä¾èµ–" class="headerlink" title="2.2.1 å¯¼å…¥ç›¸å…³ä¾èµ–"></a>2.2.1 å¯¼å…¥ç›¸å…³ä¾èµ–</h4><p>å¦‚æœæ˜¯æ—§ç‰ˆçš„è¯åº”å½“æ˜¯å¯¼å…¥support-v4é‡Œé¢çš„ç»„ä»¶ï¼Œè¿™ä¸ªæ—¶å€™å¯èƒ½ä¼šå‡ºç°å…¼å®¹é—®é¢˜</p><h4 id="2-2-2-ç•Œé¢é…ç½®æ–‡ä»¶"><a href="#2-2-2-ç•Œé¢é…ç½®æ–‡ä»¶" class="headerlink" title="2.2.2 ç•Œé¢é…ç½®æ–‡ä»¶"></a>2.2.2 ç•Œé¢é…ç½®æ–‡ä»¶</h4><p>è¯¥èœå•å°±æ˜¯åœ¨é¦–é¡µå±•ç°çš„ï¼Œå› æ­¤æ‰€æœ‰å¸ƒå±€æ–‡ä»¶ä¹Ÿéƒ½åœ¨<strong>activity_main.xml</strong>å½“ä¸­</p><p><strong>Tablayout+ViewPageræ§ä»¶</strong>ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--é¡¶éƒ¨å¯¼èˆªæ ï¼Œåˆ‡æ¢é€‰é¡¹å¡--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">com.google.android.material.tabs.TabLayout</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:id</span>=<span class="hljs-string">&quot;@+id/tabLayout&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">&quot;match_parent&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">&quot;80dp&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">app:tabIndicatorColor</span>=<span class="hljs-string">&quot;#ffffff&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">app:tabIndicatorHeight</span>=<span class="hljs-string">&quot;5dp&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">app:tabTextColor</span>=<span class="hljs-string">&quot;@color/white&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">app:tabIconTint</span>=<span class="hljs-string">&quot;@color/white&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">app:tabSelectedTextColor</span>=<span class="hljs-string">&quot;@color/white&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">app:tabMode</span>=<span class="hljs-string">&quot;fixed&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">app:tabBackground</span>=<span class="hljs-string">&quot;@drawable/selected&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">app:tabTextAppearance</span>=<span class="hljs-string">&quot;@style/MyTabLayoutTextAppearance&quot;</span></span><br><span class="hljs-tag">        /&gt;</span><br><span class="hljs-comment">&lt;!--ç”¨äºå®ç°å·¦å³æ»‘åŠ¨æ•ˆæœ--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">androidx.viewpager.widget.ViewPager</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:id</span>=<span class="hljs-string">&quot;@+id/viewPager&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">&quot;match_parent&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">&quot;0dp&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_weight</span>=<span class="hljs-string">&quot;1&quot;</span>/&gt;</span><br></code></pre></td></tr></table></figure><p>æ¥ç€è¦åœ¨å¯¹åº”çš„é¡µé¢çš„æ´»åŠ¨æ–‡ä»¶å½“ä¸­è¿›è¡Œä»£ç é€»è¾‘ç¼–å†™ï¼š</p><p><strong>initViewPager()</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">initViewPager</span><span class="hljs-params">()</span> &#123;<br>    mViewPager= (ViewPager) findViewById(R.id.viewPager);<br>    <span class="hljs-type">MyFragmentPagerAdapter</span> <span class="hljs-variable">myFragmentPagerAdapter</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">MyFragmentPagerAdapter</span>(getSupportFragmentManager());<br>    mViewPager.setAdapter(myFragmentPagerAdapter);<br>&#125;<br></code></pre></td></tr></table></figure><p>åˆå§‹åŒ–viewPagerï¼Œè¿™é‡Œç”¨åˆ°äº†ä¸€ä¸ªæ–°çš„ç±»myFragmentPagerAdapteræ¥åˆå§‹åŒ–å†…å®¹</p><p>è¯¥ç±»éœ€è¦ç»§æ‰¿<code>FragmentPagerAdapter</code>ï¼Œä¸è¿‡ç°åœ¨çš„android studioå½“ä¸­ä¼šæ˜¾ç¤ºè¯¥ç±»å·²ç»è¢«ç§»é™¤äº†ï¼Œä½†æ˜¯å®é™…ä¸Šè¿˜èƒ½ç”¨ï¼Œä¸æŠ¥é”™å°±è¡Œï¼Œä¸ç”¨ç®¡é‚£ä¸ªä¸‹åˆ’çº¿ï¼Œ</p><p><strong>FragmentPagerAdapter.java</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MyFragmentPagerAdapter</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">FragmentPagerAdapter</span> &#123;<br>    <span class="hljs-keyword">private</span> String[] mTitles = <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>[]&#123;<span class="hljs-string">&quot;å›½é™…&quot;</span>, <span class="hljs-string">&quot;ä½“è‚²&quot;</span>, <span class="hljs-string">&quot;ç”Ÿæ´»&quot;</span>,<span class="hljs-string">&quot;ç§‘å­¦&quot;</span>&#125;;<br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">MyFragmentPagerAdapter</span><span class="hljs-params">(FragmentManager fm)</span> &#123;<br>        <span class="hljs-built_in">super</span>(fm);<br>    &#125;<br>    <span class="hljs-comment">//é€‰æ‹©ä¸åŒçš„èœå•è¿”å›ä¸åŒçš„Fragmenté¡µé¢</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> Fragment <span class="hljs-title function_">getItem</span><span class="hljs-params">(<span class="hljs-type">int</span> position)</span> &#123;<br>        <span class="hljs-keyword">if</span> (position == <span class="hljs-number">1</span>) &#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">SportNewsFragment</span>();<br>        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (position == <span class="hljs-number">2</span>) &#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">LifeNewsFragment</span>();<br>        &#125;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (position==<span class="hljs-number">3</span>)&#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">ScienceNewsFragment</span>();<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">GlobalNewsFragment</span>();<br>    &#125;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getCount</span><span class="hljs-params">()</span> &#123;<span class="hljs-keyword">return</span> mTitles.length;&#125;<br><br>    <span class="hljs-comment">//ViewPagerä¸TabLayoutç»‘å®šåï¼Œè¿™é‡Œè·å–åˆ°PageTitleå°±æ˜¯Tabçš„Text</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> CharSequence <span class="hljs-title function_">getPageTitle</span><span class="hljs-params">(<span class="hljs-type">int</span> position)</span> &#123;<span class="hljs-keyword">return</span> mTitles[position];&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>è¯¥ç±»çš„ä»£ç ä¹Ÿæ¯”è¾ƒç®€çŸ­ï¼Œæ ¹æ®éœ€è¦çš„èœå•æ•°é‡ï¼Œå¢åŠ Stringæ•°ç»„å…ƒç´ ä¸ªæ•°å’Œé¡µé¢Fragmentçš„æ•°é‡å°±è¡Œ</p><p><strong>initTabLayoutView()</strong> </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">initTabLayoutView</span><span class="hljs-params">()</span> &#123;<br>    <span class="hljs-comment">//å°†TabLayoutä¸ViewPagerç»‘å®šåœ¨ä¸€èµ·</span><br>    <span class="hljs-type">TabLayout</span> <span class="hljs-variable">mTabLayout</span> <span class="hljs-operator">=</span> (TabLayout) findViewById(R.id.tabLayout);<br>    mTabLayout.setupWithViewPager(mViewPager);<br><br>    <span class="hljs-comment">//æŒ‡å®šTabçš„ä½ç½®</span><br>    TabLayout.<span class="hljs-type">Tab</span> <span class="hljs-variable">one</span> <span class="hljs-operator">=</span> mTabLayout.getTabAt(<span class="hljs-number">0</span>);<br>    TabLayout.<span class="hljs-type">Tab</span> <span class="hljs-variable">two</span> <span class="hljs-operator">=</span> mTabLayout.getTabAt(<span class="hljs-number">1</span>);<br>    TabLayout.<span class="hljs-type">Tab</span> <span class="hljs-variable">three</span> <span class="hljs-operator">=</span> mTabLayout.getTabAt(<span class="hljs-number">2</span>);<br>    TabLayout.<span class="hljs-type">Tab</span> <span class="hljs-variable">four</span> <span class="hljs-operator">=</span> mTabLayout.getTabAt(<span class="hljs-number">3</span>);<br><br>    <span class="hljs-comment">//è®¾ç½®Tabçš„å›¾æ ‡ï¼Œå‡å¦‚ä¸éœ€è¦åˆ™æŠŠä¸‹é¢çš„ä»£ç åˆ å»</span><br>    one.setIcon(R.drawable.global);<br>    two.setIcon(R.drawable.soccer);<br>    three.setIcon(R.drawable.life);<br>    four.setIcon(R.drawable.science);<br>&#125;<br></code></pre></td></tr></table></figure><p>åˆå§‹åŒ–TabLayoutçš„è®¾ç½®ï¼Œå…ˆå°†viewPagerä¸TabLayout<strong>ç»‘å®š</strong>åœ¨ä¸€èµ·ï¼Œç„¶åè®¾å®šå¯¹åº”çš„ä½ç½®ï¼Œæœ€åè®¾ç½®å›¾æ ‡ï¼Œä»£ç æ¯”è¾ƒç®€å•ã€‚</p><p><strong>æ³¨æ„äº‹é¡¹ï¼ï¼š</strong></p><p><strong>å…¶ä»–xmlæ–‡ä»¶çš„æ·»åŠ </strong></p><p>è¿™é‡Œè¯´å‡ ä¸ªtablayoutå’ŒviewPagerè¦å¯¼å…¥çš„ä¸€äº›å…¶ä»–çš„ç®€çŸ­çš„xmlæ–‡ä»¶</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230423002236907.png" alt="image-20230423002236907"></p><p>åœ¨<code>themes.xml</code>ï¼ˆæˆ–styles.xmlï¼‰æ–‡ä»¶å½“ä¸­è¦æ·»åŠ <code>style name = MyTabLayoutTextAppearance</code>çš„æ ·å¼</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--    TabLayoutçš„æ–‡æœ¬å¤§å°--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;MyTabLayoutTextAppearance&quot;</span> <span class="hljs-attr">parent</span>=<span class="hljs-string">&quot;TextAppearance.AppCompat.Widget.ActionBar.Title&quot;</span>&gt;</span><span class="language-xml"></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">item</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;android:textSize&quot;</span>&gt;</span>18sp<span class="hljs-tag">&lt;/<span class="hljs-name">item</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">item</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;android:textColor&quot;</span>&gt;</span>@color/white<span class="hljs-tag">&lt;/<span class="hljs-name">item</span>&gt;</span></span><br><span class="language-xml">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br></code></pre></td></tr></table></figure><p>è¿˜æœ‰åœ¨drawableæ–‡ä»¶ä¸‹çš„ <code>selected.xml</code>ï¼Œç”¨äºå±•ç¤ºè¢«é€‰ä¸­ä¸‹èœå•çš„é¢œè‰²</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;utf-8&quot;</span>?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">selector</span> <span class="hljs-attr">xmlns:android</span>=<span class="hljs-string">&quot;http://schemas.android.com/apk/res/android&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">item</span> <span class="hljs-attr">android:state_selected</span>=<span class="hljs-string">&quot;true&quot;</span> <span class="hljs-attr">android:drawable</span>=<span class="hljs-string">&quot;@color/TabBackGround&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">item</span> <span class="hljs-attr">android:drawable</span>=<span class="hljs-string">&quot;@color/colorAccent&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">selector</span>&gt;</span><br></code></pre></td></tr></table></figure><h3 id="2-3-æ–°é—»åˆ—è¡¨å®ç°"><a href="#2-3-æ–°é—»åˆ—è¡¨å®ç°" class="headerlink" title="2.3 æ–°é—»åˆ—è¡¨å®ç°"></a>2.3 æ–°é—»åˆ—è¡¨å®ç°</h3><blockquote><p><strong>æ¶‰åŠé…ç½®æ–‡ä»¶</strong>ï¼š</p><ul><li>fragment_global_news.xml ä»¥åŠç±»ä¼¼çš„å››ä¸ªæ–‡ä»¶ï¼ˆéƒ½æ˜¯åªæœ‰ä¸€ä¸ªListViewï¼‰</li><li>listView_item.xmlä»¥åŠç›¸å…³çš„ä¸‰ç§å¡ç‰‡å¸ƒå±€</li></ul><p><strong>Javaæ–‡ä»¶</strong>ï¼š</p><ul><li>GlobalNewsFragment.java ï¼ˆæ–°é—»åˆ—è¡¨çš„æ˜¾ç¤ºé¡µé¢ï¼‰</li><li>NewsUtils.java ï¼ˆå­˜æ”¾æ–°é—»çš„æ•°æ®ï¼Œä¾‹å¦‚æ ‡é¢˜ï¼Œå†…å®¹ï¼Œurlï¼‰</li><li>NewsBean.java æ–°é—»ç±»ï¼ˆå«æ ‡é¢˜ï¼Œå†…å®¹ç­‰ï¼‰</li></ul></blockquote><p>ç”±äºå››ä¸ªæ–°é—»åˆ—è¡¨é¡µé¢çš„å¸ƒå±€æ˜¯å¾ˆåƒçš„ï¼Œæ‰€ä»¥è¿™é‡Œåªæ‹¿<strong>å…¶ä¸­ä¸€ä¸ª</strong>ä¸¾ä¾‹</p><p>èœå•çš„å¸ƒå±€å®ç°åï¼Œå°±è¦è¯´ä¸‹å…·ä½“æ€ä¹ˆå®ç°æ–°é—»çš„åˆ—è¡¨å†…å®¹äº†ã€‚</p><p>è¿™é‡Œä¹Ÿæ˜¯ç›¸å¯¹å¤æ‚ä¸€ç‚¹çš„å†…å®¹ï¼Œå› ä¸ºè¯¥Fragmentçš„ä»£ç å†…å®¹æ¯”è¾ƒå¤š</p><p>ä½†æ˜¯å¸ƒå±€æ–‡ä»¶xmlæ˜¯æ¯”è¾ƒå°‘çš„ï¼Œæˆ–è€…è¯´éƒ½æ˜¯ç›¸ä¼¼çš„</p><h4 id="2-3-1-å¸ƒå±€é…ç½®æ–‡ä»¶"><a href="#2-3-1-å¸ƒå±€é…ç½®æ–‡ä»¶" class="headerlink" title="2.3.1 å¸ƒå±€é…ç½®æ–‡ä»¶"></a>2.3.1 å¸ƒå±€é…ç½®æ–‡ä»¶</h4><p>é¦–å…ˆæ˜¯Fragmentç¢ç‰‡çš„å¸ƒå±€</p><p>å¾ˆç®€å•ï¼Œåªæœ‰ä¸€ä¸ªListViewåœ¨é‡Œé¢</p><p><strong>fragment_global_news.xml</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;utf-8&quot;</span>?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">FrameLayout</span> <span class="hljs-attr">xmlns:android</span>=<span class="hljs-string">&quot;http://schemas.android.com/apk/res/android&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">xmlns:tools</span>=<span class="hljs-string">&quot;http://schemas.android.com/tools&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">&quot;match_parent&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">&quot;match_parent&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">tools:context</span>=<span class="hljs-string">&quot;.newsListPage.GlobalNewsFragment&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">ListView</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">&quot;match_parent&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">&quot;match_parent&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:id</span>=<span class="hljs-string">&quot;@+id/globalList&quot;</span></span><br><span class="hljs-tag">        /&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">FrameLayout</span>&gt;</span><br></code></pre></td></tr></table></figure><p>ç›¸å¯¹çš„å…¶ä»–çš„ç¢ç‰‡æ–‡ä»¶ä¹Ÿæ˜¯ä¸€æ ·</p><p>æ¥ç€æ˜¯listé‡Œé¢æ¯ä¸ªçš„æ ·å¼è¯¥æ€ä¹ˆå®ç°å‘¢ï¼Ÿ</p><p>è¿™å°±è¦æˆ‘ä»¬è‡ªå·±å»æ¶‰åŠä¸€ä¸ªå¸ƒå±€æ ·å¼</p><p><strong>listview_item.xml</strong></p><p>è¿™é‡Œä»£ç è¾ƒé•¿ï¼Œå°±åªç»™å‡ºä¸€ä¸ªæ ·å¼ç»“åˆä»¥åŠå›¾ç‰‡äº†</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230423003925586.png" alt="image-20230423003925586"></p><p>å…¶ä»–çš„æ ·å¼ä¾‹å¦‚æœ‰</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230423004808391.png" alt="image-20230423004808391"></p><h4 id="2-3-2-Javaä»£ç å®ç°listViewä¸è‡ªå®šä¹‰æ–°é—»å¡ç‰‡ç»“åˆ"><a href="#2-3-2-Javaä»£ç å®ç°listViewä¸è‡ªå®šä¹‰æ–°é—»å¡ç‰‡ç»“åˆ" class="headerlink" title="2.3.2 Javaä»£ç å®ç°listViewä¸è‡ªå®šä¹‰æ–°é—»å¡ç‰‡ç»“åˆ"></a>2.3.2 Javaä»£ç å®ç°listViewä¸è‡ªå®šä¹‰æ–°é—»å¡ç‰‡ç»“åˆ</h4><p>æ¥ä¸‹æ¥æ˜¯å°†listViewä¸è‡ªå®šä¹‰çš„å¡ç‰‡xmlæ–‡ä»¶ç»“åˆåˆ°ä¸€èµ·</p><p>æœ€ç»ˆæ•ˆæœå¦‚ä¸‹ï¼š</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230423005006208.png" alt="image-20230423005006208"></p><p><strong>GlobalNewsFragment.java</strong> ï¼š</p><p>é¦–å…ˆçœ‹çœ‹ä»£ç åˆå§‹åŒ–çš„å†…å®¹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">GlobalNewsFragment</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Fragment</span> &#123;<br>    <span class="hljs-keyword">private</span> ListView lv;<br>    <span class="hljs-keyword">private</span> ArrayList&lt;NewsBean&gt; mList;<br>    <span class="hljs-keyword">private</span> View globalView;<br>    <span class="hljs-keyword">private</span> MainActivity mainActivity;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> View <span class="hljs-title function_">onCreateView</span><span class="hljs-params">(LayoutInflater inflater, ViewGroup container,</span><br><span class="hljs-params">                             Bundle savedInstanceState)</span> &#123;<br>        <span class="hljs-comment">// è·å–viewï¼Œå¹¶ä¸”è¿æ¥åˆ°ä¸»æ´»åŠ¨ä¸Šé¢</span><br>        globalView = inflater.inflate(R.layout.fragment_global_news, container, <span class="hljs-literal">false</span>);<br>        mainActivity =(MainActivity) getActivity();<br>        initUI();<br>        initData();<br>        initAdapter();<br>        <span class="hljs-keyword">return</span> globalView;<br>    &#125;<br></code></pre></td></tr></table></figure><p>åªéœ€è¦ä¸€ä¸ªonCreateVIewï¼ˆï¼‰æ˜¯Fragmentç±»å½“ä¸­çš„å‡½æ•°é‡è½½ï¼Œå…¶ä»–çš„å‡½æ•°éƒ½æ˜¯è‡ªå·±å†™å‡ºæ¥çš„äº†ã€‚</p><p>åˆå§‹åŒ–globalVIewçš„æ—¶å€™ï¼Œè·å–äº†ä¸Šé¢å†™å¥½çš„é…ç½®æ–‡ä»¶<code>fragment_global_news.xml</code> ã€‚</p><p>ä»‹ç»ä¸‰ä¸ªåˆå§‹åŒ–çš„å‡½æ•°å†…å®¹</p><ul><li><p><strong>initUIï¼ˆï¼‰</strong>ï¼š</p><p>ç›‘å¬åˆ—è¡¨æ¯ä¸ªitemçš„ç‚¹å‡»äº‹ä»¶</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">initUI</span><span class="hljs-params">()</span> &#123;<br>    lv = (ListView) globalView.findViewById(R.id.globalList);<br>    <span class="hljs-comment">//è®¾ç½®ç‚¹å‡»äº‹ä»¶ç›‘å¬</span><br>    lv.setOnItemClickListener(<span class="hljs-keyword">new</span> <span class="hljs-title class_">AdapterView</span>.OnItemClickListener() &#123;<br>        <span class="hljs-meta">@Override</span><br>        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onItemClick</span><span class="hljs-params">(AdapterView&lt;?&gt; parent, View view, <span class="hljs-type">int</span> position, <span class="hljs-type">long</span> id)</span> &#123;<br>            <span class="hljs-comment">//è·³è½¬åˆ°æ˜¾ç¤ºæ–‡ç« å†…å®¹çš„æ´»åŠ¨</span><br>            <span class="hljs-type">NewsBean</span> <span class="hljs-variable">bean</span> <span class="hljs-operator">=</span> mList.get(position);          NewsArticleContentActivity.actionStart(mainActivity,bean.title,bean.news_content,bean.news_url);<br>        &#125;<br>    &#125;);<br>&#125;<br></code></pre></td></tr></table></figure><p>è¿™é‡Œå°±æ˜¯å¯¹æ¯ä¸ªåˆ—è¡¨çš„æ–°é—»å¡ç‰‡åšäº†ä¸€ä¸ªç‚¹å‡»ç›‘å¬çš„äº‹ä»¶ï¼Œé€šè¿‡<strong>Intent</strong>è·³è½¬åˆ°æ–‡ç« çš„è¯¦æƒ…é¡µé¢ï¼Œç»å…¸çš„æ´»åŠ¨ä¹‹é—´çš„è·³è½¬æ–¹æ³•ï¼Œä¸é˜è¿°äº†ã€‚</p><p>listViewçš„è·å–è¿æ¥äº†ä¹‹å‰å†™çš„xmlæ–‡ä»¶<code>globalList.xml</code>å½“ä¸­</p><p>è¯¥æ„å›¾å·²ç»å°è£…å¥½ä¸€ä¸ªæ–¹æ³•ï¼Œåªéœ€è¦ä¼ å›ºå®šçš„å‚æ•°å³å¯ï¼Œåˆ†åˆ«æ˜¯æ ‡é¢˜ï¼Œå†…å®¹ï¼Œè¿˜æœ‰urlé“¾æ¥ã€‚</p><p>æ–‡ç« çš„è¯¦æƒ…é¡µé¢ç”¨ä¸€ä¸ªActivityæ¥å®ç°ï¼Œä¸‹ä¸€å°èŠ‚ä¼šè®²åˆ°ã€‚</p></li><li><p><strong>initDataï¼ˆï¼‰</strong>ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">initData</span><span class="hljs-params">()</span> &#123;<br>    mList = NewsUtils.getGlobalNews(mainActivity);<br>&#125;<br></code></pre></td></tr></table></figure><p>è¿™é‡Œåªè°ƒç”¨äº†ä¸€ä¸ªå‡½æ•°ã€‚</p><p>åŠŸèƒ½æ˜¯å°†æ•°æ®å­˜åˆ°mListå½“ä¸­ï¼Œæ–¹ä¾¿åé¢ç”¨é€‚é…å™¨Adapterè°ƒç”¨</p><p>æ¥çœ‹ä¸‹<strong>NewsUtils</strong>ç±»é‡Œé¢æ˜¯æ€ä¹ˆè·å–æ•°æ®çš„</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230423010309674.png" alt="image-20230423010309674"></p><p>ä»£ç å†…å®¹æ˜¯æ¯”è¾ƒç®€å•ç›´æ¥çš„ï¼Œè™½ç„¶è¿™é‡Œå¯ä»¥ä½¿ç”¨æ•°æ®åº“çš„æ–¹å¼ä¼šæ›´é«˜æ•ˆã€‚</p><p>MewsBeané‡Œé¢çš„å†…å®¹ä¹Ÿåªæœ‰ç®€å•çš„å‡ ä¸ªæˆå‘˜æ•°æ®è€Œå·²ã€‚</p><p><strong>NewsBean</strong>ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">NewsBean</span> &#123;<br>    <span class="hljs-keyword">public</span> String title;<br>    <span class="hljs-keyword">public</span> String des;<br>    <span class="hljs-keyword">public</span> Drawable icon;<br>    <span class="hljs-keyword">public</span> String news_url;<br>    <span class="hljs-keyword">public</span> String news_content;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p><strong>initAdapterï¼ˆï¼‰</strong></p><p>ä¸€è¡Œä»£ç </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">initAdapter</span><span class="hljs-params">()</span> &#123;<br>    lv.setAdapter(<span class="hljs-keyword">new</span> <span class="hljs-title class_">GlobalNewsFragment</span>.NewsAdapter());<br>&#125;<br></code></pre></td></tr></table></figure><p>setAdapterï¼ˆï¼‰æ–¹æ³•æ˜¯å®˜æ–¹æä¾›çš„ï¼Œè€Œé‡Œé¢çš„NewsAdapterï¼ˆï¼‰åˆ™éœ€è¦æˆ‘ä»¬å»è‡ªå®šä¹‰å®ç°</p><p><strong>NewsAdpterç±»</strong>ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">NewsAdapter</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">BaseAdapter</span> &#123;<br>    <span class="hljs-comment">//é€‚é…å™¨å¤„ç†æ–°é—»åˆ—è¡¨</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getCount</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> mList.size();<br>    &#125;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> NewsBean <span class="hljs-title function_">getItem</span><span class="hljs-params">(<span class="hljs-type">int</span> position)</span> &#123;<br>        <span class="hljs-keyword">return</span> mList.get(position);<br>    &#125;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">long</span> <span class="hljs-title function_">getItemId</span><span class="hljs-params">(<span class="hljs-type">int</span> position)</span> &#123;<br>        <span class="hljs-keyword">return</span> position;<br>    &#125;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> View <span class="hljs-title function_">getView</span><span class="hljs-params">(<span class="hljs-type">int</span> position, View convertView, ViewGroup parent)</span> &#123;<br>        GlobalNewsFragment.ViewHolder holder;<br>        <span class="hljs-keyword">if</span> (convertView == <span class="hljs-literal">null</span>) &#123;<span class="hljs-comment">//è·å–å¡ç‰‡çš„å…·ä½“å†…å®¹</span><br>            holder = <span class="hljs-keyword">new</span> <span class="hljs-title class_">GlobalNewsFragment</span>.ViewHolder();<br>            convertView = View.inflate(mainActivity.getApplicationContext(), R.layout.listview_item, <span class="hljs-literal">null</span>);<br>            holder.tv_title = (TextView) convertView.findViewById(R.id.tv_title);<br>            holder.tv_des = (TextView) convertView.findViewById(R.id.tv_des);<br>            holder.iv_icon = (ImageView) convertView.findViewById(R.id.iv_icon);<br>            convertView.setTag(holder);<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            holder = (GlobalNewsFragment.ViewHolder) convertView.getTag();<br>        &#125;<br>        <span class="hljs-type">NewsBean</span> <span class="hljs-variable">item</span> <span class="hljs-operator">=</span> getItem(position);<br>        holder.tv_title.setText(item.title);<br>        holder.tv_des.setText(item.des);<br>        holder.iv_icon.setImageDrawable(item.icon);<br>        <span class="hljs-keyword">return</span> convertView;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>è¯¥ç±»ç»§æ‰¿äº†BaseAdapterï¼Œå¹¶å¯¹å››ä¸ªåŸºæœ¬çš„æ–¹æ³•è¿›è¡Œäº†é‡è½½ã€‚</p><p>å‰é¢çš„ä¸‰ä¸ªéƒ½æ¯”è¾ƒç®€å•ï¼Œæ ¹æ®åå­—å°±å¯ä»¥çŸ¥é“è¯¥æ–¹æ³•è°ƒç”¨çš„æ˜¯ä¸€äº›åŸºæœ¬çš„å‚æ•°ï¼Œä¾‹å¦‚è·å¾—åˆ—è¡¨å½“ä¸­çš„itemç­‰ç­‰ã€‚</p><p>æœ€åçš„getViewï¼ˆï¼‰æ¯”è¾ƒé•¿ï¼Œä¸»è¦æ˜¯å°†æ•°æ®<strong>ä¼ é€’åˆ°view</strong>å¸ƒå±€ä¸Šé¢</p><p>è¯¥æ–¹æ³•å¯ä»¥çœ‹åˆ°è°ƒç”¨äº†<code>listview_item.xml</code>æ–‡ä»¶ï¼Œæƒ³è¦ä¸åŒçš„<strong>å¡ç‰‡æ ·å¼</strong>ï¼Œè¿™é‡Œå¯ä»¥é€‰ä¸­ä¸åŒçš„å¸ƒå±€æ–‡ä»¶ã€‚</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230423011751041.png" alt="image-20230423011751041"></p><p>holderç±»ï¼ˆç›´æ¥å®šä¹‰åœ¨å½“å‰çš„Fragmentç±»é‡Œé¢å°±è¡Œï¼‰</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ViewHolder</span> &#123;<br>    TextView tv_title;<br>    TextView tv_des;<br>    ImageView iv_icon;<br>&#125;<br></code></pre></td></tr></table></figure></li></ul><p>è‡³æ­¤å°±å®Œæˆäº†æ–°é—»åˆ—è¡¨æ ·å¼çš„æ¸²æŸ“å’Œç‚¹å‡»äº‹ä»¶äº†ã€‚</p><h3 id="2-4-æ–°é—»å…·ä½“å†…å®¹å®ç°"><a href="#2-4-æ–°é—»å…·ä½“å†…å®¹å®ç°" class="headerlink" title="2.4 æ–°é—»å…·ä½“å†…å®¹å®ç°"></a>2.4 æ–°é—»å…·ä½“å†…å®¹å®ç°</h3><blockquote><p><strong>ç›¸å…³é…ç½®æ–‡ä»¶</strong>ï¼š</p><ul><li>activity_news_article_content.xml</li><li>article_open_browser.xml ï¼ˆè®¾ç½®å³ä¸Šè§’èœå•å†…å®¹ï¼‰</li></ul><p><strong>javaä»£ç </strong>ï¼š</p><ul><li>NewsArticleContentActivity.java</li></ul></blockquote><p>è¯¥é¡µé¢å¯¹åº”ä¸€ä¸ªActivityï¼Œå®ç°æ•ˆæœå¦‚ä¸‹ï¼š</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230423012206793.png" alt="image-20230423012206793"></p><p>ç‚¹å‡»é˜…è¯»åŸæ–‡ï¼Œå®é™…ä¸Šæ˜¯å°†å½“å‰é¡µé¢çš„æ ‡é¢˜å’Œå†…å®¹<strong>éšè—</strong>ï¼Œç„¶åå°†webViewæ˜¾ç¤ºå‡ºæ¥ã€‚</p><h4 id="2-4-1-å¸ƒå±€é…ç½®æ–‡ä»¶"><a href="#2-4-1-å¸ƒå±€é…ç½®æ–‡ä»¶" class="headerlink" title="2.4.1 å¸ƒå±€é…ç½®æ–‡ä»¶"></a>2.4.1 å¸ƒå±€é…ç½®æ–‡ä»¶</h4><p>æ ¹æ®é¡µé¢å†…å®¹å¯ä»¥çœ‹å‡ºï¼Œæ´»åŠ¨æ–‡ä»¶çš„å†…å®¹åº”å½“æœ‰æ ‡é¢˜ï¼Œå†…å®¹ï¼ŒwebViewã€‚</p><p><strong>activity_news_article_content.xml</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;utf-8&quot;</span>?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">LinearLayout</span> <span class="hljs-attr">xmlns:android</span>=<span class="hljs-string">&quot;http://schemas.android.com/apk/res/android&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">xmlns:app</span>=<span class="hljs-string">&quot;http://schemas.android.com/apk/res-auto&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">xmlns:tools</span>=<span class="hljs-string">&quot;http://schemas.android.com/tools&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">&quot;match_parent&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">&quot;match_parent&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:orientation</span>=<span class="hljs-string">&quot;vertical&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">tools:context</span>=<span class="hljs-string">&quot;.NewsArticleContentActivity&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">ScrollView</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">&quot;match_parent&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">&quot;match_parent&quot;</span>&gt;</span><br><br>        <span class="hljs-tag">&lt;<span class="hljs-name">LinearLayout</span></span><br><span class="hljs-tag">            <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">&quot;match_parent&quot;</span></span><br><span class="hljs-tag">            <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">&quot;match_parent&quot;</span></span><br><span class="hljs-tag">            <span class="hljs-attr">android:orientation</span>=<span class="hljs-string">&quot;vertical&quot;</span>&gt;</span><br><span class="hljs-comment">&lt;!--æ ‡é¢˜--&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">TextView</span></span><br><span class="hljs-tag">                <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">&quot;match_parent&quot;</span></span><br><span class="hljs-tag">                <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">&quot;wrap_content&quot;</span></span><br><span class="hljs-tag">                <span class="hljs-attr">android:gravity</span>=<span class="hljs-string">&quot;center&quot;</span></span><br><span class="hljs-tag">                <span class="hljs-attr">android:textSize</span>=<span class="hljs-string">&quot;30sp&quot;</span></span><br><span class="hljs-tag">                <span class="hljs-attr">android:fontFamily</span>=<span class="hljs-string">&quot;sans-serif-black&quot;</span></span><br><span class="hljs-tag">                <span class="hljs-attr">android:id</span>=<span class="hljs-string">&quot;@+id/LocalTitle&quot;</span>/&gt;</span><br><span class="hljs-comment">&lt;!--ä¸‹åˆ’çº¿--&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">View</span></span><br><span class="hljs-tag">                <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">&quot;match_parent&quot;</span></span><br><span class="hljs-tag">                <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">&quot;1dp&quot;</span></span><br><span class="hljs-tag">                <span class="hljs-attr">android:background</span>=<span class="hljs-string">&quot;@color/cardview_dark_background&quot;</span></span><br><span class="hljs-tag">                /&gt;</span><br><span class="hljs-comment">&lt;!--æ–‡ç« å†…å®¹--&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">TextView</span></span><br><span class="hljs-tag">                <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">&quot;match_parent&quot;</span></span><br><span class="hljs-tag">                <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">&quot;wrap_content&quot;</span></span><br><span class="hljs-tag">                <span class="hljs-attr">android:textSize</span>=<span class="hljs-string">&quot;18sp&quot;</span></span><br><span class="hljs-tag">                <span class="hljs-attr">android:id</span>=<span class="hljs-string">&quot;@+id/LocalContent&quot;</span>/&gt;</span><br><span class="hljs-comment">&lt;!-- åµŒå…¥ç½‘é¡µå†…å®¹--&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">WebView</span></span><br><span class="hljs-tag">                <span class="hljs-attr">android:id</span>=<span class="hljs-string">&quot;@+id/news_webView&quot;</span></span><br><span class="hljs-tag">                <span class="hljs-attr">android:layout_width</span>=<span class="hljs-string">&quot;match_parent&quot;</span></span><br><span class="hljs-tag">                <span class="hljs-attr">android:layout_height</span>=<span class="hljs-string">&quot;match_parent&quot;</span></span><br><span class="hljs-tag">                <span class="hljs-attr">android:visibility</span>=<span class="hljs-string">&quot;gone&quot;</span></span><br><span class="hljs-tag">                /&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">LinearLayout</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">ScrollView</span>&gt;</span><br><span class="hljs-comment">&lt;!--    å…ˆéšè—åµŒå…¥çš„ç½‘é¡µ--&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">LinearLayout</span>&gt;</span><br></code></pre></td></tr></table></figure><p>è¿™é‡Œè¦ç”¨åˆ°<strong>scorllView</strong>æ¥é¿å…ç”±äºæ–‡ç« å†…å®¹è¿‡å¤šè€Œé¡µé¢æ— æ³•ä¸‹æ‹‰çš„é—®é¢˜ã€‚</p><p>ä¸€å¼€å§‹çš„WebViewè®¾ç½®æ˜¯<strong>ä¸å¯è§gone</strong>çš„ï¼Œåœ¨è¿è¡Œåç»è¿‡ç‚¹å‡»äº‹ä»¶æ‰èƒ½è®©å…¶å¯è§ã€‚</p><p><strong>æ ‡é¢˜æ </strong>ï¼š</p><p>ç›´æ¥ä½¿ç”¨é»˜è®¤ç»™å‡ºçš„actionBar</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;Theme.NEWSPage&quot;</span> <span class="hljs-attr">parent</span>=<span class="hljs-string">&quot;Theme.MaterialComponents.DayNight.DarkActionBar&quot;</span>&gt;</span><br></code></pre></td></tr></table></figure><p><strong>æ ‡é¢˜å½“ä¸­çš„èœå•æ </strong></p><p><strong>article_open_browser.xml</strong> </p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version=<span class="hljs-string">&quot;1.0&quot;</span> encoding=<span class="hljs-string">&quot;utf-8&quot;</span>?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">menu</span> <span class="hljs-attr">xmlns:android</span>=<span class="hljs-string">&quot;http://schemas.android.com/apk/res/android&quot;</span> &gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">item</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:id</span>=<span class="hljs-string">&quot;@+id/article_open_webView&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:title</span>=<span class="hljs-string">&quot;é˜…è¯»åŸæ–‡&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">item</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:id</span>=<span class="hljs-string">&quot;@+id/article_open_browser&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">android:title</span>=<span class="hljs-string">&quot;ç”¨æµè§ˆå™¨æ‰“å¼€&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">menu</span>&gt;</span><br></code></pre></td></tr></table></figure><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/%E8%81%94%E6%83%B3%E6%88%AA%E5%9B%BE_20230423013518.png" alt="è”æƒ³æˆªå›¾_20230423013518"></p><h4 id="2-4-2-Javaä»£ç å®ç°"><a href="#2-4-2-Javaä»£ç å®ç°" class="headerlink" title="2.4.2 Javaä»£ç å®ç°"></a>2.4.2 Javaä»£ç å®ç°</h4><p>ç›¸å…³ä»£ç éƒ½åœ¨<strong>NewsArticleContentActivity.java</strong>å½“ä¸­å®ç°</p><p>é¦–å…ˆçœ‹çœ‹åˆå§‹åŒ–è¿™ä¸ªæ´»åŠ¨çš„æ—¶å€™ç”¨åˆ°çš„ä»£ç </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Override</span><br><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">onCreate</span><span class="hljs-params">(Bundle savedInstanceState)</span> &#123;<br>    <span class="hljs-built_in">super</span>.onCreate(savedInstanceState);<br>    setContentView(R.layout.activity_news_article_content);<br>    <span class="hljs-comment">//è®¾ç½®æ ‡é¢˜æ å†…å®¹</span><br>    <span class="hljs-type">ActionBar</span> <span class="hljs-variable">actionBar</span> <span class="hljs-operator">=</span> getSupportActionBar();<br>    <span class="hljs-keyword">if</span>(actionBar != <span class="hljs-literal">null</span>)&#123;<br>        setTitle(<span class="hljs-string">&quot;Article&quot;</span>);<br>        actionBar.setHomeButtonEnabled(<span class="hljs-literal">true</span>);<span class="hljs-comment">//è®¾ç½®å·¦ä¸Šè§’æ˜¯å¦å¯ä»¥ç‚¹å‡»</span><br>        actionBar.setDisplayHomeAsUpEnabled(<span class="hljs-literal">true</span>);<span class="hljs-comment">//æ·»åŠ è¿”å›çš„å›¾æ ‡</span><br>    &#125;<br>    <span class="hljs-comment">//è®¾ç½®æ–‡ç« å†…å®¹</span><br>    <span class="hljs-type">String</span> <span class="hljs-variable">newsTitle</span> <span class="hljs-operator">=</span> getIntent().getStringExtra(<span class="hljs-string">&quot;news_title&quot;</span>);<br>    <span class="hljs-type">String</span> <span class="hljs-variable">newsContent</span> <span class="hljs-operator">=</span> getIntent().getStringExtra(<span class="hljs-string">&quot;news_content&quot;</span>);<br>    articleUrl = getIntent().getStringExtra(<span class="hljs-string">&quot;news_url&quot;</span>);<br>    title = findViewById(R.id.LocalTitle);<br>    content = findViewById(R.id.LocalContent);<br>    title.setText(newsTitle);<br>    content.setText(newsContent);<br>    <span class="hljs-comment">//è®¾ç½®webViewå†…å®¹</span><br>    isArticleDisplayed = <span class="hljs-literal">true</span>;<span class="hljs-comment">//ä»æ–°é—»åˆ—è¡¨è¿›å…¥æ–‡ç« çš„æ—¶å€™é»˜è®¤æ ‡å¿—ä½ä¸ºçœŸ</span><br>    webView = findViewById(R.id.news_webView);<br>    webView.getSettings().setJavaScriptEnabled(<span class="hljs-literal">true</span>);<br>    webView.setWebViewClient(<span class="hljs-keyword">new</span> <span class="hljs-title class_">WebViewClient</span>()&#123;<br>        <span class="hljs-comment">//é‡å†™è¿™ä¸ªæ–¹æ³•è§£å†³é‡å®šå‘çš„é—®é¢˜</span><br>        <span class="hljs-meta">@Override</span><br>        <span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">shouldOverrideUrlLoading</span><span class="hljs-params">(WebView view, String url)</span> &#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        &#125;<br>    &#125;);<br>    webView.loadUrl(articleUrl);<br>&#125;<br></code></pre></td></tr></table></figure><p>è¿™é‡Œéƒ½æ˜¯å¯¹<code>activity_news_article_content.xml</code>å¸ƒå±€çš„å†…å®¹æ¸²æŸ“ã€‚</p><p>ä»£ç åˆ†ä¸ºä¸‰ä¸ªæ­¥éª¤</p><ol><li>é€šè¿‡<code>setHomeBUttonEnabledï¼ˆï¼‰</code>å’Œ<code>setDisplayHomeAsUpEnabledï¼ˆï¼‰</code>æ¥è®¾ç½®é¡¶éƒ¨èœå•æ å·¦è¾¹çš„è¿”å›æŒ‰é’®ã€‚</li><li>ç”¨<code>getIntentï¼ˆï¼‰</code>è·å–ä¼ è¿‡æ¥çš„æ–‡ç« æ ‡é¢˜ï¼Œå†…å®¹å’Œé“¾æ¥urlsï¼Œå¹¶ä¸”ç»™æ§ä»¶çš„å†…å®¹è®¾ç½®ç›¸åº”çš„æ–‡æœ¬</li><li>è®¾ç½®WebViewï¼ŒåŠ è½½Urlé“¾æ¥åˆ°WebViewæ§ä»¶ä¸Šé¢ã€‚ï¼ˆè¿™é‡Œè¿˜éœ€è¦å»AndroidManifestå½“ä¸­è®¾ç½®ä¸€ä¸‹uses-permissionå’ŒusesClearTextï¼‰</li></ol><p>å…³äºgetIntentè·å¾—çš„æ•°æ®ï¼Œæˆ‘åœ¨NewsArticleContentActivityç±»å½“ä¸­å†™äº†ä¸€ä¸ª<code>actionStartï¼ˆï¼‰</code>æ–¹æ³•ä½œä¸ºæ¥å£æ¥æ¥æ”¶Intentï¼Œæä¾›ç»™å¤–éƒ¨æƒ³è¦è¿›å…¥è¿™ä¸ªæ´»åŠ¨å¹¶ä¸”ä¼ å‚ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//æä¾›ä¸€ä¸ªä¼ å…¥æ„å›¾çš„æ¥å£ï¼Œç”¨æ¥è·³è½¬æ´»åŠ¨</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">actionStart</span><span class="hljs-params">(Context context,String newsTitle,String newsContent,String newsUrl)</span>&#123;<br>    <span class="hljs-type">Intent</span> <span class="hljs-variable">intent</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Intent</span>(context,NewsArticleContentActivity.class);<br>    intent.putExtra(<span class="hljs-string">&quot;news_title&quot;</span>,newsTitle);<br>    intent.putExtra(<span class="hljs-string">&quot;news_content&quot;</span>,newsContent);<br>    intent.putExtra(<span class="hljs-string">&quot;news_url&quot;</span>,newsUrl);<br>    context.startActivity(intent);<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>åˆ›å»ºå³ä¾§çš„é¡¶éƒ¨èœå•æ </strong>ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//é‡å†™é¡¶éƒ¨èœå•æ æ„é€ æ–¹æ³•</span><br><span class="hljs-meta">@Override</span><br><span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">onCreateOptionsMenu</span><span class="hljs-params">(Menu menu)</span> &#123;<br>    <span class="hljs-type">MenuInflater</span> <span class="hljs-variable">inflater</span> <span class="hljs-operator">=</span> getMenuInflater();<br>    inflater.inflate(R.menu.article_open_browser,menu);<br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">super</span>.onCreateOptionsMenu(menu);<br>&#125;<br></code></pre></td></tr></table></figure><p>è¿™é‡Œçš„æ–¹æ³•å°†ä¹‹å‰å†™å¥½çš„<code>article_open_browser.xml</code>æ”¾åˆ°menuå½“ä¸­</p><p>æœ€åæ˜¯é‡å†™è¿™ä¸ªèœå•é‡Œé¢çš„ç‚¹å‡»è§¦å‘äº‹ä»¶ï¼Œä»£ç å¦‚ä¸‹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-meta">@Override</span><br><span class="hljs-keyword">public</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">onOptionsItemSelected</span><span class="hljs-params">(<span class="hljs-meta">@NonNull</span> MenuItem item)</span> &#123;<br>    <span class="hljs-keyword">switch</span> (item.getItemId()) &#123;<br>        <span class="hljs-keyword">case</span> android.R.id.home:<br>            <span class="hljs-comment">//è®¾ç½®è¿”å›æŒ‰é’®äº‹ä»¶</span><br>            finish();<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>        <span class="hljs-keyword">case</span> R.id.article_open_browser:<br>            <span class="hljs-comment">//è®¾ç½®æµè§ˆå™¨æ‰“å¼€äº‹ä»¶</span><br>            <span class="hljs-type">Intent</span> <span class="hljs-variable">intent</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Intent</span>();<br>            intent.setAction(Intent.ACTION_VIEW);<br>            intent.setData(Uri.parse(articleUrl));<span class="hljs-comment">//è·³è½¬åˆ°ç½‘é¡µ</span><br>            startActivity(intent);<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>        <span class="hljs-keyword">case</span> R.id.article_open_webView:<br>            <span class="hljs-comment">//è®¾ç½®æ˜¾ç¤ºçš„æ˜¾ç¤ºç½‘é¡µå†…å®¹</span><br>            <span class="hljs-keyword">if</span>(isArticleDisplayed)&#123;<br>                title.setVisibility(View.GONE);<br>                content.setVisibility(View.GONE);<br>                webView.setVisibility(View.VISIBLE);<br>                item.setTitle(<span class="hljs-string">&quot;æœ¬åœ°æ–‡ç« &quot;</span>);<br>            &#125;<span class="hljs-keyword">else</span> &#123;<br>                title.setVisibility(View.VISIBLE);<br>                content.setVisibility(View.VISIBLE);<br>                webView.setVisibility(View.GONE);<br>                item.setTitle(<span class="hljs-string">&quot;åµŒå…¥ç½‘é¡µ&quot;</span>);<br>            &#125;<br>            isArticleDisplayed = !isArticleDisplayed;<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>        <span class="hljs-keyword">default</span>:<br>            <span class="hljs-keyword">break</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">super</span>.onOptionsItemSelected(item);<br>&#125;<br></code></pre></td></tr></table></figure><p>åˆ†åˆ«å¯¹è¿”å›é”®ï¼Œæ˜¾ç¤ºç½‘é¡µå†…å®¹ï¼Œå’Œè·³è½¬æµè§ˆå™¨ä¸‰ä¸ªæŒ‰é”®åšäº†ç‚¹å‡»å“åº”</p><p>å¯¹åº”ä¸‹å›¾çš„ä¸‰ä¸ªå›¾æ ‡ï¼š</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/%E8%81%94%E6%83%B3%E6%88%AA%E5%9B%BE_20230423091235.png" alt="è”æƒ³æˆªå›¾_20230423091235"></p><p>è‡³æ­¤å°±å®Œæˆäº†æ–°é—»æ–‡ç« è¯¦æƒ…é¡µé¢çš„æ‰€æœ‰åŠŸèƒ½äº†ã€‚</p><p><strong>æ³¨æ„äº‹é¡¹ï¼ï¼ï¼š</strong></p><p>webviewæ— æ³•æ­£å¸¸æ‰“å¼€çš„åŸå› ï¼ˆè¿™é‡ŒæŒ‡å·²ç»è®¾ç½®äº†uses-permissionçš„æƒ…å†µï¼‰ï¼š</p><p>å¯ä»¥å‚è€ƒè¿™ç¯‡åšå®¢æ–‡ç« ï¼Œå®Œç¾è§£å†³é—®é¢˜</p><p><a href="https://blog.csdn.net/jppipai/article/details/124433198">(174æ¡æ¶ˆæ¯) WebViewå‡ºç°net:ERR_CLEARTEXT_NOT_PERMITTEDå’Œnet::ERR_UNKNOWN_URL_SCHEMEé”™è¯¯çš„è§£å†³åŠæ³•_é£é¸­ä¼ ä¹¦çš„åšå®¢-CSDNåšå®¢</a></p><p>ä¸»è¦åŸå› æœ‰ä¾‹å¦‚ç°åœ¨çš„ç‰ˆæœ¬ä¸æ”¯æŒhttpæ ¼å¼çš„åè®®ï¼Œå› æ­¤éœ€è¦åœ¨AndroidManifest.xmlå½“ä¸­æ–°æ·»åŠ ä¸€è¡Œ</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-comment">&lt;!--    ç”¨äºå…è®¸ç½‘ç»œè¿æ¥--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">uses-permission</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;android.permission.INTERNET&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">application</span></span><br><span class="hljs-tag">   <span class="hljs-attr">........å…¶ä»–è®¾ç½®</span></span><br><span class="hljs-tag">    <span class="hljs-attr">android:usesCleartextTraffic</span>=<span class="hljs-string">&quot;true&quot;</span></span><br><span class="hljs-tag">   <span class="hljs-attr">......å…¶ä»–è®¾ç½®</span></span><br><span class="hljs-tag">    &gt;</span><br></code></pre></td></tr></table></figure><p>æ¥ç€ä¼šå‡ºç°ç½‘é¡µèƒ½å¤ŸåŠ è½½ä¸€ä¸‹ï¼Œç„¶åå°±åˆå‘ç”Ÿäº†é”™è¯¯ï¼Œè¿™æ¬¡æç¤º<code>net::ERR_UNKNOWN_URL_SCHEMEé”™è¯¯</code>,è¿™é‡Œæ˜¯é‡å®šå‘çš„é—®é¢˜</p><p>è§£å†³æ–¹æ³•æ˜¯é‡å†™ <code>shouldOverrideUrlLoading(WebView view, String url)</code> æ–¹æ³•</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs typescript">webView.<span class="hljs-title function_">setWebViewClient</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">WebViewClient</span>()&#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-built_in">boolean</span> <span class="hljs-title function_">shouldOverrideUrlLoading</span>(<span class="hljs-params"><span class="hljs-title class_">WebView</span> view, <span class="hljs-title class_">String</span> url</span>) &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    &#125;<br>&#125;);<br></code></pre></td></tr></table></figure><ul><li><p><code>return true</code> è¡¨ç¤ºå½“å‰urlå³ä½¿æ˜¯é‡å®šå‘urlä¹Ÿä¸ä¼šå†æ‰§è¡Œï¼ˆé™¤äº†åœ¨return trueä¹‹å‰ä½¿ç”¨webview.loadUrl(url)é™¤å¤–ï¼Œå› ä¸ºè¿™ä¸ªä¼šé‡æ–°åŠ è½½ï¼‰</p></li><li><p><code>return false</code> è¡¨ç¤ºç”±ç³»ç»Ÿæ‰§è¡Œurlï¼Œç›´åˆ°ä¸å†æ‰§è¡Œæ­¤æ–¹æ³•ï¼Œå³åŠ è½½å®Œé‡å®šå‘çš„urï¼ˆå³å…·ä½“çš„urlï¼Œä¸å†æœ‰é‡å®šå‘ï¼‰ã€‚</p></li></ul><p>æˆ–è€…é‡‡ç”¨ä¸Šé¢åšå®¢ç»™å‡ºçš„æ›´åŠ å¤šåˆ¤æ–­çš„æ–¹æ³•ï¼Œå¯ä»¥å¯¹æ›´å¤šç±»å‹çš„é¡µé¢çš„é‡å®šå‘è¿›è¡Œåˆ¤æ–­</p><hr><h2 id="3-æ€»ç»“"><a href="#3-æ€»ç»“" class="headerlink" title="3. æ€»ç»“"></a>3. æ€»ç»“</h2><p>æœ€åæ¥è¯´ä¸€ä¸‹æ€»ç»“å§</p><p>æœ¬æ¬¡å¯ä»¥è¯´æ˜¯å®‰å“è¯¾ä¸Šç¬¬ä¸€æ¬¡åšä¸€ä¸ªæ¯”è¾ƒåƒAppçš„å®éªŒäº†ï¼Œä¹‹å‰çš„å‡ æ¬¡å®éªŒå’Œä½œä¸šä¹Ÿåªæ˜¯å®ç°äº†ä¸€äº›ç®€å•çš„æ ·å¼æˆ–è€…åŠŸèƒ½ï¼Œè€Œè¿™æ¬¡ä¸ä»…è¦å®ç°åŠŸèƒ½ï¼ŒUIä¹Ÿè¦è¿›è¡Œä¸€å®šçš„è®¾è®¡å’Œç¾åŒ–ã€‚</p><p>ä¸ªäººè®¤ä¸ºå·¥ä½œé‡è¿˜æ˜¯æ¯”è¾ƒå¤§çš„äº†ï¼ŒèŠ±è´¹çš„æ—¶é—´ä¹Ÿæ¯”è¾ƒå¤šï¼Œè™½ç„¶æœ€ååšå‡ºæ¥çš„åŠŸèƒ½å…¶å®å¹¶æ²¡æœ‰å¾ˆå¤šï¼Œä½†æ˜¯å› ä¸ºæ˜¯ç¬¬ä¸€æ¬¡åšè¿™ç§ä½“é‡çš„å®‰å“é¡¹ç›®ã€‚</p><p>ç›¸æ¯”äºä»¥å¾€æ¥è§¦åˆ°çš„å°ç¨‹åºå¼€å‘ï¼Œwebå¼€å‘ï¼Œandroidç»™äººæœ€å¤§çš„ä¸åŒå°±æ˜¯éœ€è¦é…ç½®å¤§é‡çš„å¸ƒå±€æ–‡ä»¶ã€‚åœ¨androidå½“ä¸­ï¼Œå¹¶ä¸éœ€è¦ç¼–å†™åƒhtmlï¼Œcssè¿™æ ·çš„æ–‡ä»¶å»æ¸²æŸ“é¡µé¢ï¼Œè€Œæ˜¯éœ€è¦ç”¨xmlæ–‡ä»¶æ¥å±•ç°å¸ƒå±€çš„é¡µé¢å†…å®¹ï¼Œä¹Ÿå¹¶æ²¡æœ‰JavaScriptè¿™æ ·çš„è¯­è¨€å»å¯¹å‰ç«¯çš„æ ·å¼ï¼Œæ•°æ®é€»è¾‘è¿›è¡Œå¤„ç†ï¼Œè€Œæ˜¯é Javaè¯­è¨€æ¥ç¼–å†™ä¸€ä¸ªå«åšæ´»åŠ¨ï¼ˆActivityï¼‰çš„ä¸œè¥¿ï¼Œå°†æ•°æ®è¿æ¥åˆ°ä¸€èµ·ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>æœ¬ç§‘</category>
      
      <category>å¤§ä¸‰ä¸‹</category>
      
      <category>ç§»åŠ¨äº’è”ç½‘ç¼–ç¨‹</category>
      
    </categories>
    
    
    <tags>
      
      <tag>android</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç¼–è¯‘åŸç†Javaå®ç°æ­£è§„å¼ç”ŸæˆNFAï¼ˆç®—ç¬¦ä¼˜å…ˆå®ç°Thompsonç®—æ³•ï¼‰</title>
    <link href="/2023/04/15/%E6%9C%AC%E7%A7%91/%E5%A4%A7%E4%B8%89%E4%B8%8B/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/%E9%80%9A%E8%BF%87%E6%AD%A3%E5%88%99%E5%BC%8F%E5%BE%97%E5%88%B0NFA%EF%BC%88%E5%88%A9%E7%94%A8%E9%80%86%E6%B3%A2%E5%85%B0%E5%BC%8F%E5%AE%9E%E7%8E%B0Thompson%E7%AE%97%E6%B3%95%EF%BC%89/"/>
    <url>/2023/04/15/%E6%9C%AC%E7%A7%91/%E5%A4%A7%E4%B8%89%E4%B8%8B/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/%E9%80%9A%E8%BF%87%E6%AD%A3%E5%88%99%E5%BC%8F%E5%BE%97%E5%88%B0NFA%EF%BC%88%E5%88%A9%E7%94%A8%E9%80%86%E6%B3%A2%E5%85%B0%E5%BC%8F%E5%AE%9E%E7%8E%B0Thompson%E7%AE%97%E6%B3%95%EF%BC%89/</url>
    
    <content type="html"><![CDATA[<h1 id="ç¼–è¯‘åŸç†Javaå®ç°æ­£è§„å¼ç”ŸæˆNFAï¼ˆåˆ©ç”¨ç®—ç¬¦ä¼˜å…ˆçº§å®ç°Thompsonç®—æ³•ï¼‰"><a href="#ç¼–è¯‘åŸç†Javaå®ç°æ­£è§„å¼ç”ŸæˆNFAï¼ˆåˆ©ç”¨ç®—ç¬¦ä¼˜å…ˆçº§å®ç°Thompsonç®—æ³•ï¼‰" class="headerlink" title="ç¼–è¯‘åŸç†Javaå®ç°æ­£è§„å¼ç”ŸæˆNFAï¼ˆåˆ©ç”¨ç®—ç¬¦ä¼˜å…ˆçº§å®ç°Thompsonç®—æ³•ï¼‰"></a>ç¼–è¯‘åŸç†Javaå®ç°æ­£è§„å¼ç”ŸæˆNFAï¼ˆåˆ©ç”¨ç®—ç¬¦ä¼˜å…ˆçº§å®ç°Thompsonç®—æ³•ï¼‰</h1><p>[TOC]</p><blockquote><p><strong>å‰è¨€</strong>ï¼š</p><p>è¯¥éƒ¨åˆ†ä»£ç å±äºä»“åº“å½“ä¸­part03çš„éƒ¨åˆ†ï¼Œä½¿ç”¨çš„è¯­è¨€ä¸ºJava</p><p>ç”±äºä»£ç æ¯”è¾ƒå¤šï¼Œæ–‡ä»¶æ•°é‡ä¹Ÿè¾ƒå¤šï¼Œå› æ­¤å…ˆä»‹ç»ä¸€ä¸‹ä¸åŒçš„æ–‡ä»¶çš„åŠŸèƒ½ï¼š<br><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230409181716901.png" alt="image-20230409181716901"></p><p>å…¶ä»–æ–‡ä»¶æ˜¯ä¸€äº›ç»“æ„ä»£ç ï¼Œæ–¹ä¾¿è¿›è¡Œæ•°æ®çš„å¤„ç†å’Œé¢å‘å¯¹è±¡ï¼Œ</p><p>æºç å·²ä¸Šä¼ è‡³Githubï¼Œåœ°å€<a href="https://github.com/Cheesheep/CompilingTheory-Exp2-LexicalAnalysiz">Cheesheep&#x2F;CompilingTheory-Exp2-LexicalAnalysiz: read the regula expression to generate NFA (github.com)</a></p><p>ä»£ç ä½äºä»“åº“çš„part03çš„æ–‡ä»¶å¤¹å†…</p></blockquote><p><strong>ç¨‹åºä»£ç å…¥å£</strong>ï¼š</p><p>ç”Ÿæˆå¯¹åº”çš„NFAéœ€è¦è¿è¡ŒcreateNFAçš„Javaç±»ï¼Œåœ¨è¯¥ç±»ä¼šè°ƒç”¨REFIleç±»æ¥å¯¹è¯»å…¥çš„æ–‡ä»¶è¿›è¡Œå¤„ç†ã€‚</p><p>è¿™é‡Œç»™å‡ºä¸€äº›æ­£è§„å¼çš„<strong>è¾“å…¥ç¤ºä¾‹</strong></p><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs lisp">a(<span class="hljs-name">b</span><span class="hljs-name">|aa)*b</span><br><span class="hljs-name">a*b</span><br><span class="hljs-name">0(1|</span><span class="hljs-number">00</span>)<br>a*b(<span class="hljs-name">b</span><span class="hljs-name">|(ab)*c)ca</span><br><span class="hljs-name">a*b(b|</span>(<span class="hljs-name">ab</span>)*c)*ca<br>a*b(<span class="hljs-name">b</span><span class="hljs-name">|(db)*c|</span><span class="hljs-name">css*e</span>)<br>((<span class="hljs-number">0</span>|1)(010|<span class="hljs-number">11</span>)*) | ((0|101)*)*<br></code></pre></td></tr></table></figure><p>ç¬¬äºŒä¸ªæ­£è§„å¼<strong>è¾“å‡ºæ ·ä¾‹</strong>å¦‚ä¸‹ï¼š</p><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs mathematica"><span class="hljs-built_in">Reverse</span> <span class="hljs-variable">to</span> <span class="hljs-variable">PostFix</span><span class="hljs-operator">:</span> <span class="hljs-variable">a</span><span class="hljs-operator">*</span><span class="hljs-variable">b</span><span class="hljs-operator">-</span><br><span class="hljs-built_in">K</span><span class="hljs-operator">=</span> <span class="hljs-punctuation">&#123;</span><span class="hljs-variable">A</span><span class="hljs-operator">,</span> <span class="hljs-variable">B</span><span class="hljs-operator">,</span> <span class="hljs-built_in">C</span><span class="hljs-operator">,</span> <span class="hljs-built_in">D</span><span class="hljs-operator">,</span> <span class="hljs-built_in">E</span><span class="hljs-operator">,</span> <span class="hljs-variable">F</span><span class="hljs-punctuation">&#125;</span><span class="hljs-operator">;</span> Î£<span class="hljs-operator">=</span><span class="hljs-punctuation">&#123;</span><span class="hljs-variable">a</span><span class="hljs-operator">,</span> <span class="hljs-variable">b</span><span class="hljs-punctuation">&#125;</span><span class="hljs-operator">;</span> <br><span class="hljs-variable">f</span><span class="hljs-punctuation">(</span><span class="hljs-variable">A</span><span class="hljs-operator">,</span> <span class="hljs-variable">a</span><span class="hljs-punctuation">)</span><span class="hljs-operator">=</span> <span class="hljs-punctuation">&#123;</span><span class="hljs-variable">B</span><span class="hljs-punctuation">&#125;</span><span class="hljs-operator">,</span> <span class="hljs-variable">f</span><span class="hljs-punctuation">(</span><span class="hljs-variable">B</span><span class="hljs-operator">,</span> Îµ<span class="hljs-punctuation">)</span><span class="hljs-operator">=</span> <span class="hljs-punctuation">&#123;</span><span class="hljs-variable">A</span><span class="hljs-operator">,</span> <span class="hljs-built_in">D</span><span class="hljs-punctuation">&#125;</span><span class="hljs-operator">,</span> <span class="hljs-variable">f</span><span class="hljs-punctuation">(</span><span class="hljs-built_in">E</span><span class="hljs-operator">,</span> <span class="hljs-variable">b</span><span class="hljs-punctuation">)</span><span class="hljs-operator">=</span> <span class="hljs-punctuation">&#123;</span><span class="hljs-variable">F</span><span class="hljs-punctuation">&#125;</span><span class="hljs-operator">,</span> <span class="hljs-variable">f</span><span class="hljs-punctuation">(</span><span class="hljs-built_in">C</span><span class="hljs-operator">,</span> Îµ<span class="hljs-punctuation">)</span><span class="hljs-operator">=</span> <span class="hljs-punctuation">&#123;</span><span class="hljs-variable">A</span><span class="hljs-operator">,</span> <span class="hljs-built_in">D</span><span class="hljs-punctuation">&#125;</span><span class="hljs-operator">,</span> <span class="hljs-variable">f</span><span class="hljs-punctuation">(</span><span class="hljs-built_in">D</span><span class="hljs-operator">,</span> Îµ<span class="hljs-punctuation">)</span><span class="hljs-operator">=</span> <span class="hljs-punctuation">&#123;</span><span class="hljs-built_in">E</span><span class="hljs-punctuation">&#125;</span><span class="hljs-operator">,</span> <span class="hljs-operator">;</span> <br><span class="hljs-built_in">C</span><span class="hljs-operator">;</span> <span class="hljs-variable">Z</span><span class="hljs-operator">=</span><span class="hljs-punctuation">&#123;</span><span class="hljs-variable">F</span><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><h4 id="å®ç°å’Œè¾“å‡ºä»£ç ï¼š"><a href="#å®ç°å’Œè¾“å‡ºä»£ç ï¼š" class="headerlink" title="å®ç°å’Œè¾“å‡ºä»£ç ï¼š"></a>å®ç°å’Œè¾“å‡ºä»£ç ï¼š</h4><p>è¾“å‡ºä»£ç ä»¥åŠæ ¼å¼å¦‚ä¸‹ï¼š</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230411172859719.png" alt="image-20230411172859719"></p><p>ä¸»è¦çš„è¿ç®—é€»è¾‘ä»£ç éƒ½åœ¨loadFromRegularExpï¼ˆï¼‰é‡Œé¢ã€‚</p><h2 id="1-ç”Ÿæˆåç¼€å½¢å¼çš„æ­£åˆ™å¼"><a href="#1-ç”Ÿæˆåç¼€å½¢å¼çš„æ­£åˆ™å¼" class="headerlink" title="1. ç”Ÿæˆåç¼€å½¢å¼çš„æ­£åˆ™å¼"></a>1. ç”Ÿæˆåç¼€å½¢å¼çš„æ­£åˆ™å¼</h2><blockquote><p>é€šè¿‡æ­£åˆ™å¼è®¡ç®—NFAï¼Œå¦‚æœä»…ä»…ä½¿ç”¨æ¡ä»¶è¯­å¥ï¼Œæ— ç–‘æ˜¯éå¸¸å›°éš¾çš„ï¼Œå¦‚ä½•é«˜æ•ˆåœ°ä½¿ç”¨é¢å‘å¯¹è±¡æ¥è§£å†³è¿™ä¸ªå¤æ‚çš„é—®é¢˜å‘¢ï¼Œè¿™é‡Œå°±å¯ä»¥ç”¨åˆ°ç®—ç¬¦ä¼˜å…ˆçº§çš„æ–¹æ³•æ¥å®ç°ï¼Œä¹Ÿå°±æ˜¯Thompsonç®—æ³•ã€‚</p></blockquote><p>è¯´åˆ°ç®—ç¬¦ä¼˜å…ˆçº§ï¼Œ é‚£ä¹ˆå°±ä¸å¾—ä¸æåˆ°é€†æ³¢å…°å¼ï¼Œæœºå™¨æ˜¯å¦‚ä½•å»è®¡ç®—é‚£äº›å››åˆ™è¿ç®—çš„å‘¢ï¼Œè¾ƒä¸ºå¸¸ç”¨çš„å°±æ˜¯å°†ä¸­ç¼€è¡¨è¾¾å¼è½¬æ¢æˆ<strong>åç¼€è¡¨è¾¾å¼</strong>ã€‚</p><p>ä¸ºä»€ä¹ˆè¦è½¬æ¢æˆåç¼€è¡¨è¾¾å¼å‘¢ï¼Œè¿™æ ·æ˜¯ä¸ºäº†è®©æœºå™¨æ›´å®¹æ˜“å»è¯†åˆ«è¿ç®—çš„ä¼˜å…ˆçº§ï¼Œåƒä¸­ç¼€è¡¨è¾¾å¼ï¼Œç”±äºæ‹¬å·ï¼ŒåŠ æ³•ä¹˜æ³•çš„ä¼˜å…ˆçº§ä¸åŒï¼Œå¾ˆå®¹æ˜“å¯¼è‡´è¿ç®—é¡ºåºçš„ä¸ä¸€è‡´ã€‚</p><p>å¦‚ï¼š<code>5 + 4 * (3 - 2)</code></p><p>æ”¾åœ¨åé¢çš„å¼å­å¾€å¾€ä¼šå…ˆè¢«è¿ç®—ï¼Œä¸ºäº†æ›´å¥½åœ°è®©ç”µè„‘çŸ¥é“æ€ä¹ˆå»è®¡ç®—ï¼Œæˆ‘ä»¬å°±æ‰‹åŠ¨å°†å…¶è½¬åŒ–æˆåç¼€è¡¨è¾¾å¼</p><p>ç»“æœä¸ºï¼š<code>5432-*+</code></p><p>è¿™æ ·å°±å¯ä»¥å¾ˆè½»æ¾åœ°è¿›è¡Œè¿ç®—äº†ï¼Œå› ä¸ºè¿ç®—çš„é¡ºåº<strong>å·²ç»æ’åˆ—å¥½äº†</strong>ã€‚</p><p>è¿™é‡Œå°±ä¸å±•å¼€é˜è¿°é€†æ³¢å…°å¼çš„æ€è·¯äº†ï¼Œæ¥ä¸‹æ¥æŒ‰ç…§å®ƒçš„æ€è·¯å»ç»™æ­£è§„å¼è½¬æ¢æˆåç¼€å½¢å¼çš„æ­£è§„å¼ã€‚</p><p>è¿™é‡Œä¸¾ä¸ªæ­£è§„å¼ä¾‹å­</p><blockquote><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs livecodeserver">æ­£è§„å¼ï¼š<span class="hljs-keyword">a</span>(b|aa)*b<br>å¢åŠ è¿æ¥ç¬¦ï¼š<span class="hljs-keyword">a</span>-(b|<span class="hljs-keyword">a</span>-<span class="hljs-keyword">a</span>)*-b<br>è½¬æ¢åï¼šabaa-|*b<span class="hljs-comment">--</span><br></code></pre></td></tr></table></figure></blockquote><h4 id="1-1-å¢åŠ è¿æ¥ç¬¦"><a href="#1-1-å¢åŠ è¿æ¥ç¬¦" class="headerlink" title="1.1 å¢åŠ è¿æ¥ç¬¦"></a>1.1 å¢åŠ è¿æ¥ç¬¦</h4><p>çœ‹åˆ°ä¸Šé¢è½¬æ¢çš„è¿‡ç¨‹ä¸­ï¼Œä¸­é—´æ¯”å››åˆ™è¿ç®—å¤šäº†ä¸€æ­¥â€œå¢åŠ è¿æ¥ç¬¦â€ï¼Œæ˜¯å› ä¸ºæ­£è§„å¼å½“ä¸­çš„è¿æ¥ç¬¦å·æ˜¯ä¸å­˜åœ¨çš„ï¼Œä¾‹å¦‚aaï¼Œå®é™…ä¸Šæ˜¯ä¸¤ä¸ªå­—æ¯å¯¹åº”çš„NFAçš„<strong>è¿æ¥</strong>ã€‚</p><p>æ‰€ä»¥ä¸ºäº†æ–¹ä¾¿ç¼–å†™ä»£ç ï¼Œæˆ‘ä»¬è¦å…ˆå°†æ­£è§„å¼å¤„ç†ä¸€ä¸‹</p><p>åˆ¤æ–­æ˜¯å¦éœ€è¦åŠ è¿æ¥ç¬¦ä¹Ÿå¾ˆç®€å•ï¼Œæºç å¦‚ä¸‹ï¼š</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230409143141169.png" alt="image-20230409143141169"></p><p>ä¹Ÿæ˜¯é€ä¸ªéå†å½“å‰çš„æ­£åˆ™å¼çš„å­—ç¬¦ï¼Œç„¶åå¦‚æœ<strong>å½“å‰å­—ç¬¦nowWord</strong>æ˜¯â€™*â€˜æˆ–â€™ï¼‰â€˜æˆ–Unicodeå­—ç¬¦ï¼ˆæ•°å­—å­—æ¯å’Œä¸€äº›ç‰¹æ®Šå­—æ¯ï¼‰ï¼Œ</p><p>åˆ™åˆ¤æ–­<strong>ä¸‹ä¸€ä¸ªå­—ç¬¦nextWord</strong>æ˜¯å¦æ˜¯â€™ï¼ˆâ€˜æˆ–è€…UniCodeå­—ç¬¦ï¼Œæ˜¯åˆ™è¯´æ˜éœ€è¦è¿æ¥ã€‚)</p><h4 id="1-2-è®¾ç½®ç®—ç¬¦ä¼˜å…ˆçº§"><a href="#1-2-è®¾ç½®ç®—ç¬¦ä¼˜å…ˆçº§" class="headerlink" title="1.2 è®¾ç½®ç®—ç¬¦ä¼˜å…ˆçº§"></a>1.2 è®¾ç½®ç®—ç¬¦ä¼˜å…ˆçº§</h4><p>æ¥ç€æ˜¯è®¾ç½®ç®—ç¬¦çš„ä¼˜å…ˆçº§æ–¹ä¾¿è¿ç®—ï¼Œè¿™é‡Œç»è¿‡åˆ¤æ–­åï¼Œç›´æ¥å¾—å‡ºä¼˜å…ˆçº§é¡ºåºåº”å½“å¦‚ä¸‹ï¼š</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230409231056648.png" alt="image-20230409231056648"></p><p>ä½¿ç”¨mapï¼Œè¿™æ ·æ–¹ä¾¿ if è¯­å¥ç”¨<code>containsKeyï¼ˆï¼‰</code>åˆ¤æ–­æ˜¯å¦æ˜¯æ“ä½œç¬¦</p><h4 id="1-3-forå¾ªç¯ç”Ÿæˆåç¼€è¡¨è¾¾å¼"><a href="#1-3-forå¾ªç¯ç”Ÿæˆåç¼€è¡¨è¾¾å¼" class="headerlink" title="1.3 forå¾ªç¯ç”Ÿæˆåç¼€è¡¨è¾¾å¼"></a>1.3 forå¾ªç¯ç”Ÿæˆåç¼€è¡¨è¾¾å¼</h4><p>å¤§æ¦‚æ€è·¯å¦‚ä¸‹</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230409233138800.png" alt="image-20230409233138800"></p><p>é™¤äº†æ­£å¸¸æ ¹æ®æ“ä½œç¬¦ä¼˜å…ˆçº§åˆ¤æ–­ç”±äºæ‹¬å·è¿ç®—æ¯”è¾ƒç‰¹æ®Šï¼Œæ‰€ä»¥éœ€è¦å¤šåŠ ä¸€ä¸ªåˆ¤æ–­ï¼Œ</p><p>å¦åˆ™å‡ºç°å³æ‹¬å·çš„æ—¶å€™ï¼Œå³æ‹¬å·å‰é¢çš„æ“ä½œç¬¦éƒ½ä¼šè¢«ä¼˜å…ˆè¾“å‡ºï¼ˆå› ä¸ºå³æ‹¬å·ä¼˜å…ˆçº§å¾ˆé«˜ï¼Œä¿è¯å³æ‹¬å·åé¢çš„ç®—ç¬¦<strong>ä¸ä¼šè¢«å…ˆå¼¹å‡º</strong>ï¼Œåªæœ‰ç­‰åˆ°å·¦æ‹¬å·çš„æ—¶å€™æ‰èƒ½å¼¹å‡ºï¼Œä½†æ˜¯è¿™æ ·å³æ‹¬å·å‰é¢çš„å°±ä¼šå› ä¸ºä¼˜å…ˆçº§è¾ƒä½è€Œ<strong>è¢«å…ˆå¼¹å‡º</strong>ï¼Œè¿™æ ·å°±çŸ›ç›¾äº†ï¼‰</p><p>å®Œæ•´çš„ä»£ç å¦‚ä¸‹ï¼ˆaddConnetSymbol()ä¸Šé¢å·²ç»ç»™å‡ºï¼‰ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><code class="hljs Java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title function_">infixToPostfix</span><span class="hljs-params">(String infix)</span> &#123;<br>    <span class="hljs-comment">//ä¼˜å…ˆçº§é«˜çš„å…¥æ ˆçš„æ—¶å€™</span><br>    Map&lt;Character, Integer&gt; precedence = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();<br>    precedence.put(<span class="hljs-string">&#x27;)&#x27;</span>, <span class="hljs-number">4</span>);<br>    precedence.put(<span class="hljs-string">&#x27;(&#x27;</span>, <span class="hljs-number">4</span>);<br>    precedence.put(<span class="hljs-string">&#x27;|&#x27;</span>, <span class="hljs-number">2</span>);<span class="hljs-comment">//è¿æ¥ç¬¦</span><br>    precedence.put(<span class="hljs-string">&#x27;-&#x27;</span>, <span class="hljs-number">1</span>);<br>    precedence.put(<span class="hljs-string">&#x27;*&#x27;</span>, <span class="hljs-number">0</span>);<br>    infix = infix.replaceAll(<span class="hljs-string">&quot; &quot;</span>,<span class="hljs-string">&quot;&quot;</span>);<span class="hljs-comment">//å…ˆå»æ‰æ‰€æœ‰ç©ºæ ¼</span><br>    infix = addConnectSymbol(infix);<span class="hljs-comment">//å¢åŠ è¿æ¥ç¬¦</span><br>    <span class="hljs-type">StringBuilder</span> <span class="hljs-variable">postfix</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuilder</span>();<br><br>    <span class="hljs-type">char</span> nowWord; <span class="hljs-comment">//nowWordæ˜¯å½“å‰å­—ç¬¦ï¼Œlastæ˜¯å½“å‰æ ˆé¡¶çš„å­—ç¬¦</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; infix.length();i++) &#123;<br>        nowWord = infix.charAt(i);<br>        <span class="hljs-keyword">if</span>(precedence.containsKey(nowWord))&#123;<br>            <span class="hljs-comment">//åˆ¤æ–­æ˜¯å¦æ˜¯æ“ä½œç¬¦</span><br>            <span class="hljs-keyword">if</span>(operatorStack.isEmpty())<br>                operatorStack.push(nowWord);<br>            <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (precedence.get(nowWord) &gt; precedence.get(operatorStack.peek())<br>             &amp;&amp; nowWord != <span class="hljs-string">&#x27;(&#x27;</span>) &#123;<span class="hljs-comment">//ç‰¹æ®Šçš„ï¼Œå¦‚æœæ˜¯å³æ‹¬å·åˆ™å‰é¢çš„æš‚ä¸å¤„ç†</span><br>                <span class="hljs-comment">//å¦‚æœä¸‹ä¸€ä¸ªæ“ä½œç¬¦çš„ä¼˜å…ˆçº§è¾ƒé«˜ï¼Œ</span><br>                <span class="hljs-comment">// åˆ™è¦å°†å½“å‰æ ˆçš„æ“ä½œç¬¦è¾“å‡ºç›´åˆ°ç©ºæˆ–è€…å½“å‰ä¼˜å…ˆçº§æ›´é«˜</span><br>                <span class="hljs-keyword">do</span> &#123;<br>                    postfix.append(operatorStack.pop());<br>                &#125; <span class="hljs-keyword">while</span> (!operatorStack.isEmpty() &amp;&amp;<br>                        precedence.get(nowWord) &gt; precedence.get(operatorStack.peek()));<br>                <span class="hljs-comment">//è¿™é‡Œä¼šæœ‰å¯èƒ½å°†ï¼ˆï¼‰å…¥æ ˆï¼Œæ˜¯ä¸ºäº†æ–¹ä¾¿ç”¨ç®—ç¬¦ä¼˜å…ˆçº§è¡¨ç¤º</span><br>                operatorStack.push(nowWord);<br>            &#125;<br>            <span class="hljs-keyword">else</span>&#123;<br>                operatorStack.push(nowWord);<br>            &#125;<br>            <span class="hljs-keyword">if</span>(nowWord == <span class="hljs-string">&#x27;)&#x27;</span>)<br>            &#123;<br>                <span class="hljs-comment">//æ¸…é™¤ ï¼ˆ ï¼‰</span><br>                operatorStack.pop();<br>                operatorStack.pop();<br>            &#125;<br><br>        &#125;<span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-comment">//æ˜¯å­—æ¯æˆ–è€…æ•°å­—åˆ™ç›´æ¥è¾“å‡º</span><br>            postfix.append(nowWord);<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">while</span> (!operatorStack.isEmpty())&#123;<br>        postfix.append(operatorStack.pop());<br>    &#125;<br>    <span class="hljs-comment">//å»æ‰å¤šä½™çš„æ‹¬å·å¹¶ä¸”è¾“å‡º</span><br>    <span class="hljs-keyword">return</span> postfix.toString().replaceAll(<span class="hljs-string">&quot;[()]&quot;</span>,<span class="hljs-string">&quot;&quot;</span>);<br>&#125;<br></code></pre></td></tr></table></figure><p>å®ä¾‹è¾“å‡ºç»“æœå¦‚ä¸‹ï¼š</p><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs livecodeserver">RegularExpression: <br><span class="hljs-keyword">a</span> (b|<span class="hljs-keyword">a</span> <span class="hljs-keyword">a</span> )* b<br>ReversePolish:<br>abaa-|*b<span class="hljs-comment">--</span><br></code></pre></td></tr></table></figure><hr><h2 id="2-ä½¿ç”¨æ ˆå®ç°è¿ç®—"><a href="#2-ä½¿ç”¨æ ˆå®ç°è¿ç®—" class="headerlink" title="2. ä½¿ç”¨æ ˆå®ç°è¿ç®—"></a>2. ä½¿ç”¨æ ˆå®ç°è¿ç®—</h2><p>é¦–å…ˆæ¥è®²å¦‚ä½•åˆ©ç”¨<strong>æ ˆç»“æ„</strong>æ¥å®ç°è¿ç®—</p><p>æ²¡é”™è¿™ä¸€ä¸ªéƒ¨åˆ†ä¹Ÿéœ€è¦ç”¨åˆ°æ ˆï¼Œè¶³ä»¥è§å¾—æ•°æ®ç»“æ„çš„é‡è¦æ€§</p><p>æµç¨‹å›¾å¦‚ä¸‹ï¼š</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230409142614061.png" alt="image-20230409142614061"></p><p>å¯¹æ­£åˆ™å¼åŠ ä¸Šè¿æ¥ç¬¦å·å¤„ç†åï¼Œå°±å¯ä»¥å¼€å§‹è¯†åˆ«äº†ã€‚</p><p>ä¸»è¦åˆ†ä¸ºä¸¤ç§æƒ…å†µï¼š</p><ul><li>å½“å‰å­—ç¬¦æ˜¯æ•°å­—æˆ–è€…å­—æ¯ï¼ŒJavaå½“ä¸­å¯ä»¥ä½¿ç”¨Characterç±»çš„<code>isLetterOrDigitï¼ˆï¼‰</code>æ–¹æ³•æ¥åˆ¤æ–­</li><li>å¦‚æœä¸æ˜¯ä¸Šè¿°æƒ…å†µï¼Œè§†ä¸ºæ“ä½œç¬¦ï¼Œç„¶åè¿›è¡Œswitchåˆ¤æ–­</li></ul><p>åœ¨switchæ–¹æ³•å½“ä¸­å¯¹ä¸åŒçš„æ“ä½œç¬¦è¿›è¡Œä¸åŒçš„è¿ç®—ã€‚</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230410233452996.png" alt="image-20230410233452996"></p><p>å¦‚å›¾ï¼Œæ€è·¯å¾ˆæ¸…æ™°ä¹Ÿå¾ˆç®€å•ï¼Œå…·ä½“çš„æ“ä½œç¬¦è¿ç®—ç»†èŠ‚è¿™é‡Œæš‚ä¸å±•å¼€</p><p>forå¾ªç¯ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs Java"><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">0</span>; i&lt;postfix_RE.length(); ++i) &#123;<br><span class="hljs-type">char</span> <span class="hljs-variable">token</span> <span class="hljs-operator">=</span> postfix_RE.charAt(i);<br><span class="hljs-keyword">if</span> (Character.isLetterOrDigit(token)) &#123;<br><span class="hljs-comment">//æ˜¯Unicodeåˆ™ç”Ÿæˆä¸€ä¸ªNFAå¹¶ä¸”å…¥æ ˆ</span><br>nfaStack.push(create(token));<br>&#125;<span class="hljs-keyword">else</span> &#123;<br><span class="hljs-type">NFA</span> <span class="hljs-variable">n1</span> <span class="hljs-operator">=</span> nfaStack.pop();<span class="hljs-comment">//å°†æ ˆé¡¶å–å‡ºä¸€ä¸ªå…ƒç´ </span><br><span class="hljs-comment">//æ˜¯æ“ä½œç¬¦ï¼Œåˆ™å‡ºæ ˆå¹¶ä¸”å¼€å§‹è¿ç®—</span><br><span class="hljs-keyword">switch</span> (token) &#123;<br><span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;*&#x27;</span> -&gt; &#123;<br>nfaStack.push(n1.closure());<span class="hljs-comment">//é—­åŒ…è¿ç®—åå†æ”¾å›å»</span><br>&#125;<br><span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;-&#x27;</span> -&gt; &#123;<br><span class="hljs-type">NFA</span> <span class="hljs-variable">n2</span> <span class="hljs-operator">=</span> nfaStack.pop();<br>nfaStack.push(n2.connect(n1));<br>&#125;<br><span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;|&#x27;</span> -&gt; &#123;<br><span class="hljs-type">NFA</span> <span class="hljs-variable">n2</span> <span class="hljs-operator">=</span> nfaStack.pop();<br>nfaStack.push(n2.or(n1));<br>&#125;<br>&#125;<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>forå¾ªç¯ç»“æŸåï¼Œå–å‡ºå½“å‰çš„æ ˆé¡¶å…ƒç´ å°±å¯ä»¥è·å¾—æˆ‘ä»¬éœ€è¦çš„NFAäº†ã€‚</p><hr><h2 id="3-æ„é€ NFAç±»"><a href="#3-æ„é€ NFAç±»" class="headerlink" title="3. æ„é€ NFAç±»"></a>3. æ„é€ NFAç±»</h2><blockquote><p>åœ¨è¯´æ˜äº†ä¸»è¦æ€è·¯ä¹‹åï¼Œæ¥ä¸‹æ¥åªéœ€è¦æŠŠNFAç»™æ„é€ å‡ºæ¥ï¼Œå³ç”¨é¢å‘å¯¹è±¡çš„æ€æƒ³ï¼Œå³å¯æŒ‰æˆ‘ä»¬çš„éœ€è¦è¾“å‡ºçŠ¶æ€æœºNFAäº†ã€‚</p></blockquote><h4 id="3-1-å¦‚ä½•å­˜æ”¾å’Œè¡¨ç¤ºçŠ¶æ€è½¬æ¢è¡¨"><a href="#3-1-å¦‚ä½•å­˜æ”¾å’Œè¡¨ç¤ºçŠ¶æ€è½¬æ¢è¡¨" class="headerlink" title="3.1 å¦‚ä½•å­˜æ”¾å’Œè¡¨ç¤ºçŠ¶æ€è½¬æ¢è¡¨"></a>3.1 å¦‚ä½•å­˜æ”¾å’Œè¡¨ç¤ºçŠ¶æ€è½¬æ¢è¡¨</h4><p>åœ¨å¾—åˆ°NFAåï¼Œè¾“å‡ºå¦‚ä¸‹ï¼š</p><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs mathematica"><span class="hljs-built_in">Reverse</span> <span class="hljs-variable">to</span> <span class="hljs-variable">PostFix</span><span class="hljs-operator">:</span> <span class="hljs-variable">a</span><span class="hljs-operator">*</span><span class="hljs-variable">b</span><span class="hljs-operator">-</span><br><span class="hljs-built_in">K</span><span class="hljs-operator">=</span> <span class="hljs-punctuation">&#123;</span><span class="hljs-variable">A</span><span class="hljs-operator">,</span> <span class="hljs-variable">B</span><span class="hljs-operator">,</span> <span class="hljs-built_in">C</span><span class="hljs-operator">,</span> <span class="hljs-built_in">D</span><span class="hljs-operator">,</span> <span class="hljs-built_in">E</span><span class="hljs-operator">,</span> <span class="hljs-variable">F</span><span class="hljs-punctuation">&#125;</span><span class="hljs-operator">;</span> Î£<span class="hljs-operator">=</span><span class="hljs-punctuation">&#123;</span><span class="hljs-variable">a</span><span class="hljs-operator">,</span> <span class="hljs-variable">b</span><span class="hljs-punctuation">&#125;</span><span class="hljs-operator">;</span> <br><span class="hljs-variable">f</span><span class="hljs-punctuation">(</span><span class="hljs-variable">A</span><span class="hljs-operator">,</span> <span class="hljs-variable">a</span><span class="hljs-punctuation">)</span><span class="hljs-operator">=</span> <span class="hljs-punctuation">&#123;</span><span class="hljs-variable">B</span><span class="hljs-punctuation">&#125;</span><span class="hljs-operator">,</span> <span class="hljs-variable">f</span><span class="hljs-punctuation">(</span><span class="hljs-variable">B</span><span class="hljs-operator">,</span> Îµ<span class="hljs-punctuation">)</span><span class="hljs-operator">=</span> <span class="hljs-punctuation">&#123;</span><span class="hljs-variable">A</span><span class="hljs-operator">,</span> <span class="hljs-built_in">D</span><span class="hljs-punctuation">&#125;</span><span class="hljs-operator">,</span> <span class="hljs-variable">f</span><span class="hljs-punctuation">(</span><span class="hljs-built_in">E</span><span class="hljs-operator">,</span> <span class="hljs-variable">b</span><span class="hljs-punctuation">)</span><span class="hljs-operator">=</span> <span class="hljs-punctuation">&#123;</span><span class="hljs-variable">F</span><span class="hljs-punctuation">&#125;</span><span class="hljs-operator">,</span> <span class="hljs-variable">f</span><span class="hljs-punctuation">(</span><span class="hljs-built_in">C</span><span class="hljs-operator">,</span> Îµ<span class="hljs-punctuation">)</span><span class="hljs-operator">=</span> <span class="hljs-punctuation">&#123;</span><span class="hljs-variable">A</span><span class="hljs-operator">,</span> <span class="hljs-built_in">D</span><span class="hljs-punctuation">&#125;</span><span class="hljs-operator">,</span> <span class="hljs-variable">f</span><span class="hljs-punctuation">(</span><span class="hljs-built_in">D</span><span class="hljs-operator">,</span> Îµ<span class="hljs-punctuation">)</span><span class="hljs-operator">=</span> <span class="hljs-punctuation">&#123;</span><span class="hljs-built_in">E</span><span class="hljs-punctuation">&#125;</span><span class="hljs-operator">,</span> <span class="hljs-operator">;</span> <br><span class="hljs-built_in">C</span><span class="hljs-operator">;</span> <span class="hljs-variable">Z</span><span class="hljs-operator">=</span><span class="hljs-punctuation">&#123;</span><span class="hljs-variable">F</span><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><p>æŒ‰ç…§è¾“å‡ºçš„å†…å®¹ä»¥åŠå®é™…éœ€è¦ï¼ŒDFAç±»çš„æˆå‘˜æ•°æ®å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java">String RegularExpression;<br><span class="hljs-type">int</span> startState;<br><span class="hljs-type">int</span> endState;<br><span class="hljs-type">char</span> <span class="hljs-variable">epsilon</span> <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;Îµ&#x27;</span>;<br>StateCode stateCode;<br><span class="hljs-comment">// =&gt; (S,a) -&gt; &#123;A, B&#125; å¯èƒ½æœ‰å¤šä¸ªçŠ¶æ€ï¼Œæ‰€ä»¥ç”¨list</span><br>HashMap&lt;Pair, ArrayList&lt;Integer&gt;&gt; transferMat = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();<br><span class="hljs-comment">//è®°å½•æ‰€æœ‰äº§ç”Ÿçš„çŠ¶æ€å¦‚Aã€Bç­‰</span><br>ArrayList&lt;Integer&gt; stateList = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br><span class="hljs-comment">//è½¬ç§»ä¿¡æ¯å¦‚aï¼Œbç­‰å°å†™å­—æ¯æˆ–è€…æ•°å­—</span><br>ArrayList&lt;Character&gt; msgList = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br></code></pre></td></tr></table></figure><ul><li><p>RegularExpressionï¼šå­˜å‚¨è¾“å…¥çš„æ­£åˆ™å¼</p></li><li><p>statrStaeã€endStateï¼šè¡¨ç¤ºèµ·å§‹å’Œç»ˆæ­¢çŠ¶æ€ï¼Œåˆ†åˆ«å¯¹åº”çš„æ˜¯è¾“å‡ºçš„æœ€åä¸€è¡Œçš„ä¸¤ä¸ªè¾“å‡ºï¼ŒZ&#x3D;{ç»ˆæ­¢çŠ¶æ€}</p></li><li><p>stateCodeï¼šä¸»è¦ç”¨äºç”Ÿæˆæ–°çš„çŠ¶æ€</p><p>æ³¨æ„ï¼šè¿™é‡Œçš„stateéƒ½æ˜¯ç”¨Integeræ¥è¡¨ç¤ºï¼Œè¿™æ ·æ–¹ä¾¿å­˜å‚¨ï¼Œ</p><p>åœ¨éœ€è¦è¾“å‡ºçš„æ—¶å€™ï¼Œå†è°ƒç”¨å‡½æ•°æŒ‰è‡ªå®šçš„è§„åˆ™æ˜ å°„æˆç›¸åº”çš„å­—æ¯ã€‚</p></li><li><p>transferMatï¼šå­˜æ”¾æ‰€æœ‰çš„çŠ¶æ€è¿ç§»ï¼Œå³è¾“å‡ºçš„ fï¼ˆAï¼Œaï¼‰&#x3D;{B}</p></li><li><p>stateListï¼šå¯¹åº”è¾“å‡ºå½“ä¸­çš„Ké‡Œé¢çš„å†…å®¹</p></li><li><p>msgListï¼šè½¬ç§»æ¡ä»¶ï¼Œå¯¹åº”è¾“å‡ºçš„ Î£&#x3D;{a, b}</p></li><li><p>Pairï¼šç”¨äºå­˜æ”¾å•ä¸ªçŠ¶æ€è½¬ç§»å†…å®¹ï¼Œç”±èµ·å§‹çŠ¶æ€å’Œè½¬ç§»æ¡ä»¶ç»„æˆ</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230411001312815.png" alt="image-20230411001312815"></p></li></ul><p>æœ‰äº†ä»¥ä¸Šçš„å†…å®¹ä¹‹åï¼Œå°±å¯ä»¥å¼€å§‹è¿›è¡Œæ•°æ®å­˜å‚¨å’Œè¿ç®—äº†ã€‚</p><h4 id="3-2-å¦‚ä½•è¿›è¡Œé—­åŒ…ã€è¿æ¥ç­‰è¿ç®—"><a href="#3-2-å¦‚ä½•è¿›è¡Œé—­åŒ…ã€è¿æ¥ç­‰è¿ç®—" class="headerlink" title="3.2 å¦‚ä½•è¿›è¡Œé—­åŒ…ã€è¿æ¥ç­‰è¿ç®—"></a>3.2 å¦‚ä½•è¿›è¡Œé—­åŒ…ã€è¿æ¥ç­‰è¿ç®—</h4><p>åˆšå¼€å§‹å»æ€è€ƒè¿™äº›ç®—æ³•çš„æ—¶å€™ï¼Œä¼šè§‰å¾—å¾ˆæŠ½è±¡ï¼Œæ€è·¯éƒ½å¾ˆéš¾ç†æ¸…ï¼Œä»£ç éš¾ä»¥ä¸‹æ‰‹ï¼Œå› æ­¤è¦å…ˆç†æ¸…æ€è·¯ã€‚</p><p><strong>ç”»å›¾</strong>æ˜¯ä¸ªå¾ˆå¥½çš„æ–¹æ³•ï¼Œå¾ˆå½¢è±¡ã€‚</p><p>è¿™é‡Œä¸€å…±æœ‰å››ä¸ªæ“ä½œï¼Œé™¤äº†å‰é¢æåˆ°çš„è¿æ¥ï¼Œé—­åŒ…ï¼Œæˆ–è¿ç®—å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ªç”¨äºåˆ›å»ºæ–°çš„çŠ¶æ€ã€‚</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230411002912864.png" alt="image-20230411002912864"></p><p>ç»™å‡ºå…·ä½“çš„å®ç°æ–¹æ³•ï¼Œå¹¶ç¨å¾®è¿›è¡Œè®²è§£ã€‚</p><ul><li><p>createï¼ˆï¼‰ï¼š</p><p>æ ¹æ®è¾“å…¥çš„å­—ç¬¦åˆ›å»ºä¸€ä¸ªæ–°çš„çŠ¶æ€æœºï¼Œè¿™ä¸ªçŠ¶æ€æœºåªéœ€è¦<strong>ä¸¤ä¸ªèŠ‚ç‚¹</strong>ï¼Œåˆ†åˆ«æ˜¯èµ·å§‹å’Œç»ˆæ­¢èŠ‚ç‚¹ã€‚</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230411002745197.png" alt="image-20230411002745197"></p><p>aå°±æ˜¯æˆ‘ä»¬çš„è¾“å…¥å­—ç¬¦</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Java"><span class="hljs-keyword">private</span> NFA <span class="hljs-title function_">create</span><span class="hljs-params">(<span class="hljs-type">char</span> msg)</span> &#123; <br>   <span class="hljs-comment">//a</span><br>   <span class="hljs-type">NFA</span> <span class="hljs-variable">nfa</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">NFA</span>(<span class="hljs-built_in">this</span>.stateCode);<br>   generateNewState(nfa);<span class="hljs-comment">//ç”Ÿæˆæ–°çŠ¶æ€</span><br>   nfa.msgList.add(msg);<br>   nfa.addEdge(nfa.startState, nfa.endState, msg);<span class="hljs-comment">//å¢åŠ ä¸€ä¸ªçŠ¶æ€çš„è½¬ç§»åˆ°transMatå½“ä¸­</span><br>   <span class="hljs-keyword">return</span> nfa;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>connectï¼ˆï¼‰ï¼šå¯¹åº”è¿æ¥ç¬¦ â€˜-â€™</p><p>è¯¥æ–¹æ³•ä¼šç”¨åˆ°è‡ªèº«ä½œä¸ºå®ä¾‹ï¼Œä»¥åŠä¼ å…¥ä¸€ä¸ªnfaè¿›è¡Œè¿æ¥ï¼Œç”¨åˆ°å››ä¸ªèŠ‚ç‚¹çš„æ“ä½œï¼š</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230411003253115.png" alt="image-20230411003253115"></p><p>ä¸­é—´é€šè¿‡ç©ºå­—ç¬¦Îµè¿›è¡Œè¿æ¥ï¼Œé‚£å‡ ä¸ªcollectæ–¹æ³•æ˜¯å°†ä¸¤ä¸ªnfaçš„æ•°æ®æ‹¼æ¥èµ·æ¥å¹¶ä¸”èµ‹ç»™è¿™ä¸ªæ–°çš„nfa</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">private</span> NFA <span class="hljs-title function_">connect</span><span class="hljs-params">(NFA other)</span> &#123;<br>   <span class="hljs-comment">//r1 o r2 è¿æ¥ç¬¦ï¼šâ€˜-â€™</span><br>   <span class="hljs-comment">//r1.connect(r2)</span><br>   <span class="hljs-type">NFA</span> <span class="hljs-variable">nfa</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">NFA</span>(<span class="hljs-built_in">this</span>.stateCode);<br>   nfa.startState = <span class="hljs-built_in">this</span>.startState;<br>   nfa.endState = other.endState;<br>   nfa.transferMat = <span class="hljs-built_in">this</span>.collectTransferMat(other.transferMat);<br>   nfa.stateList = <span class="hljs-built_in">this</span>.collectStateList(other.stateList);<br>   nfa.msgList = <span class="hljs-built_in">this</span>.collectMsgList(other.msgList);<br>    <span class="hljs-comment">//ç”Ÿæˆè¿æ¥çš„è¾¹</span><br>   nfa.addEdge(<span class="hljs-built_in">this</span>.endState, other.startState, epsilon);<br>   <span class="hljs-keyword">return</span> nfa;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>orï¼ˆï¼‰ï¼šå¯¹åº”æˆ–è¿ç®—ç¬¦ â€˜ | â€™</p><p>æˆ–æ“ä½œéœ€è¦ç”Ÿæˆå››æ¡æ–°çš„è¿æ¥è¾¹ï¼Œå¹¶ä¸”ä¼šç”Ÿæˆä¸¤ä¸ªæ–°çš„çŠ¶æ€ï¼š</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230411004112698.png" alt="image-20230411004112698"></p><p>å¦‚å›¾ï¼Œåˆ†åˆ«ç”Ÿæˆä¸¤ä¸ªæ–°çš„çŠ¶æ€ä½œä¸ºèµ·å§‹å’Œç»ˆæ­¢èŠ‚ç‚¹ï¼Œå¹¶ä¸”ç”¨ç›¸åº”çš„å››æ¡è¾¹è¿æ¥èµ·æ¥ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">private</span> NFA <span class="hljs-title function_">or</span><span class="hljs-params">(NFA other)</span> &#123;<br>   <span class="hljs-comment">//r1 | r2</span><br>   <span class="hljs-comment">//ç”¨æ³•ï¼š n1.or(n2)</span><br>   <span class="hljs-type">NFA</span> <span class="hljs-variable">nfa</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">NFA</span>(<span class="hljs-built_in">this</span>.stateCode);<br>   <span class="hljs-comment">//åˆ†æ”¯çš„èµ·ç‚¹å’Œç»ˆç‚¹</span><br>   generateNewState(nfa);<br>   <span class="hljs-comment">//å°†æ–°çš„ä¸¤ä¸ªæ•°æ®éƒ½æ·»åŠ è¿›å»</span><br>   nfa.collectTransferMat(<span class="hljs-built_in">this</span>.collectTransferMat(other.transferMat));<br>   nfa.collectStateList(<span class="hljs-built_in">this</span>.collectStateList(other.stateList));<br>   nfa.collectMsgList(<span class="hljs-built_in">this</span>.collectMsgList(other.msgList));<br>   <span class="hljs-comment">//create new epsilon edge</span><br>   nfa.addEdge(nfa.startState, <span class="hljs-built_in">this</span>.startState, epsilon);<br>   nfa.addEdge(nfa.startState, other.startState, epsilon);<br>   nfa.addEdge(other.endState, nfa.endState, epsilon);<br>   nfa.addEdge(<span class="hljs-built_in">this</span>.endState, nfa.endState, epsilon);<br>   <span class="hljs-keyword">return</span> nfa;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>closureï¼ˆï¼‰é—­åŒ…ï¼šå¯¹åº”é—­åŒ…è¿ç®—ç¬¦ï¼š â€˜ * â€™</p><p>é—­åŒ…åªéœ€è¦è·å–å½“å‰çš„nfaï¼Œå¹¶ä¸”å¯¹å…¶è¿›è¡Œæ“ä½œï¼Œä½†ä¹Ÿéœ€è¦ç”Ÿæˆå››æ¡è¾¹å’Œä¸¤ä¸ªæ–°çš„çŠ¶æ€</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230411005525481.png" alt="image-20230411005525481"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">private</span> NFA <span class="hljs-title function_">closure</span><span class="hljs-params">()</span>&#123;<br>   <span class="hljs-comment">// a* é—­åŒ…æ“ä½œ</span><br>   <span class="hljs-type">NFA</span> <span class="hljs-variable">nfa</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">NFA</span>(<span class="hljs-built_in">this</span>.stateCode);<br>   <span class="hljs-comment">//create new start / end state</span><br>   generateNewState(nfa);<br>   nfa.collectTransferMat(<span class="hljs-built_in">this</span>.transferMat);<br>   nfa.collectStateList(<span class="hljs-built_in">this</span>.stateList);<br>   nfa.collectMsgList(<span class="hljs-built_in">this</span>.msgList);<br>   <span class="hljs-comment">//å¢åŠ epsilonè¾¹ç¼˜</span><br>   nfa.addEdge(<span class="hljs-built_in">this</span>.endState,<span class="hljs-built_in">this</span>.startState,epsilon);<span class="hljs-comment">//å›æº¯</span><br>   nfa.addEdge(nfa.startState,<span class="hljs-built_in">this</span>.startState,epsilon);<br>   nfa.addEdge(<span class="hljs-built_in">this</span>.endState,nfa.endState,epsilon);<br>   nfa.addEdge(nfa.startState, nfa.endState,epsilon);<span class="hljs-comment">//å…è®¸ä¸ºç©ºç›´æ¥è·³è·ƒ</span><br>   <span class="hljs-keyword">return</span> nfa;<br>&#125;<br></code></pre></td></tr></table></figure></li></ul><p>ä¸»è¦çš„æ“ä½œå’Œé€»è¾‘éƒ½å·²ç»ä»‹ç»äº†ï¼Œå‰©ä¸‹ä¸€äº›æ¶‰åŠåˆ°çš„æ–¹æ³•ï¼Œæ ¹æ®æ–¹æ³•åå¤§è‡´ç†è§£äº†æ“ä½œæ€è·¯å³å¯ï¼Œå®Œæ•´æºç è¿™é‡Œå°±ä¸æ”¾å‡ºæ¥äº†ï¼Œå¯è‡ªè¡Œåˆ°GitHubæŸ¥çœ‹</p>]]></content>
    
    
    <categories>
      
      <category>æœ¬ç§‘</category>
      
      <category>å¤§ä¸‰ä¸‹</category>
      
      <category>ç¼–è¯‘åŸç†</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>å°†å¸¦ç©ºå­—ç¬¦çš„NFAè½¬æ¢æˆDFAï¼ˆç”¨ç¡®å®šåŒ–ç®—æ³•ç”ŸæˆçŠ¶æ€è¡¨ï¼‰&amp;&amp; æ ¹æ®DFAè¯†åˆ«å­—ç¬¦ä¸²ç±»å‹</title>
    <link href="/2023/04/11/%E6%9C%AC%E7%A7%91/%E5%A4%A7%E4%B8%89%E4%B8%8B/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/%E5%A6%82%E4%BD%95%E5%B0%86%E5%B8%A6%E7%A9%BA%E5%AD%97%E7%AC%A6%E7%9A%84NFA%E8%BD%AC%E6%8D%A2%E6%88%90DFA/"/>
    <url>/2023/04/11/%E6%9C%AC%E7%A7%91/%E5%A4%A7%E4%B8%89%E4%B8%8B/%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86/%E5%A6%82%E4%BD%95%E5%B0%86%E5%B8%A6%E7%A9%BA%E5%AD%97%E7%AC%A6%E7%9A%84NFA%E8%BD%AC%E6%8D%A2%E6%88%90DFA/</url>
    
    <content type="html"><![CDATA[<h1 id="å°†å¸¦ç©ºå­—ç¬¦çš„NFAè½¬æ¢æˆDFAï¼ˆç”¨ç¡®å®šåŒ–ç®—æ³•ç”ŸæˆçŠ¶æ€è¡¨ï¼‰-æ ¹æ®DFAè¯†åˆ«å­—ç¬¦ä¸²ç±»å‹"><a href="#å°†å¸¦ç©ºå­—ç¬¦çš„NFAè½¬æ¢æˆDFAï¼ˆç”¨ç¡®å®šåŒ–ç®—æ³•ç”ŸæˆçŠ¶æ€è¡¨ï¼‰-æ ¹æ®DFAè¯†åˆ«å­—ç¬¦ä¸²ç±»å‹" class="headerlink" title="å°†å¸¦ç©ºå­—ç¬¦çš„NFAè½¬æ¢æˆDFAï¼ˆç”¨ç¡®å®šåŒ–ç®—æ³•ç”ŸæˆçŠ¶æ€è¡¨ï¼‰&amp;&amp;æ ¹æ®DFAè¯†åˆ«å­—ç¬¦ä¸²ç±»å‹"></a>å°†å¸¦ç©ºå­—ç¬¦çš„NFAè½¬æ¢æˆDFAï¼ˆç”¨ç¡®å®šåŒ–ç®—æ³•ç”ŸæˆçŠ¶æ€è¡¨ï¼‰&amp;&amp;æ ¹æ®DFAè¯†åˆ«å­—ç¬¦ä¸²ç±»å‹</h1><p>[TOC]</p><blockquote><p><strong>å‰è¨€</strong>ï¼šè¿™é‡Œä¼šç”¨åˆ°ä¹‹å‰å†™çš„æ–‡ç« å½“ä¸­çš„ä»£ç ï¼Œä¾‹å¦‚ç”Ÿæˆçš„DFAç±»ï¼Œæ˜¯ç»§æ‰¿äºNFAç±»çš„ï¼Œåœ¨å…¶ä¹‹ä¸Šå¢åŠ äº†<strong>çŠ¶æ€è½¬ç§»è¡¨</strong>ç­‰æ•°æ®ï¼Œç”¨äºè¡¨ç¤ºDFA</p><p>è¯´æ˜ä¸€ä¸‹æ–‡ä»¶çš„ç»“æ„ï¼š</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230411085818630.png" alt="image-20230411085818630"></p><p>Githubçš„æºç åœ°å€å¦‚ä¸‹<a href="https://github.com/Cheesheep/CompilingTheory-Exp2-LexicalAnalysiz">https://github.com/Cheesheep/CompilingTheory-Exp2-LexicalAnalysiz</a></p><p>ä»£ç æ–‡ä»¶ä½äºpart03æ–‡ä»¶å¤¹å½“ä¸­</p></blockquote><p><strong>ç¨‹åºå…¥å£</strong>ï¼š</p><p>è¿è¡ŒcreateDFAçš„ç±»ï¼Œä¼šå»åˆ°REFIleç±»å½“ä¸­å¤„ç†æ–‡ä»¶ï¼Œå¹¶ä¸”åœ¨è¯¥ç±»å½“ä¸­ç”ŸæˆNFAï¼Œå†ç»§ç»­å¯¹NFAè¿›è¡Œå¤„ç†ï¼Œä»è€Œè½¬æ¢æˆDFA</p><p>å› æ­¤è¦çœ‹æ‡‚ä»£ç çš„è¯ï¼Œå»ºè®®å…ˆå»çœ‹ä¹‹å‰æ­£åˆ™å¼è½¬æ¢æˆNFAçš„æ–‡ç« ï¼Œé˜…è¯»æœ¬ç¯‡æ–‡ç« å°±ä¼šæ›´åŠ å®¹æ˜“</p><p><strong>è¾“å…¥æ ·ä¾‹</strong>ï¼ˆæ­£è§„å¼ä»¥åŠå¯¹åº”ç”Ÿæˆçš„NFAï¼‰ï¼š</p><figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs mathematica">æ­£è§„å¼ï¼š<br><span class="hljs-variable">a</span><span class="hljs-punctuation">(</span><span class="hljs-variable">b</span><span class="hljs-operator">|</span><span class="hljs-variable">aa</span><span class="hljs-punctuation">)</span><span class="hljs-operator">*</span><span class="hljs-variable">b</span><br>å¯¹åº”çš„<span class="hljs-variable">NFA</span>ï¼š<br><span class="hljs-built_in">K</span><span class="hljs-operator">=</span> <span class="hljs-punctuation">&#123;</span><span class="hljs-variable">A</span><span class="hljs-operator">,</span> <span class="hljs-variable">B</span><span class="hljs-operator">,</span> <span class="hljs-built_in">C</span><span class="hljs-operator">,</span> <span class="hljs-built_in">D</span><span class="hljs-operator">,</span> <span class="hljs-built_in">E</span><span class="hljs-operator">,</span> <span class="hljs-variable">F</span><span class="hljs-operator">,</span> <span class="hljs-variable">G</span><span class="hljs-operator">,</span> <span class="hljs-variable">H</span><span class="hljs-operator">,</span> <span class="hljs-built_in">I</span><span class="hljs-operator">,</span> <span class="hljs-variable">J</span><span class="hljs-operator">,</span> <span class="hljs-built_in">K</span><span class="hljs-operator">,</span> <span class="hljs-variable">L</span><span class="hljs-operator">,</span> <span class="hljs-variable">M</span><span class="hljs-operator">,</span> <span class="hljs-built_in">N</span><span class="hljs-punctuation">&#125;</span><span class="hljs-operator">;</span> Î£<span class="hljs-operator">=</span><span class="hljs-punctuation">&#123;</span><span class="hljs-variable">a</span><span class="hljs-operator">,</span> <span class="hljs-variable">b</span><span class="hljs-punctuation">&#125;</span><span class="hljs-operator">;</span> <br><span class="hljs-variable">f</span><span class="hljs-punctuation">(</span><span class="hljs-variable">L</span><span class="hljs-operator">,</span> Îµ<span class="hljs-punctuation">)</span><span class="hljs-operator">=</span> <span class="hljs-punctuation">&#123;</span><span class="hljs-variable">M</span><span class="hljs-punctuation">&#125;</span><span class="hljs-operator">,</span> <span class="hljs-variable">f</span><span class="hljs-punctuation">(</span><span class="hljs-variable">A</span><span class="hljs-operator">,</span> <span class="hljs-variable">a</span><span class="hljs-punctuation">)</span><span class="hljs-operator">=</span> <span class="hljs-punctuation">&#123;</span><span class="hljs-variable">B</span><span class="hljs-punctuation">&#125;</span><span class="hljs-operator">,</span> <span class="hljs-variable">f</span><span class="hljs-punctuation">(</span><span class="hljs-built_in">C</span><span class="hljs-operator">,</span> <span class="hljs-variable">b</span><span class="hljs-punctuation">)</span><span class="hljs-operator">=</span> <span class="hljs-punctuation">&#123;</span><span class="hljs-built_in">D</span><span class="hljs-punctuation">&#125;</span><span class="hljs-operator">,</span> <span class="hljs-variable">f</span><span class="hljs-punctuation">(</span><span class="hljs-built_in">E</span><span class="hljs-operator">,</span> <span class="hljs-variable">a</span><span class="hljs-punctuation">)</span><span class="hljs-operator">=</span> <span class="hljs-punctuation">&#123;</span><span class="hljs-variable">F</span><span class="hljs-punctuation">&#125;</span><span class="hljs-operator">,</span> <span class="hljs-variable">f</span><span class="hljs-punctuation">(</span><span class="hljs-variable">G</span><span class="hljs-operator">,</span> <span class="hljs-variable">a</span><span class="hljs-punctuation">)</span><span class="hljs-operator">=</span> <span class="hljs-punctuation">&#123;</span><span class="hljs-variable">H</span><span class="hljs-punctuation">&#125;</span><span class="hljs-operator">,</span> <span class="hljs-variable">f</span><span class="hljs-punctuation">(</span><span class="hljs-variable">M</span><span class="hljs-operator">,</span> <span class="hljs-variable">b</span><span class="hljs-punctuation">)</span><span class="hljs-operator">=</span> <span class="hljs-punctuation">&#123;</span><span class="hljs-built_in">N</span><span class="hljs-punctuation">&#125;</span><span class="hljs-operator">,</span> <br><span class="hljs-variable">f</span><span class="hljs-punctuation">(</span><span class="hljs-variable">B</span><span class="hljs-operator">,</span> Îµ<span class="hljs-punctuation">)</span><span class="hljs-operator">=</span> <span class="hljs-punctuation">&#123;</span><span class="hljs-built_in">K</span><span class="hljs-punctuation">&#125;</span><span class="hljs-operator">,</span> <span class="hljs-variable">f</span><span class="hljs-punctuation">(</span><span class="hljs-built_in">D</span><span class="hljs-operator">,</span> Îµ<span class="hljs-punctuation">)</span><span class="hljs-operator">=</span> <span class="hljs-punctuation">&#123;</span><span class="hljs-variable">J</span><span class="hljs-punctuation">&#125;</span><span class="hljs-operator">,</span> <span class="hljs-variable">f</span><span class="hljs-punctuation">(</span><span class="hljs-variable">F</span><span class="hljs-operator">,</span> Îµ<span class="hljs-punctuation">)</span><span class="hljs-operator">=</span> <span class="hljs-punctuation">&#123;</span><span class="hljs-variable">G</span><span class="hljs-punctuation">&#125;</span><span class="hljs-operator">,</span> <span class="hljs-variable">f</span><span class="hljs-punctuation">(</span><span class="hljs-variable">H</span><span class="hljs-operator">,</span> Îµ<span class="hljs-punctuation">)</span><span class="hljs-operator">=</span> <span class="hljs-punctuation">&#123;</span><span class="hljs-variable">J</span><span class="hljs-punctuation">&#125;</span><span class="hljs-operator">,</span> <span class="hljs-variable">f</span><span class="hljs-punctuation">(</span><span class="hljs-built_in">I</span><span class="hljs-operator">,</span> Îµ<span class="hljs-punctuation">)</span><span class="hljs-operator">=</span> <span class="hljs-punctuation">&#123;</span><span class="hljs-built_in">C</span><span class="hljs-operator">,</span> <span class="hljs-built_in">E</span><span class="hljs-punctuation">&#125;</span><span class="hljs-operator">,</span> <span class="hljs-variable">f</span><span class="hljs-punctuation">(</span><span class="hljs-variable">J</span><span class="hljs-operator">,</span> Îµ<span class="hljs-punctuation">)</span><span class="hljs-operator">=</span> <span class="hljs-punctuation">&#123;</span><span class="hljs-built_in">I</span><span class="hljs-operator">,</span> <span class="hljs-variable">L</span><span class="hljs-punctuation">&#125;</span><span class="hljs-operator">,</span> <br><span class="hljs-variable">f</span><span class="hljs-punctuation">(</span><span class="hljs-built_in">K</span><span class="hljs-operator">,</span> Îµ<span class="hljs-punctuation">)</span><span class="hljs-operator">=</span> <span class="hljs-punctuation">&#123;</span><span class="hljs-built_in">I</span><span class="hljs-operator">,</span> <span class="hljs-variable">L</span><span class="hljs-punctuation">&#125;</span><span class="hljs-operator">,</span> <span class="hljs-operator">;</span> <br><span class="hljs-variable">A</span><span class="hljs-operator">;</span> <span class="hljs-variable">Z</span><span class="hljs-operator">=</span><span class="hljs-punctuation">&#123;</span><span class="hljs-built_in">N</span><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><p>çœ‹ç€å¾ˆå¤šçŠ¶æ€å¾ˆå¤æ‚æ˜¯å§ï¼Œæˆ‘ä»¬å°†å¯¹åº”çš„çŠ¶æ€æœºç”»å‡ºæ¥ï¼Œçœ‹ç€å°±ç®€å•å¾ˆå¤šäº†</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230411093305066.png" alt="image-20230411093305066"></p><p><strong>è¾“å‡ºæ ·ä¾‹</strong>ï¼š</p><p>å¯¹åº”çš„DFAè¾“å‡ºå¦‚ä¸‹ï¼š</p><figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs dust"><span class="language-xml">K= </span><span class="hljs-template-variable">&#123;A, B, F, N, O&#125;</span><span class="language-xml">; Î£=</span><span class="hljs-template-variable">&#123;a, b&#125;</span><span class="language-xml">; </span><br><span class="language-xml">f(O, b)= </span><span class="hljs-template-variable">&#123;O&#125;</span><span class="language-xml">, f(A, a)= </span><span class="hljs-template-variable">&#123;B&#125;</span><span class="language-xml">, f(B, a)= </span><span class="hljs-template-variable">&#123;F&#125;</span><span class="language-xml">, f(B, b)= </span><span class="hljs-template-variable">&#123;O&#125;</span><span class="language-xml">, f(F, a)= </span><span class="hljs-template-variable">&#123;B&#125;</span><span class="language-xml">, f(O, a)= </span><span class="hljs-template-variable">&#123;F&#125;</span><span class="language-xml">, </span><br><span class="language-xml">; </span><br><span class="language-xml">A; Z=</span><span class="hljs-template-variable">&#123;N, O, &#125;</span><br></code></pre></td></tr></table></figure><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230411172107224.png" alt="image-20230411172107224"></p><p>å¯ä»¥çœ‹åˆ°åˆå§‹çŠ¶æ€ä»ç„¶æ˜¯Aï¼Œä½†æ˜¯ç»“æŸçŠ¶æ€å˜æˆäº†Oï¼Œè€Œä¸”Nå·²ç»ä¸è§äº†ï¼Œ</p><p>è¿™é‡Œæ˜¯å› ä¸ºOæ˜¯ä¸€ä¸ªæ–°çš„çŠ¶æ€ï¼ŒåŒæ—¶å¯ä»¥è¡¨ç¤ºåˆ°è¾¾<strong>Bå’ŒFçš„çŠ¶æ€</strong>ï¼Œåé¢ä¼šè®²åˆ°å¦‚ä½•ç”Ÿæˆ</p><h4 id="å®ç°å’Œè¾“å‡ºä»£ç ä¸»è¦ç”¨åˆ°çš„å‡½æ•°ï¼š"><a href="#å®ç°å’Œè¾“å‡ºä»£ç ä¸»è¦ç”¨åˆ°çš„å‡½æ•°ï¼š" class="headerlink" title="å®ç°å’Œè¾“å‡ºä»£ç ä¸»è¦ç”¨åˆ°çš„å‡½æ•°ï¼š"></a>å®ç°å’Œè¾“å‡ºä»£ç ä¸»è¦ç”¨åˆ°çš„å‡½æ•°ï¼š</h4><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230411173312164.png" alt="image-20230411173312164"></p><p>åœ¨è®²è§£<strong>æ­£è§„å¼ç”ŸæˆNFA</strong>é‚£ç¯‡æ–‡ç« å½“ä¸­å·²ç»ä»‹ç»è¿‡loadFromRegularExpï¼ˆï¼‰çš„ä»£ç </p><p>å› æ­¤è¿™é‡Œåªè®²removeEpsilonï¼ˆï¼‰å’ŒNFAToDFAï¼ˆï¼‰çš„æ€è·¯ä»¥åŠä»£ç </p><p>NFAToDFAï¼ˆï¼‰çš„è°ƒç”¨ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">NFAToDFA</span><span class="hljs-params">()</span>&#123;<br>    <span class="hljs-comment">//ä½¿ç”¨ç¡®å®šåŒ–ç®—æ³•å°†NFAè½¬æ¢æˆDFA</span><br>    dfa = <span class="hljs-keyword">new</span> <span class="hljs-title class_">DFA</span>(nfa);<br>    dfa.generateStateFormat(nfa);<span class="hljs-comment">//ç”ŸæˆçŠ¶æ€è¿ç§»è¡¨</span><br>    dfa.showStateFormat();<span class="hljs-comment">//æ‰“å°åˆ°æ§åˆ¶å°</span><br>    dfa.addFormatDataToDFA();<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="1-NFAå»é™¤ç©ºå­—ç¬¦ï¼ˆä»å¯èƒ½ä¸ºNFAï¼‰"><a href="#1-NFAå»é™¤ç©ºå­—ç¬¦ï¼ˆä»å¯èƒ½ä¸ºNFAï¼‰" class="headerlink" title="1. NFAå»é™¤ç©ºå­—ç¬¦ï¼ˆä»å¯èƒ½ä¸ºNFAï¼‰"></a>1. NFAå»é™¤ç©ºå­—ç¬¦ï¼ˆä»å¯èƒ½ä¸ºNFAï¼‰</h2><blockquote><p> ä¸ºäº†è®©æ›´å¥½åœ°è½¬æ¢æˆDFAï¼Œæˆ‘ä»¬éœ€è¦å°†NFAå½“ä¸­çš„ Îµ è½¬ç§»å»æ‰ï¼Œè®©çŠ¶æ€å›¾æ¸…æ™°ç®€æ´ä¸€ç‚¹ã€‚</p><p>æ³¨æ„ï¼Œæœ‰çš„NFAå»é™¤ç©ºå­—ç¬¦åï¼Œå¯èƒ½å°±æˆä¸ºDFAäº†ï¼Œä½†ä¹Ÿæœ‰çš„è¿˜æ˜¯NFAã€‚</p><p>ä¾‹å¦‚ä¸Šé¢ç»™å‡ºçš„ä¾‹å­ï¼Œä¼šå‘ç°BçŠ¶æ€è¾“å…¥bçš„æ—¶å€™ï¼Œä¼šå›åˆ°Bæœ¬èº«æˆ–è€…åˆ°è¾¾Fç»ˆæ€ã€‚</p></blockquote><h4 id="1-1-ç®—æ³•æ€è·¯ï¼š"><a href="#1-1-ç®—æ³•æ€è·¯ï¼š" class="headerlink" title="1.1 ç®—æ³•æ€è·¯ï¼š"></a>1.1 ç®—æ³•æ€è·¯ï¼š</h4><p>æ€è·¯æ˜¯å¾ˆç®€å•çš„</p><p>ä¸¤ä¸ªç”±ç©ºå­—ç¬¦è¿æ¥èµ·æ¥çš„çŠ¶æ€å¯ä»¥è¢«ç®€åŒ–æˆä¸€ä¸ªçŠ¶æ€ï¼Œå¦‚å›¾</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230411094347218.png" alt="image-20230411094347218"></p><p>å¯¹åº”æˆ‘ä»¬çš„ä»£ç ï¼Œä¹Ÿå°±æ˜¯å°† fï¼ˆAï¼ŒÎµ)  &#x3D; B å½“ä¸­çš„Bæ›¿æ¢æˆA</p><p>ä¼ªä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs Java"><span class="hljs-keyword">for</span>ï¼ˆéå†æ‰€æœ‰çŠ¶æ€è¿ç§»ä¿¡æ¯ï¼‰&#123;<br>    <span class="hljs-keyword">if</span>ï¼ˆå½“å‰è½¬ç§»ä¿¡æ¯ä¸ºÎµï¼‰&#123;<br>        src = å½“å‰çš„å‡ºå‘çŠ¶æ€;<br>        dst = å½“å‰ç›®æ ‡çŠ¶æ€;<br>        ç§»é™¤è¿™æ¡çŠ¶æ€ä¿¡æ¯;<br>        <span class="hljs-keyword">for</span>(éå†å‰©ä¸‹çš„çŠ¶æ€è¿ç§»ä¿¡æ¯)&#123;<br>            <span class="hljs-keyword">if</span>ï¼ˆå½“å‰çŠ¶æ€==srcï¼‰<br>                å½“å‰çŠ¶æ€=src;<br>            <span class="hljs-keyword">if</span>ï¼ˆç›®æ ‡çŠ¶æ€==dstï¼‰<br>                å½“å‰çŠ¶æ€=dst;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>è¯¥å®ç°æ–¹æ³•æˆ‘ä»¬ä»ç„¶æ”¾åœ¨ç±»NFAå½“ä¸­ï¼Œä¸º<strong>removeEpsilonï¼ˆï¼‰</strong>ï¼Œå› ä¸ºå»é™¤epsilonåå¯èƒ½ä»ç„¶æ˜¯NFAï¼Œæ‰€ä»¥å°±æ”¾åœ¨è¯¥ç±»ä¸­</p><h4 id="1-2-å®ç°æ•ˆæœï¼š"><a href="#1-2-å®ç°æ•ˆæœï¼š" class="headerlink" title="1.2 å®ç°æ•ˆæœï¼š"></a>1.2 å®ç°æ•ˆæœï¼š</h4><p>æˆåŠŸå°†ç©ºå­—ç¬¦å»é™¤åï¼ŒçŠ¶æ€æœºå¦‚ä¸‹ï¼š</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230411153738592.png" alt="image-20230411153738592"></p><p>çœ‹åˆ°å›¾ç‰‡å½“ä¸­ä»æœ‰ä¸ç¡®å®šçš„çŠ¶æ€è½¬ç§»ï¼Œè¯´æ˜è¿˜æ˜¯NFA</p><h4 id="1-3-æ³¨æ„äº‹é¡¹ï¼š"><a href="#1-3-æ³¨æ„äº‹é¡¹ï¼š" class="headerlink" title="1.3 æ³¨æ„äº‹é¡¹ï¼š"></a>1.3 æ³¨æ„äº‹é¡¹ï¼š</h4><ul><li><p><strong>èµ·å§‹</strong>å’Œ<strong>ç»ˆæ­¢</strong>çŠ¶æ€å¯èƒ½å‘ç”Ÿå˜åŒ–ï¼š</p><p>åœ¨æ›¿ä»£æ‰è¯¥å¸¦æœ‰ç©ºè½¬ç§»çš„ç›®æ ‡çŠ¶æ€ä¹‹å‰ï¼Œ</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230411161409879.png" alt="image-20230411161409879"></p></li><li><p>æœ€åå¯¹æ›¿æ¢åçš„ç›®æ ‡çŠ¶æ€åˆ—è¡¨è¿›è¡Œ<strong>å»é‡</strong></p><p>å¤šä¸ªçŠ¶æ€å¯èƒ½è¢«æ›¿æ¢æˆåŒä¸€ä¸ªçŠ¶æ€</p></li></ul><hr><h2 id="2-ç¡®å®šåŒ–ç®—æ³•"><a href="#2-ç¡®å®šåŒ–ç®—æ³•" class="headerlink" title="2.ç¡®å®šåŒ–ç®—æ³•"></a>2.ç¡®å®šåŒ–ç®—æ³•</h2><h4 id="2-1-æ ¹æ®NFAå†™å‡ºçŠ¶æ€è½¬ç§»è¡¨"><a href="#2-1-æ ¹æ®NFAå†™å‡ºçŠ¶æ€è½¬ç§»è¡¨" class="headerlink" title="2.1 æ ¹æ®NFAå†™å‡ºçŠ¶æ€è½¬ç§»è¡¨"></a>2.1 æ ¹æ®NFAå†™å‡ºçŠ¶æ€è½¬ç§»è¡¨</h4><p>å°†å…¶å»é‡ä¹‹åå°±å¯ä»¥è¿›è¡Œç¡®å®šåŒ–ç®—æ³•çš„å®ç°ï¼Œ</p><p>ä¸»è¦çš„æ€è·¯å°±æ˜¯æ ¹æ®å½“å‰çš„NFAåˆ›å»ºä¸€ä¸ª<strong>çŠ¶æ€è¡¨</strong>ï¼š</p><p>è¿˜æ˜¯ä»¥ä¹‹å‰çš„é‚£ä¸ªæ­£è§„å¼ä½œä¸ºä¾‹å­ï¼šaï¼ˆb|aaï¼‰*b</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230411153738592.png" alt="image-20230411153738592"></p><p>å½“å‰çŠ¶æ€æœºå¦‚ä¸Šå›¾ï¼Œå¾—åˆ°å¦‚ä¸‹çŠ¶æ€è¡¨ï¼Œç”Ÿæˆæ€è·¯å¹¶ä¸éš¾ï¼š</p><table><thead><tr><th>å½“å‰çŠ¶æ€</th><th>a</th><th>b</th></tr></thead><tbody><tr><td>A</td><td>B</td><td></td></tr><tr><td>B</td><td>F</td><td>Bã€F</td></tr><tr><td>N</td><td></td><td></td></tr><tr><td>F</td><td>B</td><td></td></tr><tr><td>Bã€F</td><td>F</td><td>Bã€F</td></tr></tbody></table><p>è¿™é‡Œçœ‹åˆ°Bã€Fæ˜¯ä¸€ä¸ªå åŠ çŠ¶æ€ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ªæ–°çš„ç¬¦å·æ¥ä»£è¡¨è¿™ä¸ªçŠ¶æ€ã€‚ç”±æ­¤å¯ä»¥ç”Ÿæˆä¸€ä¸ªæ–°çš„çŠ¶æ€æœº</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230411172107224.png" alt="image-20230411172107224"></p><p>å¦‚ä¸Šå›¾çŠ¶æ€æœºï¼Œè¿™æ ·æ¯ä¸ªçŠ¶æ€çš„æ¯ä¸ªè¾“å‡ºéƒ½æœ‰å”¯ä¸€çš„å¯¹åº”çš„ç›®æ ‡çŠ¶æ€ï¼ŒæˆåŠŸåœ°ä»NFAè½¬æ¢æˆäº†DFAã€‚</p><h4 id="2-2-DFAç±»çš„å®ç°ä»¥åŠä»£ç åˆ›å»ºçŠ¶æ€è¡¨ï¼ˆæœ€éš¾çš„éƒ¨åˆ†ï¼‰"><a href="#2-2-DFAç±»çš„å®ç°ä»¥åŠä»£ç åˆ›å»ºçŠ¶æ€è¡¨ï¼ˆæœ€éš¾çš„éƒ¨åˆ†ï¼‰" class="headerlink" title="2.2 DFAç±»çš„å®ç°ä»¥åŠä»£ç åˆ›å»ºçŠ¶æ€è¡¨ï¼ˆæœ€éš¾çš„éƒ¨åˆ†ï¼‰"></a>2.2 DFAç±»çš„å®ç°ä»¥åŠä»£ç åˆ›å»ºçŠ¶æ€è¡¨ï¼ˆæœ€éš¾çš„éƒ¨åˆ†ï¼‰</h4><p>ä¸ºäº†æ›´å¥½åœ°é¢å‘å¯¹è±¡ï¼Œæé«˜ä»£ç å¤ç”¨æ€§ä»¥åŠå°è£…æ€§ï¼ŒDFAä¼šç»§æ‰¿äºNFAç±»ï¼Œå¹¶ä¸”æ–°å¢ä¸€äº›å±äºDFAçš„æˆå‘˜å‡½æ•°å’Œæˆå‘˜æ•°æ®ã€‚</p><p>åŒæ—¶è¿™é‡Œçš„ä»£ç é‡æ¯”è¾ƒå¤§ï¼Œå˜é‡ä¹Ÿå¾ˆå¤šï¼Œæœ‰å¾ˆå¤šè¦æ³¨æ„çš„æ“ä½œç»†èŠ‚ï¼Œä¸ªäººè®¤ä¸ºç”±äºèƒ½åŠ›é—®é¢˜å†™çš„å¤ªè¿‡å¤æ‚äº†ï¼Œå¯¼è‡´è¶Šå†™è¶Šéš¾ï¼Œå¦‚æœæœ‰æ›´å¥½æ›´ç®€å•åœ°æ€è·¯æ˜¯éå¸¸æ­£å¸¸çš„ã€‚</p><p>ä»¥ä¸‹ä¸ºDFAçš„<strong>æˆå‘˜å±æ€§</strong>ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">DFA</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">NFA</span>&#123;<br>    <span class="hljs-comment">//msgListä½œä¸ºè¡Œå¤´ï¼Œ</span><br>    <span class="hljs-comment">// stateFormat çš„ key å¯¹åº”çš„çŠ¶æ€ä½œä¸ºåˆ—å¤´</span><br>    Map&lt; Integer,ArrayList&lt;HashSet&lt;Integer&gt;&gt;&gt; stateFormat = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();<br>    <span class="hljs-comment">//è¯¥è¡¨ç”¨æ¥æ˜ å°„ç”±äºå¤šçŠ¶æ€è€Œæ–°äº§ç”Ÿçš„çŠ¶æ€</span><br>    Map&lt;Integer,HashSet&lt;Integer&gt;&gt; newStateMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();<br>    <span class="hljs-comment">//ç”¨äºå­˜æ”¾åœ¨æ–°çŠ¶æ€å½“ä¸­äº§ç”Ÿçš„æ›´æ–°çš„çŠ¶æ€</span><br>    Map&lt;Integer,HashSet&lt;Integer&gt;&gt; newerStateMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();<br>    <span class="hljs-comment">//ç”¨äºå­˜æ”¾æ‰€æœ‰å·²ç»äº§å­˜åœ¨çš„çŠ¶æ€</span><br>    Map&lt;Integer,HashSet&lt;Integer&gt;&gt; saveAllStateMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">HashMap</span>&lt;&gt;();<br><br>    <span class="hljs-comment">//ä¸»è¦ä½œä¸ºä¸€ä¸ªå˜é‡åç§°æ–¹ä¾¿ä½¿ç”¨</span><br>    ArrayList&lt;HashSet&lt;Integer&gt;&gt; theFormat;<span class="hljs-comment">//DFAä¼šæœ‰å¤šä¸ªç»ˆæ­¢çŠ¶æ€</span><br><br>    ArrayList&lt;Integer&gt; endState = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br> &#125;<br></code></pre></td></tr></table></figure><ul><li><strong>stateFormat</strong>ï¼šè¿™é‡Œå°±æ˜¯å­˜æ”¾çš„äºŒç»´è¡¨æ ¼ï¼Œç”¨Mapæ˜¯ä¸ºäº†æ–¹ä¾¿æ˜ å°„çŠ¶æ€ï¼Œkeyå­˜æ”¾çš„å®é™…å°±æ˜¯çŠ¶æ€è¡¨çš„è¡Œå¤´ã€‚</li><li>newStateMapï¼šç”¨äºå­˜æ”¾æ–°çš„çŠ¶æ€ï¼Œä¾‹å¦‚{ Bã€F }ç”Ÿæˆçš„æ–°çŠ¶æ€å­˜æ”¾åœ¨keyå½“ä¸­ï¼ŒBã€Fä¸€èµ·å­˜æ”¾åœ¨è¯¥mapçš„Valueå½“ä¸­.</li><li>newerStateMapï¼šåœ¨ç”Ÿæˆæ–°çš„çŠ¶æ€çš„æ•°æ®çš„æ—¶å€™ï¼Œå¯èƒ½ä¼šè¿›ä¸€æ­¥åˆäº§ç”Ÿä¸€ä¸ªæ–°çš„çŠ¶æ€ï¼Œå› æ­¤ç”¨å¤šä¸€ä¸ªMapæ¥å­˜æ”¾ï¼Œæ–¹ä¾¿åŒºåˆ†ï¼Œè¿™ä¸ªæ¦‚å¿µå¯èƒ½æ²¡é‚£ä¹ˆå¥½æ‡‚ï¼Œåé¢è®²è§£å…·ä½“å®ç°çš„æ—¶å€™ä¼šå†æ¬¡å±•å¼€æ¥è®²ã€‚</li><li>endStateï¼šè¿™é‡Œè¦†ç›–äº†NFAå½“ä¸­å¯¹åº”çš„endStateï¼Œæ˜¯å› ä¸ºDFAçš„ç»“æŸçŠ¶æ€å¾€å¾€ä¸æ­¢ä¸€ä¸ªã€‚</li></ul><p><strong>ä¸»è¦æˆå‘˜æ–¹æ³•</strong>ä»‹ç»ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java">generateStateFormat(NFA nfa);<br>changeOldStates();<br>generateNewStateFormat();<br>addFormatDataTODFA();<span class="hljs-comment">//å°†è¡¨çš„æ•°æ®æ”¾å…¥DFAçš„è¿ç§»çŠ¶æ€å½“ä¸­ï¼Œä¾‹å¦‚é‚£äº›fï¼ˆAï¼Œaï¼‰ = B</span><br><br></code></pre></td></tr></table></figure><ul><li>changeOldStatesï¼šå°†å¤šçŠ¶æ€æ”¹æˆå¯¹åº”çš„æ–°çŠ¶æ€ï¼Œå¦‚{Bï¼ŒF} æ”¹æˆ O</li><li>generateNewStateFormatï¼ˆï¼‰ï¼šå¦‚æœæœ‰æ–°çš„çŠ¶æ€ï¼Œåˆ™éœ€è¦å¢åŠ è¡¨çš„å†…å®¹ã€‚</li></ul><p>ç”Ÿæˆ<strong>çŠ¶æ€è¡¨æµç¨‹å›¾</strong>å¦‚ä¸‹ï¼š</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230411195905471.png" alt="image-20230411195905471"></p><p>æµç¨‹æ¥è¯´æ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œä½†æ˜¯å…·ä½“çš„ä»£ç å®ç°èµ·æ¥æœ‰è¾ƒå¤šéœ€è¦æ³¨æ„çš„ç‚¹ã€‚</p><h4 id="2-2-1-generateStateFormatï¼ˆï¼‰ï¼šå¢åŠ ç°æœ‰çŠ¶æ€è¿ç§»ä¿¡æ¯åˆ°è¡¨å½“ä¸­ã€‚"><a href="#2-2-1-generateStateFormatï¼ˆï¼‰ï¼šå¢åŠ ç°æœ‰çŠ¶æ€è¿ç§»ä¿¡æ¯åˆ°è¡¨å½“ä¸­ã€‚" class="headerlink" title="2.2.1 generateStateFormatï¼ˆï¼‰ï¼šå¢åŠ ç°æœ‰çŠ¶æ€è¿ç§»ä¿¡æ¯åˆ°è¡¨å½“ä¸­ã€‚"></a>2.2.1 generateStateFormatï¼ˆï¼‰ï¼šå¢åŠ ç°æœ‰çŠ¶æ€è¿ç§»ä¿¡æ¯åˆ°è¡¨å½“ä¸­ã€‚</h4><p>å…·ä½“ä»£ç å¦‚ä¸‹ï¼š</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230411200933063.png" alt="image-20230411200933063"></p><p><strong>å…³æ³¨ç»†èŠ‚</strong>ï¼š</p><ul><li><p>forå¾ªç¯çš„æ˜¯transferMatï¼Œæ˜¯NFAå½“ä¸­å·²ç»æ„å»ºå¥½çš„çŠ¶æ€è¿ç§»ä¿¡æ¯</p></li><li><p>saveAllStateMapçš„ä½œç”¨æ˜¯ç”¨äºå­˜æ”¾æ‰€æœ‰çš„çŠ¶æ€ä»¥åŠæ˜ å°„çš„æ—§çŠ¶æ€</p></li><li><p>å½“size&#x3D;&#x3D;2çš„æ—¶å€™ï¼Œè¯´æ˜å½“å‰çŠ¶æ€è¿ç§»äº§ç”Ÿçš„ä¸æ­¢ä¸€ä¸ªçŠ¶æ€ï¼Œå› æ­¤è¦ç”¨</p><p>æ–°çš„çŠ¶æ€æ¥è¡¨ç¤ºè¿™ä¸ªå¤šçŠ¶æ€ã€‚</p></li><li><p>å½“éœ€è¦å¢æ·»æ–°çš„è¡Œçš„æ—¶å€™ï¼Œå°±è¿›å…¥åˆ°generateNewStateFormatï¼ˆï¼‰</p></li></ul><h4 id="2-3-generateNewStateFormatï¼ˆï¼‰ç”Ÿæˆæ–°çŠ¶æ€"><a href="#2-3-generateNewStateFormatï¼ˆï¼‰ç”Ÿæˆæ–°çŠ¶æ€" class="headerlink" title="2.3 generateNewStateFormatï¼ˆï¼‰ç”Ÿæˆæ–°çŠ¶æ€"></a>2.3 generateNewStateFormatï¼ˆï¼‰ç”Ÿæˆæ–°çŠ¶æ€</h4><p>ä»£ç æµç¨‹å¦‚ä¸‹ï¼š</p><p>ç”±äºä»£ç è¾ƒé•¿ï¼Œåˆ†å‡ æ­¥æ¥è®²è§£è¯¥å‡½æ•°</p><ol><li><p>éå†æ‰€æœ‰çš„æ–°çŠ¶æ€ï¼Œç„¶åæ–°å¢è¡Œ</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230412002125427.png" alt="image-20230412002125427"></p></li><li><p>å¡«å†™è¡Œæ•°æ®å†…å®¹</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230412002713154.png" alt="image-20230412002713154"></p></li><li><p>åˆ¤æ–­æ˜¯å¦éœ€è¦é€’å½’</p><p>æœ€ååˆ¤æ–­newerStateMapé‡Œé¢çš„æ•°æ®æ˜¯å¦ä¸ºç©ºï¼Œå¦è¯´æ˜è¿™æ¬¡æ–°å¢è¡¨æ ¼æ•°æ®çš„æ—¶å€™åˆäº§ç”Ÿäº†æ–°çš„ç›®æ ‡çŠ¶æ€ç»„åˆï¼Œ</p><p>å› æ­¤éœ€è¦é€’å½’ï¼Œå†æ¬¡å¢åŠ è¡¨çš„æ•°æ®ã€‚</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230412002915491.png" alt="image-20230412002915491"></p></li></ol><p>è¯¥å‡½æ•°ä¸generateStateFormatè¿˜æ˜¯ä¼šæœ‰æ¯”è¾ƒå¤§çš„åŒºåˆ«ï¼Œè¦æ³¨æ„çš„ç»†èŠ‚ä¹Ÿæ›´åŠ å¤šã€‚</p><p><strong>æ³¨æ„äº‹é¡¹</strong>ï¼š</p><ul><li>åœ¨è¯¥å‡½æ•°å½“ä¸­ï¼Œäº§ç”Ÿæ–°çš„çŠ¶æ€æ—¶è¦å­˜æ”¾åˆ°<code>newerStateMap</code>å½“ä¸­ï¼Œè€Œä¸æ˜¯<code>newStateMap</code>ï¼Œæ³¨æ„åŒºåˆ†</li><li>è¯¥å‡½æ•°æ˜¯å¯ä»¥è¿›è¡Œé€’å½’è°ƒç”¨çš„ï¼Œå› ä¸ºå¯èƒ½ä¸æ–­äº§ç”Ÿæ–°çš„çŠ¶æ€ã€‚</li></ul><h4 id="æœ€ç»ˆç»“æœç¤ºä¾‹å¦‚ä¸‹ï¼š"><a href="#æœ€ç»ˆç»“æœç¤ºä¾‹å¦‚ä¸‹ï¼š" class="headerlink" title="æœ€ç»ˆç»“æœç¤ºä¾‹å¦‚ä¸‹ï¼š"></a>æœ€ç»ˆç»“æœç¤ºä¾‹å¦‚ä¸‹ï¼š</h4><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs less">è¾“å…¥ï¼š<br><span class="hljs-selector-tag">a</span>(b|aa)*<span class="hljs-selector-tag">b</span><br><span class="hljs-selector-tag">a</span>*<span class="hljs-selector-tag">b</span><br><span class="hljs-number">0</span>(<span class="hljs-number">1</span>|<span class="hljs-number">00</span>)<br><span class="hljs-selector-tag">a</span>*<span class="hljs-selector-tag">b</span>(b|(ab)*c)<span class="hljs-selector-tag">ca</span><br></code></pre></td></tr></table></figure><figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs dust"><span class="language-xml">è¾“å‡ºï¼š</span><br><span class="language-xml">the 1 DFA: </span><br><span class="language-xml">K= </span><span class="hljs-template-variable">&#123;A, B, F, N, O&#125;</span><span class="language-xml">; Î£=</span><span class="hljs-template-variable">&#123;a, b&#125;</span><span class="language-xml">; </span><br><span class="language-xml">f(O, b)= </span><span class="hljs-template-variable">&#123;O&#125;</span><span class="language-xml">, f(A, a)= </span><span class="hljs-template-variable">&#123;B&#125;</span><span class="language-xml">, f(B, a)= </span><span class="hljs-template-variable">&#123;F&#125;</span><span class="language-xml">, f(B, b)= </span><span class="hljs-template-variable">&#123;O&#125;</span><span class="language-xml">, f(F, a)= </span><span class="hljs-template-variable">&#123;B&#125;</span><span class="language-xml">, f(O, a)= </span><span class="hljs-template-variable">&#123;F&#125;</span><span class="language-xml">, </span><br><span class="language-xml">; </span><br><span class="language-xml">A; Z=</span><span class="hljs-template-variable">&#123;N, O, &#125;</span><span class="language-xml"></span><br><span class="language-xml"> ----------------</span><br><span class="language-xml">the 2 DFA: </span><br><span class="language-xml">K= </span><span class="hljs-template-variable">&#123;C, F&#125;</span><span class="language-xml">; Î£=</span><span class="hljs-template-variable">&#123;a, b&#125;</span><span class="language-xml">; </span><br><span class="language-xml">f(C, a)= </span><span class="hljs-template-variable">&#123;C&#125;</span><span class="language-xml">, f(C, b)= </span><span class="hljs-template-variable">&#123;F&#125;</span><span class="language-xml">, ; </span><br><span class="language-xml">C; Z=</span><span class="hljs-template-variable">&#123;F, &#125;</span><span class="language-xml"></span><br><span class="language-xml"> ----------------</span><br><span class="language-xml">the 3 DFA: </span><br><span class="language-xml">K= </span><span class="hljs-template-variable">&#123;A, B, F, H&#125;</span><span class="language-xml">; Î£=</span><span class="hljs-template-variable">&#123;0, 1&#125;</span><span class="language-xml">; </span><br><span class="language-xml">f(A, 0)= </span><span class="hljs-template-variable">&#123;B&#125;</span><span class="language-xml">, f(B, 0)= </span><span class="hljs-template-variable">&#123;F&#125;</span><span class="language-xml">, f(B, 1)= </span><span class="hljs-template-variable">&#123;H&#125;</span><span class="language-xml">, f(F, 0)= </span><span class="hljs-template-variable">&#123;H&#125;</span><span class="language-xml">, ; </span><br><span class="language-xml">A; Z=</span><span class="hljs-template-variable">&#123;H, &#125;</span><span class="language-xml"></span><br><span class="language-xml"> ----------------</span><br><span class="language-xml">the 4 DFA: </span><br><span class="language-xml">K= </span><span class="hljs-template-variable">&#123;C, F, H, J, T, V&#125;</span><span class="language-xml">; Î£=</span><span class="hljs-template-variable">&#123;a, b, c&#125;</span><span class="language-xml">; </span><br><span class="language-xml">f(C, a)= </span><span class="hljs-template-variable">&#123;C&#125;</span><span class="language-xml">, f(C, b)= </span><span class="hljs-template-variable">&#123;F&#125;</span><span class="language-xml">, f(T, a)= </span><span class="hljs-template-variable">&#123;V&#125;</span><span class="language-xml">, f(F, a)= </span><span class="hljs-template-variable">&#123;J&#125;</span><span class="language-xml">, f(F, b)= </span><span class="hljs-template-variable">&#123;H&#125;</span><span class="language-xml">, f(F, c)= </span><span class="hljs-template-variable">&#123;H&#125;</span><span class="language-xml">, </span><br><span class="language-xml">f(H, c)= </span><span class="hljs-template-variable">&#123;T&#125;</span><span class="language-xml">, f(J, b)= </span><span class="hljs-template-variable">&#123;F&#125;</span><span class="language-xml">, ; </span><br><span class="language-xml">C; Z=</span><span class="hljs-template-variable">&#123;V, &#125;</span><span class="language-xml"></span><br><span class="language-xml"> ----------------</span><br></code></pre></td></tr></table></figure><hr><h2 id="3-æ ¹æ®æ­£åˆ™å¼ç”Ÿæˆçš„DFAè¯†åˆ«å­—ç¬¦ä¸²"><a href="#3-æ ¹æ®æ­£åˆ™å¼ç”Ÿæˆçš„DFAè¯†åˆ«å­—ç¬¦ä¸²" class="headerlink" title="3. æ ¹æ®æ­£åˆ™å¼ç”Ÿæˆçš„DFAè¯†åˆ«å­—ç¬¦ä¸²"></a>3. æ ¹æ®æ­£åˆ™å¼ç”Ÿæˆçš„DFAè¯†åˆ«å­—ç¬¦ä¸²</h2><blockquote><p>è¾“å…¥ï¼šä¸€ä¸ªæ­£è§„å¼æ–‡ä»¶å’Œä¸€ä¸ªå­—ç¬¦ä¸²æ–‡ä»¶</p><p>è¾“å‡ºï¼šåˆ¤æ–­å­—ç¬¦ä¸²æ–‡ä»¶ä¸­çš„æ¯ä¸ªå­—ç¬¦ä¸²ï¼Œèƒ½å¦è¢«æ­£è§„å¼å¯¹åº”çš„DFAæ‰€è¯†åˆ«</p><p>å…¶æ¬¡ï¼Œå†ç»™æ¯ä¸ªæ­£è§„å¼å¢åŠ ä¸€ä¸ªç±»åˆ«ï¼Œè¯†åˆ«åˆ°ç»™å®šå­—ç¬¦ä¸²ç¬¦åˆæŸä¸ªç‰¹å®šæ­£è§„å¼æ—¶ï¼Œè¾“å‡ºè¯¥ç±»åˆ«ã€‚</p><p>ç¤ºä¾‹ï¼šå¦‚æœè¾“å…¥</p><p>a*  Type1</p><p>b  Type2</p><p>é‚£ä¹ˆå¯¹å­—ç¬¦ä¸²aaaè¾“å‡ºï¼šaaaï¼ŒType1</p></blockquote><p>åœ¨å‰é¢çš„å®éªŒå½“ä¸­ï¼Œæˆ‘ä»¬å·²ç»æˆåŠŸæ ¹æ®æ­£è§„å¼ç”Ÿæˆäº†å¯¹åº”çš„DFAäº†ï¼Œå› æ­¤ç°åœ¨å¯ä»¥ç›´æ¥è¯»å…¥å­—ç¬¦ä¸²è¿›è¡Œè¯†åˆ«ã€‚</p><p>åœ¨è¿™é‡Œå°±ä¸å»è®²è¿°å¦‚ä½•è¯»å†™æ–‡ä»¶äº†ï¼Œç›´æ¥è®²è§£éœ€è¦çš„åŠŸèƒ½ï¼šæ ¹æ®DFAè¯†åˆ«å­—ç¬¦ä¸²</p><p>ç”¨åˆ°çš„æ€è·¯æ˜¯æ ¹æ®ç”Ÿæˆçš„çŠ¶æ€è½¬ç§»è¡¨stateFormatï¼Œå°±å¯ä»¥å¾ˆå®¹æ˜“çš„å®Œæˆå­—ç¬¦ä¸²è¯†åˆ«äº†ã€‚</p><table><thead><tr><th>å½“å‰çŠ¶æ€</th><th>a</th><th>b</th></tr></thead><tbody><tr><td>A</td><td>B</td><td></td></tr><tr><td>B</td><td>F</td><td>Bã€F</td></tr><tr><td>N</td><td></td><td></td></tr><tr><td>F</td><td>B</td><td></td></tr><tr><td>Bã€F</td><td>F</td><td>Bã€F</td></tr></tbody></table><p>åˆæ˜¯è¿™ä¸ªä¾‹å­ï¼Œæ¯æ¬¡å¾ªç¯å½“ä¸­è¯»å…¥ä¸€ä¸ª<strong>å­—ç¬¦</strong>ï¼Œæ ¹æ®å½“å‰å­—ç¬¦å¯ä»¥è·å–ä¸‹ä¸€ä¸ªè¦åˆ°è¾¾çš„çŠ¶æ€ã€‚</p><p>ä¾‹å¦‚ä»Aå¼€å§‹ï¼Œè¯»å…¥aaabï¼Œç¬¬ä¸€ä¸ªå­—ç¬¦æ˜¯aï¼Œåˆ™ä¸‹ä¸€ä¸ªçŠ¶æ€ä¸ºB</p><p>ç¬¬äºŒä¸ªå­—ç¬¦è¿˜æ˜¯aï¼Œåˆ™ä¸‹ä¸€ä¸ªçŠ¶æ€æ˜¯Fï¼Œä»¥æ­¤ç±»æ¨â€¦â€¦</p><p>é€»è¾‘ä»£ç å¦‚ä¸‹ï¼š</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230412010059943.png" alt="image-20230412010059943"></p><h4 id="æœ€ç»ˆç»“æœç¤ºä¾‹å¦‚ä¸‹ï¼š-1"><a href="#æœ€ç»ˆç»“æœç¤ºä¾‹å¦‚ä¸‹ï¼š-1" class="headerlink" title="æœ€ç»ˆç»“æœç¤ºä¾‹å¦‚ä¸‹ï¼š"></a>æœ€ç»ˆç»“æœç¤ºä¾‹å¦‚ä¸‹ï¼š</h4><figure class="highlight coq"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs coq">æ­£åˆ™å¼ï¼š<br>Type2: a*b<br>Type3: <span class="hljs-number">0</span>(<span class="hljs-number">1</span>|<span class="hljs-type">00</span>)<br>Type4: a*b(b|<span class="hljs-type">(ab</span>)*c)ca<br>Type5: a*b(b|<span class="hljs-type">(ab</span>)*c)*ca<br>Type6: a*b(b|<span class="hljs-type">(ab</span>)*c)|<span class="hljs-type">ca</span><br>Type7: a*b(b|<span class="hljs-type">(ab</span>)*c|<span class="hljs-type">ca</span>)<br>Type8: a*b(b|<span class="hljs-type">(db</span>)*c|<span class="hljs-type">css</span>*e)<br>Type9: ((<span class="hljs-number">0</span>|<span class="hljs-type">1</span>)(<span class="hljs-number">010</span>|<span class="hljs-type">11</span>)*) | <span class="hljs-type">((0</span>|<span class="hljs-type">101</span>)*)*<br>Type1: a(b|<span class="hljs-type">aa</span>)*b<br>----------<br>å­—ç¬¦ä¸²  ç±»åˆ« ï¼š<br>aaab  Type2  Type1<br>aab  Type2<br>abaabb  Type1<br>aaabababcbca  Type5<br><span class="hljs-number">000</span>  Type3  Type9<br><span class="hljs-number">00</span>  Type9<br><span class="hljs-number">0101000</span>  Type9<br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>æœ¬ç§‘</category>
      
      <category>å¤§ä¸‰ä¸‹</category>
      
      <category>ç¼–è¯‘åŸç†</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>ã€Šè½¯å·¥å®è®­ã€‹å†°ç®±é¡¹ç›®-å‰å››å‘¨è¿­ä»£</title>
    <link href="/2023/03/16/%E6%9C%AC%E7%A7%91/%E5%A4%A7%E4%B8%89%E4%B8%8B/%E8%BD%AF%E5%B7%A5%E5%AE%9E%E8%AE%AD/%E3%80%8A%E8%BD%AF%E5%B7%A5%E5%AE%9E%E8%AE%AD%E3%80%8B%E5%86%B0%E7%AE%B1%E9%A1%B9%E7%9B%AE-%E5%89%8D%E5%9B%9B%E5%91%A8%E8%BF%AD%E4%BB%A3/"/>
    <url>/2023/03/16/%E6%9C%AC%E7%A7%91/%E5%A4%A7%E4%B8%89%E4%B8%8B/%E8%BD%AF%E5%B7%A5%E5%AE%9E%E8%AE%AD/%E3%80%8A%E8%BD%AF%E5%B7%A5%E5%AE%9E%E8%AE%AD%E3%80%8B%E5%86%B0%E7%AE%B1%E9%A1%B9%E7%9B%AE-%E5%89%8D%E5%9B%9B%E5%91%A8%E8%BF%AD%E4%BB%A3/</url>
    
    <content type="html"><![CDATA[<h1 id="ã€Šè½¯å·¥å®è®­ã€‹å†°ç®±é¡¹ç›®-å‰å››å‘¨è¿­ä»£"><a href="#ã€Šè½¯å·¥å®è®­ã€‹å†°ç®±é¡¹ç›®-å‰å››å‘¨è¿­ä»£" class="headerlink" title="ã€Šè½¯å·¥å®è®­ã€‹å†°ç®±é¡¹ç›®-å‰å››å‘¨è¿­ä»£"></a>ã€Šè½¯å·¥å®è®­ã€‹å†°ç®±é¡¹ç›®-å‰å››å‘¨è¿­ä»£</h1><blockquote><p>ç”¨äºè®°å½•æ¯æ¬¡å¤§è¿­ä»£çš„æ—¶å€™ï¼Œå‰åç«¯éƒ½æœ‰ä»€ä¹ˆçš„å†…å®¹ï¼Œå…ˆä»ç®€å•æ˜“æ‡‚çš„å‰ç«¯å¼€å§‹å§</p></blockquote><h2 id="éœ€æ±‚è®¾è®¡"><a href="#éœ€æ±‚è®¾è®¡" class="headerlink" title="éœ€æ±‚è®¾è®¡"></a>éœ€æ±‚è®¾è®¡</h2><h4 id="1-è¿­ä»£éœ€æ±‚å®šä¹‰ï¼š"><a href="#1-è¿­ä»£éœ€æ±‚å®šä¹‰ï¼š" class="headerlink" title="1. è¿­ä»£éœ€æ±‚å®šä¹‰ï¼š"></a>1. è¿­ä»£éœ€æ±‚å®šä¹‰ï¼š</h4><p><strong>å·¥å…·</strong>ï¼šTAPDï¼ˆè…¾è®¯æä¾›çš„ä¸€ä¸ªéå¸¸å¤šåŠŸèƒ½çš„å…±äº«å¹³å°ï¼‰</p><p>é“¾æ¥ï¼š<a href="https://www.tapd.cn/59680053/prong/iterations/card_view?q=805af3b26cd80b3c11ef6aaabb8cc5b2">ã€å†°ç®±ç‰©èµ„ç®¡ç†ã€‘å°ç¨‹åº V1.0.0-è¿­ä»£-æ˜¥_2023_å†°ç®±ç‰©èµ„ç®¡ç†-TAPDå¹³å°</a></p><ul><li><p>ç¬¬ä¸€æ¬¡è¿­ä»£</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230316095926417.png" alt="image-20230316095926417"></p></li><li><p>ç¬¬äºŒæ¬¡</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230316095951202.png" alt="image-20230316095951202"></p></li></ul><h4 id="2-é¡µé¢è®¾è®¡"><a href="#2-é¡µé¢è®¾è®¡" class="headerlink" title="2. é¡µé¢è®¾è®¡"></a>2. é¡µé¢è®¾è®¡</h4><p><strong>ä½¿ç”¨å·¥å…·</strong>ï¼šå¢¨åˆ€ï¼ˆå¢¨åˆ€çš„åˆä½œå…±äº«æ˜¯æ¯”è¾ƒæ–¹ä¾¿çš„ï¼‰</p><p>åˆ†äº«é“¾æ¥ï¼š<a href="https://modao.cc/app/F1G9o37Nrqh8unLKl1BIsS">https://modao.cc/app/F1G9o37Nrqh8unLKl1BIsS</a> #ç‰©èµ„åˆ—è¡¨-åˆ†äº«  </p><ul><li>é¦–é¡µå¦‚ä¸‹ï¼š</li></ul><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230316095400157.png" alt="image-20230316095400157"></p><ul><li><p>-ã€‹å†·è—å®¤</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230316095551547.png" alt="image-20230316095551547"></p></li></ul><h4 id="3-æ•°æ®åº“å®ç°ï¼š"><a href="#3-æ•°æ®åº“å®ç°ï¼š" class="headerlink" title="3.æ•°æ®åº“å®ç°ï¼š"></a>3.æ•°æ®åº“å®ç°ï¼š</h4><p>å¯è§†åŒ–å·¥å…·ï¼šdbdiagram.ioï¼ˆç½‘ç«™ï¼‰ã€PDManerï¼ˆè½¯ä»¶ï¼‰</p><p>é“¾æ¥ï¼š<a href="https://dbdiagram.io/home">dbdiagram.io - Database Relationship Diagrams Design Tool</a></p><ul><li><p>PDManeræ•°æ®åº“å…³ç³»å›¾</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230316100259572.png" alt="image-20230316100259572"></p></li></ul><h4 id="4-æ¥å£è®¾è®¡"><a href="#4-æ¥å£è®¾è®¡" class="headerlink" title="4. æ¥å£è®¾è®¡"></a>4. æ¥å£è®¾è®¡</h4><p><strong>å·¥å…·</strong>ï¼šApifoxï¼ˆè½¯ä»¶ï¼‰ã€PostManç­‰ç­‰</p><p>æ³¨ï¼šä½¿ç”¨apifoxè‹¥ä¸ä¸‹è½½å®¢æˆ·ç«¯ï¼Œåˆ™æ— æ³•æœ¬åœ°è¿›è¡Œæµ‹è¯•ï¼Œå»ºè®®è¿˜æ˜¯ä¸‹è½½å®¢æˆ·ç«¯</p><ul><li><p>å¤§è‡´å¦‚å›¾ï¼š</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230316100515081.png" alt="image-20230316100515081"></p></li></ul><h2 id="åŠŸèƒ½å®ç°"><a href="#åŠŸèƒ½å®ç°" class="headerlink" title="åŠŸèƒ½å®ç°"></a>åŠŸèƒ½å®ç°</h2><h4 id="1-å‰ç«¯å®ç°"><a href="#1-å‰ç«¯å®ç°" class="headerlink" title="1. å‰ç«¯å®ç°"></a>1. å‰ç«¯å®ç°</h4><ul><li><p>å·¥å…·ï¼šå¾®ä¿¡å¼€å‘è€…ã€HBuider</p></li><li><p>æ¡†æ¶ï¼švueï¼Œuniappï¼ˆè¿™ä¸ªæš‚æ—¶ä¸çŸ¥é“ï¼‰</p></li></ul><h4 id="2-åç«¯æ¥å£å®ç°ï¼ˆé‡ç‚¹ï¼‰"><a href="#2-åç«¯æ¥å£å®ç°ï¼ˆé‡ç‚¹ï¼‰" class="headerlink" title="2. åç«¯æ¥å£å®ç°ï¼ˆé‡ç‚¹ï¼‰"></a>2. åç«¯æ¥å£å®ç°ï¼ˆé‡ç‚¹ï¼‰</h4><blockquote><p>ç¼–è¾‘å™¨å·¥å…·ï¼šIDEA</p><p>è¯­è¨€ï¼šJava1.8 ã€ Java17</p><p>æ¡†æ¶ï¼šSpringboot</p></blockquote><h5 id="2-1-springbootæ–‡ä»¶æ¶æ„"><a href="#2-1-springbootæ–‡ä»¶æ¶æ„" class="headerlink" title="2.1 springbootæ–‡ä»¶æ¶æ„"></a>2.1 springbootæ–‡ä»¶æ¶æ„</h5><p>é‡è¦çš„æ–‡ä»¶æœ‰srcï¼Œå’Œpom.xml</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230316113851596.png" alt="image-20230316113851596"></p><p>éœ€è¦ä¿®æ”¹çš„é…ç½®æ–‡ä»¶æœ‰pomå’Œapplication.ymlï¼Œè¿™ä¸ªymlå’Œæ—§ç‰ˆçš„propertiesæ˜¯å·®ä¸å¤šçš„ã€‚</p><h5 id="2-2-poméœ€è¦çš„å¤–éƒ¨ä¾èµ–ï¼ˆæ•°æ®åº“ï¼Œwebï¼Œçƒ­éƒ¨ç½²ï¼Œmysqlï¼‰"><a href="#2-2-poméœ€è¦çš„å¤–éƒ¨ä¾èµ–ï¼ˆæ•°æ®åº“ï¼Œwebï¼Œçƒ­éƒ¨ç½²ï¼Œmysqlï¼‰" class="headerlink" title="2.2 poméœ€è¦çš„å¤–éƒ¨ä¾èµ–ï¼ˆæ•°æ®åº“ï¼Œwebï¼Œçƒ­éƒ¨ç½²ï¼Œmysqlï¼‰"></a>2.2 poméœ€è¦çš„å¤–éƒ¨ä¾èµ–ï¼ˆæ•°æ®åº“ï¼Œwebï¼Œçƒ­éƒ¨ç½²ï¼Œmysqlï¼‰</h5><p>è¿™é‡Œåœ¨ä¹‹å‰å†™çš„springbootåˆå­¦çš„mdæ–‡ä»¶é‡Œé¢ä¹Ÿæœ‰</p><h5 id="2-3-controllerå±‚"><a href="#2-3-controllerå±‚" class="headerlink" title="2.3  controllerå±‚"></a>2.3  controllerå±‚</h5><h5 id="2-4-serviceå’ŒDaoå±‚"><a href="#2-4-serviceå’ŒDaoå±‚" class="headerlink" title="2.4 serviceå’ŒDaoå±‚"></a>2.4 serviceå’ŒDaoå±‚</h5><h5 id="2-5-æ‹¦æˆªå™¨ï¼ˆç”¨äºç™»å½•æ³¨å†Œï¼‰"><a href="#2-5-æ‹¦æˆªå™¨ï¼ˆç”¨äºç™»å½•æ³¨å†Œï¼‰" class="headerlink" title="2.5 æ‹¦æˆªå™¨ï¼ˆç”¨äºç™»å½•æ³¨å†Œï¼‰"></a>2.5 æ‹¦æˆªå™¨ï¼ˆç”¨äºç™»å½•æ³¨å†Œï¼‰</h5>]]></content>
    
    
    <categories>
      
      <category>æœ¬ç§‘</category>
      
      <category>å¤§ä¸‰ä¸‹</category>
      
      <category>è½¯å·¥å®è®­</category>
      
    </categories>
    
    
    <tags>
      
      <tag>åç«¯</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Springbootå¿«é€Ÿä¸Šæ‰‹</title>
    <link href="/2023/03/04/%E6%9C%AC%E7%A7%91/%E5%A4%A7%E4%B8%89%E4%B8%8B/Springboot%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/"/>
    <url>/2023/03/04/%E6%9C%AC%E7%A7%91/%E5%A4%A7%E4%B8%89%E4%B8%8B/Springboot%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B/</url>
    
    <content type="html"><![CDATA[<h1 id="Springbootå¿«é€Ÿä¸Šæ‰‹"><a href="#Springbootå¿«é€Ÿä¸Šæ‰‹" class="headerlink" title="Springbootå¿«é€Ÿä¸Šæ‰‹"></a>Springbootå¿«é€Ÿä¸Šæ‰‹</h1><blockquote><p>è¯¥éƒ¨åˆ†ç”¨æ¥è®°å½•ä¸€ä¸‹å¤§è‡´çš„æ–¹æ³•ä»¥åŠä¸€äº›æ³¨æ„çš„ç»†èŠ‚çŸ¥è¯†ç‚¹</p><p>ä¸€äº›åŸç†å’Œåº•å±‚ï¼ˆä¾‹å¦‚Springï¼Œservletç­‰ä¼ ç»Ÿæ–¹å¼å°±ä¸è®²äº†ï¼‰</p></blockquote><h2 id="1-helloSpring"><a href="#1-helloSpring" class="headerlink" title="1. helloSpring"></a>1. helloSpring</h2><h3 id="1-1-Springbooté¡¹ç›®åˆ›å»ºä»¥åŠåŸºç¡€æ¶æ„"><a href="#1-1-Springbooté¡¹ç›®åˆ›å»ºä»¥åŠåŸºç¡€æ¶æ„" class="headerlink" title="1.1 Springbooté¡¹ç›®åˆ›å»ºä»¥åŠåŸºç¡€æ¶æ„"></a>1.1 Springbooté¡¹ç›®åˆ›å»ºä»¥åŠåŸºç¡€æ¶æ„</h3><p>ä½¿ç”¨IDEAè¿›è¡Œé¡¹ç›®çš„åˆ›å»º</p><p>éœ€è¦ä½¿ç”¨IDEAçš„<strong>ä¸“ä¸šç‰ˆ</strong></p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230304153915860.png" alt="image-20230304153915860"></p><p>è¦æ³¨æ„é€‰æ‹©<strong>Maven</strong>æ¶æ„å’Œjava 8 çš„ç‰ˆæœ¬</p><p>ç‚¹å‡»ä¸‹ä¸€æ­¥</p><p>è¿™é‡Œè¦æ³¨æ„é€‰æ‹©2.x.xçš„ç‰ˆæœ¬ï¼Œå¦åˆ™å¯èƒ½ä¼šå‡ºç°JDKä¸å…¼å®¹çš„æƒ…å†µ</p><p>å¼€å‘webé¡¹ç›®çš„è¯ï¼Œä¸€èˆ¬åªç”¨å‹¾é€‰è¿™ä¸ªSpring Webçš„ä¾èµ–å°±å¯ä»¥äº†</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230304154005717.png" alt="image-20230304154005717"></p><p><strong>æ–‡ä»¶æ¶æ„</strong>ï¼š</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230304154149252.png" alt="image-20230304154149252"></p><p><strong>main</strong>ï¼šç”¨æ¥ç¼–å†™ä»£ç çš„ä¸»è¦æ–‡ä»¶å¤¹</p><p><strong>resources</strong>ï¼šä¸€èˆ¬ç±»ä¼¼HTMLä¹‹ç±»çš„é™æ€èµ„æºæ”¾åœ¨staticå½“ä¸­</p><p>testï¼šæµ‹è¯•ä»£ç </p><p><strong>application.properties</strong>ï¼ˆé‡è¦é…ç½®æ–‡ä»¶ï¼‰:ä¸€äº›é…ç½®æ–‡ä»¶çš„ç¼–å†™</p><p>ä¾‹å¦‚å¯ä»¥é…ç½®devtoolsï¼ˆç”¨äºçƒ­éƒ¨ç½²ä»£ç ï¼‰</p><p><strong>pom.xml</strong>ï¼ˆé‡è¦ï¼‰ ï¼šmavenæ¶æ„çš„æ–‡ä»¶ï¼Œé‡Œé¢æœ‰è¯¥é¡¹ç›®çš„å„ç§å‚æ•°</p><p>å¯ä»¥å¾€é‡Œé¢æ·»åŠ å„ç§ä¾èµ–åŒ…ï¼ŒIDEAä¼šå¸®æˆ‘ä»¬è‡ªåŠ¨å¯¼å…¥å·²æœ‰çš„æˆ–è€…ä¸‹è½½ã€‚</p><p>ä¾‹å¦‚è¿™é‡Œå¯ä»¥å¯¼å…¥devpoolsçƒ­éƒ¨ç½²ï¼Œè¿æ¥æ•°æ®åº“çš„æ—¶å€™ä¹Ÿéœ€è¦å¯¼å…¥ç›¸å…³çš„ä¾èµ–</p><h3 id="1-2-å¯¼å…¥å¤–éƒ¨ä¾èµ–"><a href="#1-2-å¯¼å…¥å¤–éƒ¨ä¾èµ–" class="headerlink" title="1.2 å¯¼å…¥å¤–éƒ¨ä¾èµ–"></a>1.2 å¯¼å…¥å¤–éƒ¨ä¾èµ–</h3><p><strong>å¯¼å…¥devtoolsçƒ­éƒ¨ç½²å·¥å…·</strong>ï¼š</p><ol><li><p>åœ¨pom.xmlå½“ä¸­å¯¼å…¥ç›¸å…³ä¾èµ–ï¼Œæœªå®‰è£…è¿‡çš„å¯ä»¥ç­‰å¾…è‡ªåŠ¨ä¸‹è½½</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230304155015314.png" alt="image-20230304155015314"></p></li><li><p>åœ¨applicationå±æ€§æ–‡ä»¶å½“ä¸­æ·»åŠ é…ç½®</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230304155156307.png" alt="image-20230304155156307"></p></li></ol><h3 id="1-3-ç®€å•çš„postä»¥åŠgetè¯·æ±‚ï¼ˆControllerï¼‰"><a href="#1-3-ç®€å•çš„postä»¥åŠgetè¯·æ±‚ï¼ˆControllerï¼‰" class="headerlink" title="1.3 ç®€å•çš„postä»¥åŠgetè¯·æ±‚ï¼ˆControllerï¼‰"></a>1.3 ç®€å•çš„postä»¥åŠgetè¯·æ±‚ï¼ˆControllerï¼‰</h3><p><strong>Mappingå®ç°åŸºæœ¬çš„getã€postæ–¹æ³•è¯·æ±‚</strong>ï¼š</p><ul><li><p>åˆ›å»ºä¸€ä¸ªcontrollerè½¯ä»¶åŒ…</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230304160309209.png" alt="image-20230304160309209"></p></li><li><p>åœ¨è¦æ§åˆ¶çš„ç±»ä¸Šé¢åŠ ä¸Šæ³¨è§£<code>@RestController</code></p></li><li><p>GetMappingåŠ ä¸Šåœ°å€ï¼ˆå¯åŠ <strong>é€šé…ç¬¦</strong>ï¼‰å®ç°getæ–¹æ³•</p></li></ul><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230304155425222.png" alt="image-20230304155425222"></p><ul><li><p><code>RequestMapping</code>å®ç°postæˆ–getæ–¹æ³•</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230304160418966.png" alt="image-20230304160418966"></p><p>è¿™é‡Œæœ€åä¸€ä¸ªpostTest3å¯ä»¥ç”¨<strong>Userç±»</strong>æ¥æ¥æ”¶jsonæ ¼å¼çš„æ•°æ®</p><p>Userç±»ä¸€èˆ¬å»ºè®®åå­—ä¸ä¼ è¿‡æ¥çš„æ•°æ®è¦ä¸€è‡´</p></li></ul><h3 id="1-4-æ–‡ä»¶ä¸Šä¼ "><a href="#1-4-æ–‡ä»¶ä¸Šä¼ " class="headerlink" title="1.4 æ–‡ä»¶ä¸Šä¼ "></a>1.4 æ–‡ä»¶ä¸Šä¼ </h3><p>æ¥æ”¶æ–‡ä»¶ï¼ˆä¾‹å¦‚å›¾ç‰‡ï¼‰å¯ä»¥ç”¨åˆ°<code>MultipartFile</code>å®ç°ï¼Œå¹¶ä¸”ç”¨HttpServletRequestæ¥è·å–è¦ä¿å­˜çš„è·¯å¾„ï¼ˆä»¥åæ˜¯ä¿å­˜åœ¨äº‘ç«¯ï¼‰</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230304161046400.png" alt="image-20230304161046400"></p><p>ä½¿ç”¨postæ–¹æ³•æ¥æ”¶æ•°æ®</p><ul><li>æ¥å£æµ‹è¯•æ–¹æ³•å¦‚ä¸‹</li></ul><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230304161136216.png" alt="image-20230304161136216"></p><ul><li><p>pathå‚æ•°åé¢ç”¨æ¥å­˜å‚¨æ–‡ä»¶</p><p>é€šè¿‡requestæ¥è·å–æœåŠ¡å™¨è‡ªå¸¦çš„åœ°å€ï¼Œä¸è¦å°†è·¯å¾„å†™æ­»</p></li><li><p>åœ¨<strong>application</strong>å½“ä¸­è°ƒæ•´<strong>æœ€å¤§å¯ä¸Šä¼ </strong>å†…å­˜</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230304161848029.png" alt="image-20230304161848029"></p></li><li><p>å­˜å‚¨æ–‡ä»¶çš„æ–¹æ³•å¦‚ä¸‹ï¼š</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230304161305422.png" alt="image-20230304161305422"></p></li></ul><h3 id="1-5-æ³¨å†Œæ‹¦æˆªå™¨"><a href="#1-5-æ³¨å†Œæ‹¦æˆªå™¨" class="headerlink" title="1.5 æ³¨å†Œæ‹¦æˆªå™¨"></a>1.5 æ³¨å†Œæ‹¦æˆªå™¨</h3><blockquote><p>æ³¨å†Œæ‹¦æˆªå™¨éœ€è¦åˆ›å»ºä¸¤ä¸ªæ–‡ä»¶</p></blockquote><p>æ‹¦æˆªå™¨ä½œç”¨ï¼šåœ¨è®¿é—®è¯¥è·¯å¾„ä¸‹é¢çš„æ—¶å€™ï¼Œå°±ä¼š<strong>è§¦å‘æ‹¦æˆªå™¨</strong>ï¼Œå¯ä»¥å†™ç›¸åº”çš„éœ€æ±‚ä»£ç </p><ul><li><p>é¦–å…ˆè¦åœ¨å¯¹åº”çš„ç±»æ³¨è§£SpringBootApplication<img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230304161405456.png" alt="image-20230304161405456"></p></li><li><p>åœ¨configè®¾ç½®æ–‡ä»¶å½“ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„ç±»æ³¨è§£@Configuration</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230304161625940.png" alt="image-20230304161625940"></p></li></ul><hr><h2 id="2-MyBatisè¿æ¥æ•°æ®åº“ï¼Œå‰åç«¯è¿æ¥"><a href="#2-MyBatisè¿æ¥æ•°æ®åº“ï¼Œå‰åç«¯è¿æ¥" class="headerlink" title="2. MyBatisè¿æ¥æ•°æ®åº“ï¼Œå‰åç«¯è¿æ¥"></a>2. MyBatisè¿æ¥æ•°æ®åº“ï¼Œå‰åç«¯è¿æ¥</h2><blockquote><p>æœ¬ç« ä¸»è¦æ¶‰åŠåˆ°æ•°æ®åº“è¿æ¥ï¼Œä»¥åŠmybatiså’ŒmybatisPlus</p><p>å¯¹äºæ¯”è¾ƒç®€å•çš„sqlè¯­å¥å¯ä»¥ç›´æ¥ä½¿ç”¨mybatisPlus</p><p>ä¹Ÿå¯ä»¥æ ¹æ®é…ç½®XMLæ–‡ä»¶æ¥ä¿®æ”¹é»˜è®¤çš„sqlè¯­å¥ï¼Œä¸è¿‡è¿™é‡Œæ²¡æœ‰å­¦</p></blockquote><h3 id="2-1-é…ç½®ç›¸å…³ä¾èµ–"><a href="#2-1-é…ç½®ç›¸å…³ä¾èµ–" class="headerlink" title="2.1 é…ç½®ç›¸å…³ä¾èµ–"></a>2.1 é…ç½®ç›¸å…³ä¾èµ–</h3><p>é™¤äº†ä¹‹å‰çš„çƒ­éƒ¨ç½²å·¥å…·å¤–ï¼Œè¿˜è¦æ–°å¢ä¸‰ä¸ªä¾èµ–</p><p>åˆ†åˆ«æ˜¯ï¼š</p><ul><li>mybatisPlusä¾èµ–ï¼ˆå¯ä»¥ç›´æ¥ç”¨mybatisï¼Œå› ä¸ºæ˜¯å‘ä¸‹å…¼å®¹çš„ï¼‰</li><li>mysqlé©±åŠ¨ä¾èµ–</li><li>æ•°æ®è¿æ¥æ± druid</li></ul><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230304215241011.png" alt="image-20230304215241011"></p><p>å¦‚ä¸Šå›¾æ‰€ç¤º</p><h3 id="2-2-applicationå¢åŠ ç”¨äºè¿æ¥æ•°æ®åº“çš„å‚æ•°"><a href="#2-2-applicationå¢åŠ ç”¨äºè¿æ¥æ•°æ®åº“çš„å‚æ•°" class="headerlink" title="2.2 applicationå¢åŠ ç”¨äºè¿æ¥æ•°æ®åº“çš„å‚æ•°"></a>2.2 applicationå¢åŠ ç”¨äºè¿æ¥æ•°æ®åº“çš„å‚æ•°</h3><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230304215807430.png" alt="image-20230304215807430"></p><ul><li>è¿™é‡Œéœ€è¦çš„é…ç½®å‚æ•°æ¯”è¾ƒå¤š</li><li>é‡ç‚¹çœ‹ç¬¬ä¸‰æ¡ï¼Œspringtest01æ˜¯æ•°æ®åº“çš„åç§°ï¼ˆæ³¨æ„ä¸æ˜¯è¡¨ï¼‰</li><li>ç„¶åè¦å†™å¥½å¯†ç å’Œè´¦å·</li><li>æœ€åä¸€ä¸ªæ˜¯mybatisçš„ï¼Œå¿˜äº†åšä»€ä¹ˆçš„ã€‚</li></ul><p>é…ç½®å¥½ä»¥ä¸Šï¼Œå¹¶ä¸”è‡ªå·±æœ¬åœ°å¸¦æœ‰ä¸€ä¸ªæ•°æ®åº“ä¹‹åï¼ˆè¿™é‡Œæˆ‘æ˜¯ç”¨wampserverè‡ªå¸¦çš„MySQLï¼‰</p><h3 id="2-3-å¦‚ä½•ä½¿ç”¨Mapperç±»"><a href="#2-3-å¦‚ä½•ä½¿ç”¨Mapperç±»" class="headerlink" title="2.3 å¦‚ä½•ä½¿ç”¨Mapperç±»"></a>2.3 å¦‚ä½•ä½¿ç”¨Mapperç±»</h3><p>é¦–å…ˆçœ‹çœ‹ä»£ç çš„æ¶æ„</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230304220100357.png" alt="image-20230304220100357"></p><p>ç›¸è¾ƒäºä¸Šä¸€ä¸ªé¡¹ç›®çš„æ–‡ä»¶æ¶æ„ï¼Œè¿™é‡Œå¤šäº†ä¸€ä¸ª<strong>mapper</strong>å’Œ<strong>MpdemoApplication</strong></p><ul><li>mapperæ˜¯ç”¨äºç¼–å†™æŸ¥æ‰¾æ•°æ®åº“çš„å‡½æ•°çš„ï¼Œè¿™é‡Œå°±æ˜¯ä½¿ç”¨mybatisçš„åœ°æ–¹</li><li>ç”¨controllerè°ƒç”¨mapperé‡Œé¢çš„ç±»çš„æ–¹æ³•å®ç°æ•°æ®åº“çš„CRUD</li><li>ç”¨MpdempApplicationæ¥å®ç°æ‰«æMapperç±»ï¼Œä»¥ä¾¿å¯ä»¥è¿è¡Œmapperç±»ã€‚</li></ul><p><strong>æ•°æ®åº“ä¿¡æ¯ï¼š</strong></p><figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs asciidoc">æ•°æ®åº“ï¼šspringtest01<br>è¯¥åº“ä¸‹çš„ä¸¤ä¸ªæ•°æ®è¡¨:user,orders<br><br>useræ•°æ®<br><span class="hljs-bullet">- </span>id<br><span class="hljs-bullet">- </span>username<br><span class="hljs-bullet">- </span>password<br><span class="hljs-bullet">- </span>birthday<br><br>ordersæ•°æ®<br><span class="hljs-bullet">- </span>id<br><span class="hljs-bullet">- </span>order_time<br><span class="hljs-bullet">- </span>uid ï¼ˆuidæ˜¯userè¡¨çš„idï¼Œä½œä¸ºå¤–é”®ï¼‰<br></code></pre></td></tr></table></figure><h3 id="2-4-mybatiså®ç°åŸºæœ¬å¢åˆ æ”¹æŸ¥"><a href="#2-4-mybatiså®ç°åŸºæœ¬å¢åˆ æ”¹æŸ¥" class="headerlink" title="2.4 mybatiså®ç°åŸºæœ¬å¢åˆ æ”¹æŸ¥"></a>2.4 mybatiså®ç°åŸºæœ¬å¢åˆ æ”¹æŸ¥</h3><p><strong>mapper</strong>ç±»å½“ä¸­ä½¿ç”¨mybatisçš„åŸºæœ¬ç”¨æ³•ï¼ˆibatisï¼‰</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230304220555149.png" alt="image-20230304220555149"></p><p>é€šè¿‡æ³¨è§£ï¼Œä¾‹å¦‚@Selectçš„æ–¹å¼å¯ä»¥é€‰æ‹©è‡ªå®šä¹‰ä¸€äº›ç®€å•çš„sqlè¯­å¥ï¼Œå®ç°æ•°æ®åº“çš„å¢åˆ æ”¹æŸ¥</p><p><strong>controllerç±»</strong>å¦‚ä½•å†™ï¼š</p><p>é€šè¿‡æ³¨è§£@Autowiredè‡ªåŠ¨ä»£ç†ï¼Œæ¥åˆ›å»ºä¸€ä¸ªuserMapperç±»</p><p>ç„¶åå¯ä»¥ç›´æ¥è°ƒç”¨é‡Œé¢çš„æ–¹æ³•</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230304220804631.png" alt="image-20230304220804631"></p><ul><li><p>ä¸Šå›¾findï¼ˆï¼‰å‡½æ•°å½“ä¸­çš„selectListï¼ˆï¼‰æ–¹æ³•æ˜¯mybatisPluså½“ä¸­è‡ªå¸¦çš„ï¼Œä¹Ÿå°±æ˜¯mapperå½“ä¸­ä¸éœ€è¦ç¼–å†™ä»»ä½•å‡½æ•°ã€‚è¯¥æ–¹æ³•<strong>æŸ¥è¯¢æ‰€æœ‰è¡¨å†…å®¹</strong></p></li><li><p>ä½†æ˜¯ä½¿ç”¨mybatisPluséœ€è¦ç»§æ‰¿æ¥å£BaseMapperï¼Œé‡Œé¢æœ‰å°è£…å¥½çš„å‡½æ•°</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230304220929021.png" alt="image-20230304220929021"></p><p>å¹¶ä¸”é‡Œé¢çš„å‚æ•°è¦å†™ä¼ çš„å¯¹è±¡å‚æ•°Userï¼Œæ–¹ä¾¿è¿”å›çš„æ•°æ®ç»Ÿä¸€</p></li></ul><h3 id="2-5-å¤šè¡¨æŸ¥è¯¢ä»¥åŠåˆ†é¡µæŸ¥è¯¢"><a href="#2-5-å¤šè¡¨æŸ¥è¯¢ä»¥åŠåˆ†é¡µæŸ¥è¯¢" class="headerlink" title="2.5 å¤šè¡¨æŸ¥è¯¢ä»¥åŠåˆ†é¡µæŸ¥è¯¢"></a>2.5 å¤šè¡¨æŸ¥è¯¢ä»¥åŠåˆ†é¡µæŸ¥è¯¢</h3><blockquote><p>è¿™ä¸ªæ¯”è¾ƒç®€å•çš„è¯å¯ä»¥</p></blockquote><h3 id="2-6-ä¸€äº›å°ç»†èŠ‚"><a href="#2-6-ä¸€äº›å°ç»†èŠ‚" class="headerlink" title="2.6 ä¸€äº›å°ç»†èŠ‚"></a>2.6 ä¸€äº›å°ç»†èŠ‚</h3><ul><li>åœ¨application.propertiesæ–‡ä»¶å½“ä¸­ï¼Œä½¿ç”¨<code>server.port=8088</code>å¯ä»¥æ›´æ”¹ç«¯å£</li><li><code>@Data</code>å¯ä»¥è®©å®ä½“ç±»ä¸éœ€è¦å†™setæˆ–è€…getå‡½æ•°ï¼ˆä»¥åŠè‡ªåŠ¨é…ç½®å¥½ï¼‰</li><li></li></ul>]]></content>
    
    
    <categories>
      
      <category>æœ¬ç§‘</category>
      
      <category>å¤§ä¸‰ä¸‹</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>PHPè¿æ¥å‰åç«¯ï¼ˆå®éªŒ3ï¼‰</title>
    <link href="/2022/11/02/%E6%9C%AC%E7%A7%91/%E5%A4%A7%E4%B8%89%E4%B8%8B/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AE%9E%E9%AA%8C%E4%B8%89/"/>
    <url>/2022/11/02/%E6%9C%AC%E7%A7%91/%E5%A4%A7%E4%B8%89%E4%B8%8B/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AE%9E%E9%AA%8C%E4%B8%89/</url>
    
    <content type="html"><![CDATA[<h1 id="PHPè¿æ¥å‰åç«¯ï¼ˆå®éªŒä¸‰ï¼‰"><a href="#PHPè¿æ¥å‰åç«¯ï¼ˆå®éªŒä¸‰ï¼‰" class="headerlink" title="PHPè¿æ¥å‰åç«¯ï¼ˆå®éªŒä¸‰ï¼‰"></a>PHPè¿æ¥å‰åç«¯ï¼ˆå®éªŒä¸‰ï¼‰</h1><hr><h2 id="å®ç°æ€è·¯"><a href="#å®ç°æ€è·¯" class="headerlink" title="å®ç°æ€è·¯"></a>å®ç°æ€è·¯</h2><ul><li><p><strong>å‰ç«¯</strong>ï¼š</p><p>å‰ç«¯ç›´æ¥ç”¨phpåç¼€åçš„æ–‡ä»¶å†™htmlï¼Œç„¶åCSSå¯ä»¥å†™åœ¨å¤–éƒ¨æ–‡ä»¶ï¼Œä½†æ˜¯åœ¨å¤–éƒ¨æ–‡ä»¶çš„æ—¶å€™æœ‰æ—¶æœ‰äº›å¥‡æ€ªï¼Œä¸ç”Ÿæ•ˆï¼Œæ‰€ä»¥æš‚æ—¶éƒ½å†™åœ¨phpæ–‡ä»¶é‡Œé¢</p></li><li><p><strong>åç«¯</strong>ï¼š</p><p>åç«¯é‡‡ç”¨phpè¿æ¥mysqlæ•°æ®åº“çš„æ–¹å¼ï¼Œæœ‰å°‘é‡JavaScriptåµŒå…¥åˆ°phpä»£ç é‡Œé¢ï¼Œä¸»è¦é‡‡ç”¨çš„æ˜¯åœ¨htmlä»£ç ä¸­åµŒå…¥phpè¯­è¨€çš„æ–¹å¼</p></li></ul><h2 id="ä»£ç ç»“æ„"><a href="#ä»£ç ç»“æ„" class="headerlink" title="ä»£ç ç»“æ„"></a>ä»£ç ç»“æ„</h2><blockquote><p>æ–‡ä»¶æ•°é‡å¹¶ä¸æ˜¯å¾ˆå¤šï¼Œæœ‰å…³çš„é¡µé¢å¯ä»¥è¯´åªæœ‰ä¸¤ä¸ªåŒºåˆ«æ¯”è¾ƒå¤§çš„é¡µé¢ï¼Œå‰©ä¸‹çš„éƒ½æ˜¯ä¸€äº›å¢åˆ æ”¹æŸ¥çš„æ“ä½œï¼Œå› æ­¤ä»æ¡†æ¶ä¸Šå…ˆç†è§£å°±ä¼šæ›´å®¹æ˜“å¼„æ˜ç™½</p></blockquote><ul><li><p>å…ˆè¯´ä¸€ä¸‹æ–‡ä»¶ç»„æˆæ¡†æ¶</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20221030103907217.png" alt="image-20221030103907217"></p><p>show_schema.phpä½œä¸ºä¸»é¡µé¢ï¼Œç„¶åä¸»è¦çš„è¡¨çš„å¢åˆ æ”¹æŸ¥åŠŸèƒ½åœ¨æ–‡ä»¶å¤¹<strong>DataBase</strong>é‡Œé¢</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20221030204346847.png" alt="image-20221030204346847"></p><p>Databaseæ–‡ä»¶å¤¹é‡Œé¢å¦‚ä¸‹æ‰€ç¤ºï¼Œæœ€<strong>ä¸»è¦</strong>çš„ç•Œé¢è¿˜æ˜¯<strong>show_dat.php</strong>ï¼Œä¸‹é¢ä¼šæœ‰è¯¦ç»†ä»‹ç»</p><p>å…¶ä¸­<code>delete_dat.php </code>å’Œ<code> Dif_SQL.php</code>æ˜¯æ²¡æœ‰å‰ç«¯æ¸²æŸ“çš„ï¼Œå…¨æ˜¯phpä»£ç åšä¸€äº›é€»è¾‘çš„å¤„ç†å’Œè¾“å‡º</p><p>å°¤å…¶æ˜¯<code>Dif_SQL.php</code>æ–‡ä»¶ä¸»è¦ä½œæä¾›ä¸¤ä¸ªå‡½æ•°åŠŸèƒ½çš„ä½œç”¨ï¼Œç¨åä¼šæœ‰ä»‹ç»</p></li></ul><hr><h2 id="ç½‘é¡µï¼‹ä»£ç è¯¦è§£ï¼š"><a href="#ç½‘é¡µï¼‹ä»£ç è¯¦è§£ï¼š" class="headerlink" title="ç½‘é¡µï¼‹ä»£ç è¯¦è§£ï¼š"></a>ç½‘é¡µï¼‹ä»£ç è¯¦è§£ï¼š</h2><h3 id="1-é¦–é¡µï¼ˆshow-schema-phpï¼‰ï¼š"><a href="#1-é¦–é¡µï¼ˆshow-schema-phpï¼‰ï¼š" class="headerlink" title="1. é¦–é¡µï¼ˆshow_schema.phpï¼‰ï¼š"></a>1. <strong>é¦–é¡µ</strong>ï¼ˆshow_schema.phpï¼‰ï¼š</h3><p>  <img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20221030103514277.png" alt="image-20221030103514277"></p><p>  åœ¨è¯¥é¡µé¢æœ‰å¤šä¸ªè¡¨å¯ä»¥é€‰æ‹©ï¼Œå®é™…æ˜¯è·³è½¬åˆ°<strong>åŒä¸€ä¸ª</strong>æ–‡ä»¶ï¼ˆshow_dat.phpï¼‰é‡Œé¢ï¼Œä½†æ˜¯ç‚¹å‡»ä¸åŒçš„<strong>æŸ¥çœ‹</strong>æŒ‰é’®çš„æ—¶å€™ï¼Œä¼ å…¥çš„<code>$_GET</code>æ•°æ®ä¼šä¸ä¸€æ ·</p><p>  çœ‹å¦‚ä¸‹htmlä»£ç </p>  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">table</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;table01&quot;</span> <span class="hljs-attr">cellspacing</span>=<span class="hljs-string">&quot;20px&quot;</span> <span class="hljs-attr">cellpadding</span>=<span class="hljs-string">&quot;5px&quot;</span>&gt;</span><br>             <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br>                 <span class="hljs-tag">&lt;<span class="hljs-name">td</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;check&quot;</span>&gt;</span><br>                     <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;./DataBase/show_dat.php?table=customers&quot;</span>&gt;</span>Customer<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br>                 <span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>             <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>             <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br>                 <span class="hljs-tag">&lt;<span class="hljs-name">td</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;check&quot;</span>&gt;</span><br>                     <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;./DataBase/show_dat?table=employees&quot;</span>&gt;</span>Emp<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br>                 <span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>             <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br></code></pre></td></tr></table></figure><p>  å¯ä»¥çœ‹åˆ°show_dat?åé¢çš„ä¼ å…¥å†…å®¹æ˜¯ä¸ä¸€æ ·çš„ï¼Œå› æ­¤æŸ¥è¯¢çš„è¡¨çš„å†…å®¹å…¶å®ä¹Ÿå°±å¯ä»¥çµæ´»å˜åŠ¨ã€‚</p><p>ä½¿ç”¨<code>$_GET</code>å˜é‡å°±å¯ä»¥åœ¨ä¼ å…¥çš„æ–‡ä»¶ä¸­æ¥å—å¹¶ä¸”ç¡®å®šå®ƒçš„å†…å®¹æ˜¯ä»€ä¹ˆï¼Œç„¶ååœ¨phpä¸­å°±å¯ä»¥ç”¨è¿™ä¸ªå˜é‡åŠ¨æ€çš„ä»£æ›¿è¡¨åã€‚</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-keyword">if</span>(<span class="hljs-keyword">isset</span>(<span class="hljs-variable">$_GET</span>[<span class="hljs-string">&#x27;table&#x27;</span>]))&#123; <span class="hljs-comment">//å¦‚å›¾æ¥æ”¶å˜é‡</span><br>    <span class="hljs-variable">$TABLE_NAME</span> = <span class="hljs-variable">$_GET</span>[<span class="hljs-string">&#x27;table&#x27;</span>];<br>&#125;<br></code></pre></td></tr></table></figure><hr><h3 id="2-å±•ç¤ºè¡¨çš„å…¨éƒ¨æ•°æ®ï¼ˆshow-dat-phpï¼‰"><a href="#2-å±•ç¤ºè¡¨çš„å…¨éƒ¨æ•°æ®ï¼ˆshow-dat-phpï¼‰" class="headerlink" title="2. å±•ç¤ºè¡¨çš„å…¨éƒ¨æ•°æ®ï¼ˆshow_dat.phpï¼‰"></a>2. å±•ç¤ºè¡¨çš„å…¨éƒ¨æ•°æ®ï¼ˆshow_dat.phpï¼‰</h3><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20221030211120870.png" alt="image-20221030211120870"></p><ul><li>å¯ä»¥çœ‹åˆ°è¿™ä¸ªé¡µé¢çš„å†…å®¹è¿˜æ˜¯æŒºä¸°å¯Œçš„ï¼Œæ¥ä¸‹æ¥å°†<strong>ä»ä¸Šåˆ°ä¸‹</strong>é€ä¸€ä»‹ç»</li></ul><h4 id="2-1-æœç´¢æ -search-dat-php-show-dat-php"><a href="#2-1-æœç´¢æ -search-dat-php-show-dat-php" class="headerlink" title="2.1 æœç´¢æ (search_dat.php + show_dat.php)"></a>2.1 æœç´¢æ (search_dat.php + show_dat.php)</h4><blockquote><p>é¦–å…ˆæ¥ä»‹ç»ä¸€ä¸‹æœ€ä¸Šé¢çš„æœç´¢æ </p></blockquote><ul><li><p>HTMLæ¡†æ¶</p><p>è¿™é‡Œç”¨äº†formè¡¨å•å½“ä¸­çš„<code>select</code>æ ‡ç­¾æ¥æä¾›é€‰é¡¹ï¼Œä»£ç å¦‚ä¸‹æ‰€ç¤º</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20221030211433528.png" alt="image-20221030211433528"></p><p>è¿™é‡ŒåµŒå…¥äº†phpè¯­è¨€ï¼Œä½†æ˜¯ä¹ŸæŒºå¥½çœ‹æ‡‚çš„ï¼Œå…¶å®å°±æ˜¯é€šè¿‡forå¾ªç¯æ˜¾ç¤ºå‡ºå¤šä¸ªé€‰é¡¹ï¼Œä¹Ÿå°±æ˜¯å¯¹åº”çš„åˆ—åï¼Œè¿™é‡Œçš„<code>table_row_num</code>å°±æ˜¯åˆ—çš„ä¸ªæ•°ï¼Œå…·ä½“çš„è·å–æ–¹æ³•è¿™é‡Œå°±ä¸å±•å¼€äº†ï¼›</p><p>åªéœ€è¦çŸ¥é“è¡¨åå°±å¯ä»¥æ‰¾åˆ°å¯¹åº”çš„ç›¸å…³æ•°æ®äº†ï¼Œå› æ­¤ä¸åŒçš„è¡¨çš„<code>table_row_num</code>ä¹Ÿæ˜¯ä¸ä¸€æ ·çš„</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20221030212001544.png" alt="image-20221030212001544"></p><p>å¦‚ä¸Šå›¾æ‰€ç¤ºæ•ˆæœã€‚é€‰æ‹©å¥½è¦æœç´¢å“ªä¸€åˆ—çš„å†…å®¹åï¼Œå°†é¼ æ ‡ç½®äºå³è¾¹çš„æœç´¢logoä¸Šï¼Œå°±ä¼šå¹³æ»‘å±•å¼€å‡ºä¸€ä¸ªæœç´¢æ ï¼Œè¿™é‡Œæ˜¯ç”¨css3çš„<code>transition</code>çš„æ–¹å¼æ¥å®ç°åŠ¨æ€æ•ˆæœã€‚</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20221030212333120.png" alt="image-20221030212333120"></p><p>å¡«å†™æœç´¢å†…å®¹åç‚¹å‡»å³è¾¹çš„æœç´¢æŒ‰é’®å°±ä¼šè·³è½¬åˆ°<code>search_dat.php</code>æ–‡ä»¶å½“ä¸­å•¦ï¼Œè¿™é‡Œæˆ‘ä»¬å‡è®¾é€‰æ‹©cid å¹¶ä¸”æœç´¢c001ã€‚åˆ™ä¼šæ˜¾ç¤ºå‡ºæ¥æœç´¢åˆ°çš„å”¯ä¸€ç»“æœ</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20221030212531480.png" alt="image-20221030212531480"></p><p>ç„¶åæˆ‘ä»¬å¯ä»¥å¤§è‡´çœ‹ä¸€ä¸‹<code>search_dat.php</code>é‡Œé¢çš„å†…å®¹æ˜¯ä»€ä¹ˆ</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20221030214710302.png" alt="image-20221030214710302"></p><p>å…ˆæ˜¯æœ€ä¸Šé¢æˆ‘ä»¬é€šè¿‡getæ–¹æ³•è·å–è¡¨åï¼Œç„¶åä¸‹é¢æ˜¯é€šè¿‡postæ–¹æ³•è·å¾—çš„<code>$condition</code>å’Œ<code>$TARGET</code>åˆ†åˆ«æ˜¯åœ¨ä¸Šä¸€ä¸ªé¡µé¢ä¸­çš„é€‰æ‹©æ¡†å’Œæœç´¢æ¡†çš„å†…å®¹ï¼Œä¹Ÿå°±æ˜¯è¿™å¼ ä¼ è¿‡æ¥çš„æ•°æ®</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20221030212333120.png" alt="image-20221030212333120"></p><p>æ¥ä¸‹æ¥å°±æ˜¯é€šè¿‡<code>$query</code>è¯­å¥è·å–sqlï¼Œæœ‰ç€é™å®šæ¡ä»¶ï¼Œå› æ­¤æœ€åä¼šè¾“å‡ºç‰¹å®šèŒƒå›´æœç´¢å‡ºæ¥çš„è¡Œæ•°æ®ã€‚</p></li></ul><h4 id="2-1-æŸ¥çœ‹å’Œä¿®æ”¹ï¼‹åˆ é™¤æ•°æ®-edit-dat-php-show-dat-php"><a href="#2-1-æŸ¥çœ‹å’Œä¿®æ”¹ï¼‹åˆ é™¤æ•°æ®-edit-dat-php-show-dat-php" class="headerlink" title="2.1 æŸ¥çœ‹å’Œä¿®æ”¹ï¼‹åˆ é™¤æ•°æ®(edit_dat.php + show_dat.php)"></a>2.1 æŸ¥çœ‹å’Œä¿®æ”¹ï¼‹åˆ é™¤æ•°æ®(edit_dat.php + show_dat.php)</h4><blockquote><p>æ¥ä¸‹æ¥è®²é¡µé¢ä¸­æœ€é‡è¦çš„å†…å®¹</p></blockquote><h4 id="ä¿®æ”¹æ•°æ®"><a href="#ä¿®æ”¹æ•°æ®" class="headerlink" title="ä¿®æ”¹æ•°æ®"></a>ä¿®æ”¹æ•°æ®</h4><p>è¯¥å›¾ä¸ºshow_dat.php</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20221030215427326.png" alt="image-20221030215427326"></p><ul><li>ç‚¹å‡»å…¶ä¸­ä¸€ä¸ª<strong>ä¿®æ”¹</strong>æŒ‰é’®çœ‹çœ‹æ•ˆæœå¦‚ä½•ï¼ˆä¸‹å›¾æ˜¯edit_dat.phpé¡µé¢ï¼‰</li></ul><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20221030215447319.png" alt="image-20221030215447319"></p><p>å¯ä»¥çœ‹åˆ°ç‚¹å‡»çš„å¯¹åº”çš„é‚£ä¸€è¡Œå˜æˆäº†è¾“å…¥æ¡†ï¼Œå¹¶ä¸”ä¿ç•™æœ‰åŸæ¥çš„å†…å®¹ï¼Œä¸è¿‡cidä¹Ÿå°±æ˜¯ç¬¬ä¸€åˆ—çš„æ•°æ®æ˜¯æ— æ³•ä¿®æ”¹çš„ï¼ˆä¸ºäº†å®‰å…¨èµ·è§ï¼‰ã€‚</p><p>å¦‚æœå¡«å†™å¥½äº†å°±å¯ä»¥ç‚¹å‡»ç¡®è®¤ï¼Œå¦åˆ™å°±å¯ä»¥<strong>å–æ¶ˆ</strong>ï¼Œè¿”å›åˆ°show_dat.phpçš„é¡µé¢</p><ul><li>çœ‹ä¸€ä¸‹show_dat.phpä¸­<strong>ä¿®æ”¹</strong>æŒ‰é’®å¯¹åº”çš„ä»£ç </li></ul><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20221030215648717.png" alt="image-20221030215648717"></p><p>çœ‹åˆ°å‰é¢è¾“å‡ºçš„éƒ½æ˜¯é€šè¿‡forå¾ªç¯æ˜¾ç¤ºçš„é‚£ä¸€è¡Œçš„æ•°æ®ï¼Œç„¶åç‚¹å‡»æŒ‰é’®åï¼Œä¼šè·³è½¬åˆ°edit_dat.phpé¡µé¢ã€‚</p><p>ä½†æ˜¯edit_dat.phpé¡µé¢çš„å†…å®¹å…¶å®å’Œshow_dat.phpå¤§è‡´æ˜¯ä¸€æ ·çš„ï¼Œåªæ˜¯åœ¨ç‚¹å‡»äº†<strong>ä¿®æ”¹</strong>çš„é‚£ä¸€è¡Œæ”¹æˆäº†inputè¾“å…¥æ¡†ï¼Œå…·ä½“ä»£ç å¯å‚è€ƒæºç ã€‚</p><h4 id="åˆ é™¤æ•°æ®-delete-dat-php"><a href="#åˆ é™¤æ•°æ®-delete-dat-php" class="headerlink" title="åˆ é™¤æ•°æ®(delete_dat.php)"></a>åˆ é™¤æ•°æ®(delete_dat.php)</h4><blockquote><p> åˆ é™¤çš„è¯æ¯”è¾ƒç®€å•,ç‚¹å‡»åˆ é™¤æŒ‰é’®åä¼šè·³è½¬åˆ°delete_dat.phpæ–‡ä»¶ï¼Œåˆ é™¤åä¼šè‡ªåŠ¨è¿”å›åˆ°show_dat.phpé¡µé¢å½“ä¸­</p></blockquote><ul><li>ç‚¹å‡»åˆ é™¤æ—¶ä¼šæœ‰ä¸€ä¸ªjsä»£ç ç¼–å†™çš„æç¤ºæ˜¯å¦åˆ é™¤</li></ul><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20221030220231439.png" alt="image-20221030220231439"></p><ul><li>delete_dat.phpå¯¹åº”ä»£ç ï¼Œæ¯”è¾ƒç®€çŸ­</li></ul><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-meta">&lt;?php</span> <br><span class="hljs-keyword">include</span> (<span class="hljs-string">&quot;../conn.php&quot;</span>);<br><br><span class="hljs-comment">//mysql_query(&quot;set names gb2312&quot;);</span><br><span class="hljs-keyword">if</span>(<span class="hljs-keyword">isset</span>(<span class="hljs-variable">$_GET</span>[<span class="hljs-string">&#x27;table&#x27;</span>]))&#123;<br>    <span class="hljs-variable">$TABLE_NAME</span> = <span class="hljs-variable">$_GET</span>[<span class="hljs-string">&#x27;table&#x27;</span>];<br>&#125;<br><span class="hljs-variable">$query</span> = <span class="hljs-string">&quot;SELECT * FROM <span class="hljs-subst">$TABLE_NAME</span>&quot;</span>;<br><span class="hljs-variable">$res</span> = <span class="hljs-title function_ invoke__">mysqli_query</span>(<span class="hljs-variable">$conn</span>, <span class="hljs-variable">$query</span>) <span class="hljs-keyword">or</span> <span class="hljs-keyword">die</span>(<span class="hljs-title function_ invoke__">mysqli_error</span>(<span class="hljs-variable">$conn</span>));<br><span class="hljs-variable">$id_row</span> = <span class="hljs-title function_ invoke__">mysqli_fetch_field</span>(<span class="hljs-variable">$res</span>)-&gt;name; <span class="hljs-comment">//è·å–ç¬¬iä¸ªåˆ—åå­—</span><br><br><span class="hljs-variable">$id</span>=<span class="hljs-variable">$_GET</span>[<span class="hljs-string">&#x27;id&#x27;</span>];<br><span class="hljs-variable">$sql</span> = <span class="hljs-string">&quot;DELETE FROM <span class="hljs-subst">$TABLE_NAME</span> where <span class="hljs-subst">$id_row</span>=&#x27;<span class="hljs-subst">$id</span>&#x27;&quot;</span>; <span class="hljs-comment">//è¿™é‡Œå› ä¸ºidæ˜¯å­—ç¬¦ä¸²æ‰€ä»¥è¦å¤šåŠ ä¸ªå¼•å·</span><br><span class="hljs-variable">$result1</span> = <span class="hljs-title function_ invoke__">mysqli_query</span>(<span class="hljs-variable">$conn</span>,<span class="hljs-variable">$sql</span>) <span class="hljs-keyword">or</span> <span class="hljs-keyword">die</span>(<span class="hljs-title function_ invoke__">mysqli_error</span>(<span class="hljs-variable">$conn</span>));<br><span class="hljs-keyword">if</span>(<span class="hljs-variable">$result1</span>)<br>&#123;<br>    <span class="hljs-keyword">echo</span> <span class="hljs-string">&quot;&lt;script language=javascript&gt;</span><br><span class="hljs-string">    window.location.href=&#x27;show_dat.php?table=<span class="hljs-subst">$TABLE_NAME</span>&#x27;;&lt;/script&gt;&quot;</span>;<span class="hljs-comment">//è¿”å›</span><br>&#125; <br><span class="hljs-meta">?&gt;</span><br></code></pre></td></tr></table></figure><h4 id="2-3-å¢åŠ æ•°æ®-show-dat-php"><a href="#2-3-å¢åŠ æ•°æ®-show-dat-php" class="headerlink" title="2.3 å¢åŠ æ•°æ®(show_dat.php)"></a>2.3 å¢åŠ æ•°æ®(show_dat.php)</h4><blockquote><p>å¢åŠ æ•°æ®è¿™é‡Œçš„ä»£ç ï¼Œä¸ºäº†æ–‡ä»¶æ›´åŠ ç®€æ´æ–¹ä¾¿ï¼Œæˆ‘å°±ä¹Ÿå†™åœ¨äº†show_dat.phpå½“ä¸­äº†ã€‚</p></blockquote><ul><li>å…ˆæ¼”ç¤ºä¸€ä¸‹æ•ˆæœï¼Œç‚¹å‡» â€˜ + â€™å·åä¼šåœ¨æœ€ä¸‹æ–¹å¢åŠ ä¸€è¡Œå¤šä¸ªinputè¾“å…¥æ¡†</li></ul><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20221030220643756.png" alt="image-20221030220643756"></p><ul><li>å…³äºè¿™éƒ¨åˆ†çš„phpé€»è¾‘ä»£ç å¦‚ä¸‹æ‰€ç¤º</li></ul><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20221030220820845.png" alt="image-20221030220820845"></p><ul><li><p>ç¬¬ä¸€ä¸ªifè¯­å¥æ˜¯è§¦å‘ç‚¹å‡»äº† â€˜ + â€™æŒ‰é’®çš„æ•ˆæœï¼Œç„¶åå°±ä¼šè¾“å‡ºä¸€è¡Œinputè¯­å¥</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs php+HTML">if(isset($_POST[&quot;plus-syn&quot;]) == &quot;+&quot;)&#123;//æ˜¾ç¤ºè¦æ·»åŠ çš„æ–°çš„ä¿¡æ¯<br>    echo &quot;&lt;tr&gt;&quot;;<br>    for($i=0 ;$i &lt; $table_row_num;$i++)&#123;<br>        echo &quot;&lt;td&gt;&lt;input type=&#x27;text&#x27; name=&#x27;$table_row_names[$i]&#x27; id=&#x27;in-text&#x27;&gt;&lt;/td&gt;&quot;;<br>    &#125;<br>    echo &quot;<br>    &lt;td&gt;&lt;input type=&#x27;submit&#x27; name=&#x27;change&#x27;<br>            value=&#x27;ç¡®å®š&#x27; id=&#x27;submit-but&#x27;&gt;&lt;/td&gt;<br>    &lt;td&gt;&lt;a href=&#x27;./show_dat?table=$TABLE_NAME&#x27; id=&#x27;cancel-but&#x27;&gt; å–æ¶ˆ&lt;/a&gt;&lt;/td&gt;<br>    &lt;/tr&gt;<br>    &quot;;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>ç¬¬äºŒä¸ªif è¯­å¥åˆ™æ˜¯ç‚¹å‡»äº†çº¢è‰²çš„<strong>ç¡®å®š</strong>æŒ‰é’®ä¹‹åä¼šè§¦å‘çš„æ•ˆæœ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs php+HTML">if(isset($_POST[&quot;change&quot;]) == &quot;ç¡®å®š&quot;)&#123; //åœ¨è¿™é‡Œå®Œæˆæ•°æ®åº“çš„æ’å…¥<br>    include(&quot;Dif_SQL.php&quot;);//å¼•å…¥ç”¨äºæ•°æ®åº“æ“ä½œçš„æ–‡ä»¶<br>    $query = insert_SQL($table_row_num,$TABLE_NAME,$table_row_names);//å®Œæˆæ’å…¥è¯­å¥<br>  <br>    $result=mysqli_query($conn,$query) or die(mysqli_error($conn));<br>    <br>    if($result)&#123;<br>        echo <br>        &quot;&lt;script language=javascript&gt;window.location.href=&#x27;show_dat.php?table=$TABLE_NAME&#x27;;&lt;/script&gt;&quot;;<br>    &#125;<br>    else&#123;<br>        echo <br>        &quot;&lt;script language=javascript&gt;window.alert(&#x27;å¢æ·»å¤±è´¥,è¯·è¿”å›&#x27;);<br>        window.location.href=&#x27;show_dat.php?table=$TABLE_NAME&#x27;;&lt;/script&gt;&quot;;<br>  <br>    &#125;<br>&#125;   <br></code></pre></td></tr></table></figure><p>æ·»åŠ æˆåŠŸåå°±ä¼šè¿”å›åˆ°åŸæ¥çš„é¡µé¢ï¼Œå°±å¯ä»¥çœ‹åˆ°æœ€ä¸‹é¢ä¼šå¤šäº†ä¸€è¡Œæ•°æ®å‡ºæ¥ã€‚</p></li></ul><hr><h3 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h3><ul><li><p>è‡³æ­¤å°±ä»‹ç»å®Œäº†æ•´ä¸ªç½‘é¡µçš„å¤§è‡´ç»„æˆäº†ï¼Œæ›´åŠ ç»†è‡´çš„å¯ä»¥å»GitHub<a href="https://github.com/Cheesheep/DataBase-Ex3-PHP%E3%80%82">https://github.com/Cheesheep/DataBase-Ex3-PHPã€‚</a></p></li><li><p>æ‰“å¼€show_schema.phpå³å¯æ­£å¸¸é£Ÿç”¨ã€‚å“¦å‰ææ˜¯æ•°æ®åº“è¿æ¥è¦æ­£ç¡®ï¼Œç¨å¾®æ”¹ä¸€ä¸‹conn.phpçš„å†…å®¹å°±å¯ä»¥äº†</p></li><li><p>æˆ‘è°ƒè¯•çš„æ—¶å€™ç”¨çš„æ˜¯wampserverè‡ªå¸¦çš„mysqlæ•°æ®åº“ä»¥åŠphpï¼Œå¹¶ä¸”æ˜¯åœ¨å®ƒçš„wwwæ ¹ç›®å½•ä¸‹æ‰“å¼€çš„phpç•Œé¢ï¼Œå¦‚æœä¸ä¼šç”¨çš„è¯å¯ä»¥å‚ç…§æˆ‘çš„æ–¹æ³•ï¼Œå…ˆä¸‹ä¸ªwampserverå§ï¼ï¼</p></li></ul><h4 id="æœ€åè¯´ä¸‹æ„Ÿæƒ³ï¼ˆå¤§æ¦‚å†™äº†ä¸€å‘¨çš„ä»£ç å§ï¼‰ï¼š"><a href="#æœ€åè¯´ä¸‹æ„Ÿæƒ³ï¼ˆå¤§æ¦‚å†™äº†ä¸€å‘¨çš„ä»£ç å§ï¼‰ï¼š" class="headerlink" title="æœ€åè¯´ä¸‹æ„Ÿæƒ³ï¼ˆå¤§æ¦‚å†™äº†ä¸€å‘¨çš„ä»£ç å§ï¼‰ï¼š"></a>æœ€åè¯´ä¸‹æ„Ÿæƒ³ï¼ˆå¤§æ¦‚å†™äº†ä¸€å‘¨çš„ä»£ç å§ï¼‰ï¼š</h4><p> æˆ‘æ„Ÿè§‰æœ€éš¾çš„ä¸€ä¸ªéƒ¨åˆ†å°±æ˜¯æœ€åè§£å†³ä»£ç é‡ç”¨æ€§çš„é—®é¢˜ï¼Œä¸€å¼€å§‹å¾ˆå¤šå‚æ•°éƒ½æ˜¯å†™æ­»çš„ï¼Œ æ¡†æ¶ä¹Ÿæ˜¯å†™æ­»çš„ï¼Œä½†å†™åˆ°åé¢å°±ä¼šå‘ç°å¾ˆå¤šåœ°æ–¹çš„ä»£ç å…¶å®æ˜¯é‡å¤çš„ï¼Œå¦‚æœæœ‰må¼ è¡¨é‚£æˆ‘è¿˜å¾—ä¸€ä¸ªä¸ªé¡µé¢çš„å¤åˆ¶ï¼Œç„¶åæ”¹mæ¬¡é‡Œé¢çš„å‚æ•°ï¼Œé‚£å®åœ¨æ˜¯å¤ªèŠ±è´¹ç²¾åŠ›äº†ã€‚</p><p> å› æ­¤ç»è¿‡ä¸€ç•ªæ€è€ƒä¹‹åï¼Œå‘ç°åªè¦æ¯ä¸ªé¡µé¢ä¸­æœ‰è¡¨åå­˜åœ¨ï¼Œå¹¶ä¸”å¯ä»¥ä¼ åˆ°æ¯ä¸€ä¸ªä¸‹ä¸€ä¸ªè¦å»çš„é¡µé¢å°±å¯ä»¥äº†ï¼Œç„¶åæ‰€æœ‰æ•°æ®å°±åªéœ€è¦æ ¹æ®è¡¨åå°±éƒ½å¯ä»¥é€šè¿‡phpä»£ç çš„å‡ºæ¥å¹¶ä¸”æ˜¾ç¤ºåˆ°å‰ç«¯ä¸Šé¢ï¼Œæ¯”è¾ƒéš¾ä»¥å¤ç”¨çš„å°±æ˜¯mysqlè¯­å¥çš„ç¼–å†™ï¼Œå› æ­¤mysqlè¯­å¥åˆ™æ˜¯æœ‰å¤šå°‘å¼ è¡¨åˆ™å†™äº†å¤šå°‘ä¸ªç›¸ä¼¼çš„mysqlè¯­å¥ï¼Œä½†æ˜¯åœ¨æ“ä½œçš„å‚æ•°æ–¹é¢ä¼šæœ‰äº›è®¸ä¸åŒã€‚</p><p>â€‹    æœ€åï¼Œè™½ç„¶æœ¬æ¬¡å®éªŒèŠ±è´¹äº†å¾ˆå¤šæ—¶é—´ï¼Œä½†ç®—æ˜¯ç¬¬ä¸€æ¬¡å®Œæ•´æ¥è§¦äº†å‰åç«¯çš„ç½‘é¡µåˆ¶ä½œï¼Œä¸ªäººè®¤ä¸ºæ˜¯å­¦åˆ°äº†å¾ˆå¤šä¸œè¥¿ï¼Œæ‰“å¼€äº†åç«¯çš„å¤§é—¨ï¼Œä»æœ‰è®¸å¤šéœ€è¦å­¦ä¹ çš„åœ°æ–¹ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>æœ¬ç§‘</category>
      
      <category>å¤§ä¸‰ä¸‹</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>A*ç®—æ³•å®ç°å…«æ•°ç .md</title>
    <link href="/2022/10/28/%E6%9C%AC%E7%A7%91/%E5%A4%A7%E4%B8%89%E4%B8%8A/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%E5%AF%BC%E8%AE%BA/BFS%E5%85%AB%E6%95%B0%E7%A0%81%E5%AE%9E%E9%AA%8C%E9%A2%98/"/>
    <url>/2022/10/28/%E6%9C%AC%E7%A7%91/%E5%A4%A7%E4%B8%89%E4%B8%8A/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%E5%AF%BC%E8%AE%BA/BFS%E5%85%AB%E6%95%B0%E7%A0%81%E5%AE%9E%E9%AA%8C%E9%A2%98/</url>
    
    <content type="html"><![CDATA[<h1 id="å…«æ•°ç éš¾é¢˜"><a href="#å…«æ•°ç éš¾é¢˜" class="headerlink" title="å…«æ•°ç éš¾é¢˜"></a>å…«æ•°ç éš¾é¢˜</h1><blockquote><p>è¿™æ˜¯ä¸€ä¸ªéå¸¸ç»å…¸çš„å®éªŒï¼Œä½œä¸ºäººå·¥æ™ºèƒ½å¯¼è®ºè¯¾çš„ç¬¬ä¸€ä¸ªé¢˜ç›®ï¼Œæ€è·¯ä¸Šä¼¼ä¹ä¸æ˜¯å¾ˆéš¾ï¼Œä½†æ˜¯å®ç°èµ·æ¥è¿˜æ˜¯æœ‰ç‚¹å¤æ‚ï¼Œæ¥ä¸‹æ¥è®²è§£ä¸€ä¸‹æˆ‘çš„æ€è·¯</p></blockquote><h2 id="BFSå®ç°æ€è·¯ï¼ˆæºç ä¼šç»™åœ¨æœ€ä¸‹æ–¹ï¼‰"><a href="#BFSå®ç°æ€è·¯ï¼ˆæºç ä¼šç»™åœ¨æœ€ä¸‹æ–¹ï¼‰" class="headerlink" title="BFSå®ç°æ€è·¯ï¼ˆæºç ä¼šç»™åœ¨æœ€ä¸‹æ–¹ï¼‰"></a>BFSå®ç°æ€è·¯ï¼ˆæºç ä¼šç»™åœ¨æœ€ä¸‹æ–¹ï¼‰</h2><p><img src="https://img-blog.csdnimg.cn/img_convert/802595e44bf6c42e7b271f2564e481c9.png" alt="img"></p><!--å›¾ç‰‡æ¥æºäºcsdn--><h3 id="BFSå®ç°æ–¹æ³•"><a href="#BFSå®ç°æ–¹æ³•" class="headerlink" title="BFSå®ç°æ–¹æ³•"></a>BFSå®ç°æ–¹æ³•</h3><ol><li><strong>å¤§è‡´æ€è·¯</strong></li></ol><p>ä½¿ç”¨BFSå®ç°è¿˜æ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œåªéœ€è¦ç”¨é˜Ÿåˆ—çš„æ–¹å¼æ¥å‚¨å­˜æ¯ä¸€ä¸ªèŠ‚ç‚¹å³å¯ï¼Œä½¿ç”¨pythonæ¥å­˜å‚¨è¿™äº›ç±»å¯¹è±¡è¿˜æ˜¯å¾ˆç®€å•çš„ï¼Œç„¶åå°±ç”¨whileå¾ªç¯ä¸€å±‚å±‚çš„å»å¯¹ç…§èŠ‚ç‚¹çš„çŠ¶æ€å¦‚ä½•ï¼Œç›´åˆ°é˜Ÿåˆ—ç©ºäº†åˆ™é€€å‡ºå¾ªç¯ï¼Œè§†ä¸ºæŸ¥è¯¢å¤±è´¥ï¼Œå¦‚æœæ‰¾åˆ°äº†ç›®æ ‡èŠ‚ç‚¹ï¼Œåˆ™æå‰é€€å‡ºwhileå¾ªç¯å¹¶è¿”å›è¯¥èŠ‚ç‚¹</p><p>è¯¥èŠ‚ç‚¹ä¼šå­˜å‚¨ç€parentçš„æŒ‡é’ˆï¼ŒæŒ‡å‘çˆ¶ç±»ï¼Œè¿™æ ·å°±é€šè¿‡è¯¥èŠ‚ç‚¹å‘ä¸Šæ‰¾åˆ°æ•´æ¡è·¯å¾„ï¼Œæœ€ååè¿‡æ¥è¾“å‡ºå°±å¯ä»¥çŸ¥é“è·¯å¾„æ˜¯æ€ä¹ˆæ ·çš„äº†</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/20210324210243197.jpg" alt="img"></p><!--å›¾ç‰‡æ¥æºäºCSDNåšå®¢--><h3 id="2-ä»£ç å®ç°"><a href="#2-ä»£ç å®ç°" class="headerlink" title="2. ä»£ç å®ç°"></a>2. ä»£ç å®ç°</h3><ul><li><p>æ‰€éœ€åŒ…ï¼šnumpyï¼Œcopy</p></li><li><p>æ‰€éœ€æ•°æ®ç»“æ„é˜Ÿåˆ—ï¼ˆè¿™é‡Œæˆ‘è‡ªå·±å†™äº†ä¸€ä¸ªå°è£…å¥½çš„Myqueueç±»ï¼‰</p><p>å…¶å®ç›´æ¥ç”¨listä¹Ÿå¯ä»¥ï¼Œç”¨queueæ¥ä½œä¸ºOPENè¡¨è£…èŠ‚ç‚¹</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20220929000626021.png" alt="image-20220929000626021"></p><ul><li><p>Main<strong>å‡½æ•°</strong>å†…å®¹ï¼š</p><p>é¦–å…ˆæ˜¯åˆå§‹åŒ–<strong>æœ€åˆçŠ¶æ€å’Œç»“æŸçŠ¶æ€</strong>ï¼Œè¿™é‡Œæˆ‘ç›´æ¥ç”¨ä¸€ä¸ªä¸€ç»´æ•°ç»„æ¥è¡¨ç¤ºï¼Œå¯ä»¥æ–¹ä¾¿æ‰©å±•å…«æ•°ç é—®é¢˜</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20221001175204729.png" alt="image-20221001175204729"></p></li><li><p>ç„¶åå»ºç«‹OPENè¡¨å’ŒCLOSEè¡¨ï¼Œç”¨<strong>é˜Ÿåˆ—</strong>ä½œä¸ºæ•°æ®ç»“æ„</p></li><li><p>å°†åˆå§‹åŒ–Stateç±»ï¼Œå¹¶å°†åˆå§‹çŠ¶æ€æ”¾å…¥è¯¥ç±»ä¸­</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20221001181359316.png" alt="image-20221001181359316"></p><p>ç„¶åä½¿ç”¨Stateç±»å½“ä¸­çš„Findï¼ˆï¼‰å‡½æ•°æœç´¢</p><p>å¦‚æœæŸ¥è¯¢<strong>æˆåŠŸ</strong>çš„è¯è¿”å›çš„æ˜¯åŒ…å«ä¸TargetStateç›¸åŒçš„çŸ©é˜µçš„Stateç±»</p><p>å¦‚æœå¤±è´¥åˆ™è¿”å›ä¸€ä¸ªæ²¡æœ‰parentçš„ä¸OriginStateç›¸åŒçŸ©é˜µçš„Stateç±»</p></li></ul></li></ul><h3 id="Stateç±»æ„é€ ä»¥åŠFindå‡½æ•°"><a href="#Stateç±»æ„é€ ä»¥åŠFindå‡½æ•°" class="headerlink" title="Stateç±»æ„é€ ä»¥åŠFindå‡½æ•°"></a>Stateç±»æ„é€ ä»¥åŠFindå‡½æ•°</h3><ul><li>Stateç±»çš„<strong>æˆå‘˜å‡½æ•°</strong></li></ul><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20221001182010648.png" alt="image-20221001182010648"></p><p>   parentæŒ‡çš„æ˜¯çˆ¶äº²èŠ‚ç‚¹ï¼ŒdiræŒ‡çš„æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²å«æœ‰ä¸Šä¸€ä¸ªèŠ‚ç‚¹åˆ°è¿™ä¸€ä¸ªèŠ‚ç‚¹çš„æ–¹å‘ï¼Œé»˜è®¤ä¸ºNone</p><p>   CuStateæ˜¯å­˜å‚¨å½“å‰çŠ¶æ€çš„æ•°å­—ä¸€ç»´çŸ©é˜µï¼Œindexè¡¨ç¤ºå…«æ•°ç å½“ä¸­0ï¼ˆä¹Ÿå°±æ˜¯ç©ºä½ï¼‰æ‰€å¤„çš„ç´¢å¼•ä½ç½®    </p><ul><li><p><strong>Find</strong>å‡½æ•°è®²è§£</p><p>é¦–å…ˆæ˜¯åˆå§‹åŒ–çš„å‡†å¤‡ï¼Œå…¨å±€å¼•å…¥ä¸€äº›å˜é‡ï¼Œç„¶åå°†åˆå§‹èŠ‚ç‚¹<strong>å…¥é˜Ÿ</strong></p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20221001182908933.png" alt="image-20221001182908933"></p><p>ç„¶åä¼šé€šè¿‡è®¡ç®—<strong>é€†åºæ•°</strong>æ¥åˆ¤æ–­è¿™ä¸ªåˆå§‹çŠ¶æ€æ˜¯å¦æ˜¯æœ‰è§£çš„ï¼Œä¹Ÿå°±æ˜¯æœ€ç»ˆèƒ½å¦åˆ°è¾¾ç›®æ ‡èŠ‚ç‚¹çš„çŠ¶æ€</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20221019194949343.png" alt="image-20221019194949343"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">calculate_Reverse</span>(<span class="hljs-params">self,Matrix</span>): <span class="hljs-comment">#è®¡ç®—é€†åºæ•°</span><br>    State_Matrix = []<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">9</span>):<br>        State_Matrix.append(Matrix[i])<br>    State_Matrix.remove(<span class="hljs-number">0</span>)<br>    reverse_number = <span class="hljs-number">0</span><br>    <span class="hljs-keyword">for</span> cur <span class="hljs-keyword">in</span> State_Matrix:<br>        index = State_Matrix.index(cur)<br>        <span class="hljs-comment"># éå†curåé¢çš„æ•°å­—</span><br>        <span class="hljs-keyword">for</span> after_cur <span class="hljs-keyword">in</span> State_Matrix[index:]:<br>            <span class="hljs-keyword">if</span> cur &gt; after_cur:<br>                reverse_number += <span class="hljs-number">1</span><br>    <span class="hljs-keyword">if</span> reverse_number % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>:<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span><br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">is_Solvable</span>(<span class="hljs-params">self,Tar_State</span>): <span class="hljs-comment">#åˆ¤æ–­è¯¥çŠ¶æ€æ˜¯å¦æœ‰è§£</span><br>    init_Reverse_Num = <span class="hljs-variable language_">self</span>.calculate_Reverse(<span class="hljs-variable language_">self</span>.Matrix)<br>    Tar_Reverse_Num = <span class="hljs-variable language_">self</span>.calculate_Reverse(Tar_State)<br>    <span class="hljs-keyword">if</span> init_Reverse_Num == Tar_Reverse_Num:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;The State is solvable&quot;</span>)<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span><br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;The State is unsolvable&quot;</span>)<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span><br></code></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥å°±å¯ä»¥å¼€å§‹è¿›è¡Œ<strong>whileå¾ªç¯</strong>ï¼Œæ¯ä¸€æ¬¡å¾ªç¯loopéƒ½æ˜¯å¯¹é˜Ÿåˆ—çš„å¤´èŠ‚ç‚¹å–å‡ºæ¥å¹¶ä¸”è¿›è¡Œäº§ç”Ÿæ–°çš„åˆ†æ”¯èŠ‚ç‚¹</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20221001183103515.png" alt="image-20221001183103515"></p><p>ï¼ï¼è¿™é‡Œè¦æ³¨æ„ç”¨æ·±æ‹·è´çš„æ–¹æ³•å–å¾—ä¸€ä¸ªæ–°çš„ç»“ç‚¹ï¼Œå› ä¸ºFir_StateåŒæ—¶æŒ‡å‘äº†ä¸Šä¸€ä¸ªèŠ‚ç‚¹çš„å¤šä¸ªStateå¯¹è±¡ï¼ˆä¸»è¦æ˜¯æ‡’å¾—æ¢åå­—ï¼‰</p><p>ä¸‹é¢æ˜¯å››ä¸ªçŠ¶æ€çš„ä»£ç ï¼ˆå…¶å®ä»£ç æ˜¯å·®ä¸å¤šçš„ï¼Œä¸»è¦è¿˜æ˜¯åˆ¤æ–­æ¡ä»¶æœ‰ç‚¹ä¸å¤ªä¸€æ ·ï¼‰</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">if</span> ((Index + <span class="hljs-number">1</span>) % <span class="hljs-number">3</span> != <span class="hljs-number">0</span>):  <span class="hljs-comment">#å³è¾¹ç•Œæ¡ä»¶</span><br>    Next_State = <span class="hljs-variable language_">self</span>.Create_Next_State(Index, Index + <span class="hljs-number">1</span>, First_State, <span class="hljs-string">&quot;Right&quot;</span>)<br>    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> <span class="hljs-variable language_">self</span>.is_State_Existed(CLOSE,Next_State):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Move Right&quot;</span>)<span class="hljs-comment"># ä»£è¡¨å¯ä»¥å‘å³ç§»åŠ¨</span><br>        stateNum += <span class="hljs-number">1</span><br>        <span class="hljs-keyword">if</span> (Next_State.Matrix == TargetState).<span class="hljs-built_in">all</span>():<br>            <span class="hljs-keyword">return</span> Next_State<br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-comment">#Next_State.ShowState()</span><br>            OPEN.push(Next_State)<br>  <br><span class="hljs-keyword">if</span> (Index % <span class="hljs-number">3</span> != <span class="hljs-number">0</span>):  <span class="hljs-comment"># ä»£è¡¨å¯ä»¥å‘å·¦ç§»åŠ¨</span><br>    Next_State = <span class="hljs-variable language_">self</span>.Create_Next_State(Index, Index - <span class="hljs-number">1</span>, First_State, <span class="hljs-string">&quot;Left&quot;</span>)<br>    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> <span class="hljs-variable language_">self</span>.is_State_Existed(CLOSE,Next_State):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Move Left&quot;</span>)<br>        stateNum += <span class="hljs-number">1</span><br>        <span class="hljs-keyword">if</span> (Next_State.Matrix == TargetState).<span class="hljs-built_in">all</span>():<br>            <span class="hljs-keyword">return</span> Next_State<br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-comment">#Next_State.ShowState()</span><br>            OPEN.push(Next_State)<br>  <br><span class="hljs-keyword">if</span> (Index - <span class="hljs-number">3</span> &gt;= <span class="hljs-number">0</span>):  <span class="hljs-comment"># ä»£è¡¨å¯ä»¥å‘ä¸Šç§»åŠ¨</span><br>    Next_State = <span class="hljs-variable language_">self</span>.Create_Next_State(Index, Index - <span class="hljs-number">3</span>, First_State, <span class="hljs-string">&quot;Up&quot;</span>)<br>    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> <span class="hljs-variable language_">self</span>.is_State_Existed(CLOSE,Next_State):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Move Up&quot;</span>)<br>        stateNum += <span class="hljs-number">1</span><br>        <span class="hljs-keyword">if</span> (Next_State.Matrix == TargetState).<span class="hljs-built_in">all</span>():<br>            <span class="hljs-keyword">return</span> Next_State<br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-comment">#Next_State.ShowState()</span><br>            OPEN.push(Next_State)<br>  <br><span class="hljs-keyword">if</span> (Index + <span class="hljs-number">3</span> &lt;= <span class="hljs-number">8</span>):  <span class="hljs-comment"># ä»£è¡¨å¯ä»¥å‘ä¸‹ç§»åŠ¨</span><br>    Next_State = <span class="hljs-variable language_">self</span>.Create_Next_State(Index, Index + <span class="hljs-number">3</span>, First_State, <span class="hljs-string">&quot;Down&quot;</span>)<br>    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> <span class="hljs-variable language_">self</span>.is_State_Existed(CLOSE,Next_State):<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Move Down&quot;</span>)<br>        stateNum += <span class="hljs-number">1</span><br>        <span class="hljs-keyword">if</span> (Next_State.Matrix == TargetState).<span class="hljs-built_in">all</span>():<br>            <span class="hljs-keyword">return</span> Next_State<br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-comment">#Next_State.ShowState()</span><br>            OPEN.push(Next_State)<br></code></pre></td></tr></table></figure></li><li><p>Stateç±»çš„<strong>æˆå‘˜å‡½æ•°</strong>ï¼ˆé™¤äº†Findä¹‹å¤–ï¼‰</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">ShowState</span>(<span class="hljs-params">self</span>):<span class="hljs-comment">#æ‰“å°çŸ©é˜µä¿¡æ¯</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Move &quot;</span>,<span class="hljs-variable language_">self</span>.Direction)<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">3</span>):<br>        <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">3</span>):<br>            <span class="hljs-built_in">print</span>(<span class="hljs-variable language_">self</span>.Matrix[j + i * <span class="hljs-number">3</span>],end=<span class="hljs-string">&quot; &quot;</span>)<br>        <span class="hljs-built_in">print</span>()<br>    <span class="hljs-built_in">print</span>()<br>  <br><span class="hljs-keyword">def</span> <span class="hljs-title function_">Swap</span>(<span class="hljs-params">self, Cu_index, Next_index, NState</span>):<span class="hljs-comment">#äº¤æ¢çŸ©é˜µå½“ä¸­çš„ä¸¤ä¸ªæ•°</span><br>    temp = NState[Cu_index]<br>    NState[Cu_index] = NState[Next_index]<br>    NState[Next_index] = temp<br>  <br><span class="hljs-keyword">def</span> <span class="hljs-title function_">Create_Next_State</span>(<span class="hljs-params">self, Cu_index, Next_index, Fir_State, Dir</span>):<span class="hljs-comment">#é€šè¿‡ä¸Šä¸€ä¸ªèŠ‚ç‚¹æ¥äº§ç”Ÿä¸€ä¸ªæ–°çš„Stateç±»ï¼Œå«æœ‰æ–°çš„æ–¹å‘å’Œæ•°ç»„</span><br>    Next_State = State(<br>        CuState=Fir_State.Matrix.copy(),<br>        index=Next_index,<br>        parent=Fir_State, <span class="hljs-comment">#æŒ‡å‘ä¸Šä¸€ä¸ªèŠ‚ç‚¹</span><br>        <span class="hljs-built_in">dir</span>=Dir)<br>    <span class="hljs-variable language_">self</span>.Swap(Cu_index, Next_index, Next_State.Matrix)<br>    <span class="hljs-keyword">return</span> Next_State<br>  <br><span class="hljs-keyword">def</span> <span class="hljs-title function_">is_State_Existed</span>(<span class="hljs-params">self,CLOSE,Next_State</span>):<span class="hljs-comment">#ç”¨æ¥åˆ¤è¯»æ–°çš„çŠ¶æ€æ˜¯å¦å’ŒCLOSEè¡¨é‡Œé¢çš„æœ‰é‡å </span><br>    <span class="hljs-keyword">for</span> node <span class="hljs-keyword">in</span> CLOSE._queue:<br>        <span class="hljs-keyword">if</span>(Next_State.Matrix == node.Matrix).<span class="hljs-built_in">all</span>():<br>            <span class="hljs-keyword">return</span> <span class="hljs-number">1</span> <span class="hljs-comment">#è¡¨ç¤ºå·²ç»æœ‰å…ƒç´ å­˜åœ¨ï¼Œä¸ä¼šå°†è¯¥çŠ¶æ€å…¥é˜Ÿ</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span> <br></code></pre></td></tr></table></figure><p>æ¯”è¾ƒé‡è¦çš„è¿˜æ˜¯<code>is_State_Existed()</code> ç”¨æ¥<strong>åˆ¤é‡</strong>ï¼Œå…¶ä»–çš„åŸºæœ¬å°±æ˜¯å­—é¢æ„æ€ï¼Œéƒ½å¾ˆå¥½ç†è§£</p><p><strong>æœ€åé€€å‡ºå¾ªç¯</strong>å¹¶ä¸”æ‰“å°ï¼Œæ²¡æœ‰å°±è¿”å›</p></li></ul><h4 id="æˆåŠŸè¿”å›çŠ¶æ€èŠ‚ç‚¹åæ‰“å°"><a href="#æˆåŠŸè¿”å›çŠ¶æ€èŠ‚ç‚¹åæ‰“å°" class="headerlink" title="æˆåŠŸè¿”å›çŠ¶æ€èŠ‚ç‚¹åæ‰“å°"></a>æˆåŠŸè¿”å›çŠ¶æ€èŠ‚ç‚¹åæ‰“å°</h4><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20221001184950161.png" alt="image-20221001184950161"></p><hr><h2 id="é‡åˆ°çš„éš¾ç‚¹"><a href="#é‡åˆ°çš„éš¾ç‚¹" class="headerlink" title="é‡åˆ°çš„éš¾ç‚¹"></a>é‡åˆ°çš„éš¾ç‚¹</h2><ul><li><p>é¦–å…ˆæ˜¯æ€è·¯çš„æ„å»ºï¼Œå¦‚ä½•è®©ä»£ç æ›´åŠ ç®€æ´çš„è¡¨ç¤ºå‡ºæ¥å§ï¼Œç›®å‰ä»£ç è¿˜æ˜¯æ„Ÿè§‰é‡å†™æ€§å¾ˆé«˜ï¼Œä¸å¤Ÿä¼˜ç¾ã€‚</p></li><li><pre><code class="language-python"> First_State = copy.deepcopy(Fir_State) #è¿™é‡Œç”¨æ·±æ‹·è´æ˜¯å› ä¸ºä¹‹å‰å››ä¸ªçŠ¶æ€éƒ½è¢«åŒä¸€ä¸ªåå­—æŒ‡å‘äº†<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br></pre></td><td class="code"><pre><code class="hljs swift"><br>  ä¸ºä»€ä¹ˆè¿™é‡Œè¦ç”¨æ·±æ‹·è´å‘¢ï¼Œæ˜¯å› ä¸ºpythonå®ƒçš„å±€éƒ¨å˜é‡ç«Ÿç„¶ä¼šä¿ç•™å¹¶ä¸”è·‘å‡ºæ¥ï¼Œè¿™è®©æˆ‘å¦‚ä½•æ˜¯å¥½ï¼ŒæŒ‡é’ˆæŒ‡å‘äº†å¤šä¸ªå¯¹è±¡å®ä¾‹ï¼Œäºæ˜¯ä¸€æ—¦æ›´æ”¹å°±å…¨éƒ¨æ›´æ”¹äº†ï¼Œæ‰€ä»¥åªèƒ½æ·±æ‹·è´ä¸€ä¸ªé˜²æ­¢ä¿®æ”¹äº†å…¨éƒ¨äº†<br><br><br><br><span class="hljs-operator">---</span><br><br>## æœ€åé™„ä¸Šå…¨éƒ¨ä»£ç <br><br><span class="hljs-operator">~~~</span>python<br><span class="hljs-keyword">import</span> numpy as np<br><span class="hljs-keyword">import</span> copy<br><span class="hljs-number">2020111051</span><br>&#x27;è½¯å·¥é’Ÿé–æ‰¬&#x27;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyQueue</span>:  # é˜Ÿåˆ—æ•°æ®ç»“æ„<br>    def __init__(<span class="hljs-keyword">self</span>, size):<br>        <span class="hljs-keyword">self</span>.front = -1<br>        <span class="hljs-keyword">self</span>.rear = -1<br>        <span class="hljs-keyword">self</span>._size = size<br>        <span class="hljs-keyword">self</span>._queue = []<br><br>    def push(<span class="hljs-keyword">self</span>, data):<br>        <span class="hljs-keyword">if</span> not (<span class="hljs-keyword">self</span>.is<span class="hljs-title class_ inherited__">Full</span>()):<br>            <span class="hljs-keyword">self</span>._queue.append(data)<br>            <span class="hljs-keyword">self</span>.rear += 1<br><br>    def pop(<span class="hljs-keyword">self</span>):<br>        <span class="hljs-keyword">if</span> not (<span class="hljs-keyword">self</span>.is<span class="hljs-title class_ inherited__">Empty</span>()):<br>            <span class="hljs-keyword">self</span>._queue.pop(0)<br>            <span class="hljs-keyword">self</span>.rear -= 1<br><br>    def <span class="hljs-keyword">is</span><span class="hljs-title class_ inherited__">Full</span>(<span class="hljs-keyword">self</span>):  # é˜Ÿåˆ—æ»¡æ—¶è¿”å›1<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">self</span>.rear == <span class="hljs-keyword">self</span>._size - 1<br><br>    def <span class="hljs-keyword">is</span><span class="hljs-title class_ inherited__">Empty</span>(<span class="hljs-keyword">self</span>):  # é˜Ÿåˆ—ç©ºæ—¶è¿”å›1<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">self</span>.rear == -1<br><br>    def <span class="hljs-keyword">get</span><span class="hljs-title class_ inherited__">Font</span>(<span class="hljs-keyword">self</span>):<br>        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">self</span>.is<span class="hljs-title class_ inherited__">Empty</span>() == 0):<br>            <span class="hljs-keyword">return</span> <span class="hljs-keyword">self</span>._queue[0]<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_ inherited__">State</span>:<br>    def __init__(<span class="hljs-keyword">self</span>, <span class="hljs-title class_ inherited__">CuState</span>, index, parent=<span class="hljs-title class_ inherited__">None</span>, dir=<span class="hljs-title class_ inherited__">None</span>):<br>        <span class="hljs-keyword">self</span>.parent = parent  # çˆ¶äº²èŠ‚ç‚¹<br>        <span class="hljs-keyword">self</span>.<span class="hljs-title class_ inherited__">Direction</span> = dir<br>        <span class="hljs-keyword">self</span>.<span class="hljs-title class_ inherited__">Matrix</span> = <span class="hljs-title class_ inherited__">CuState</span><br>        <span class="hljs-keyword">self</span>.<span class="hljs-title class_ inherited__">CuIndex</span> = index<br><br>    def <span class="hljs-title class_ inherited__">ShowState</span>(<span class="hljs-keyword">self</span>):#æ‰“å°çŸ©é˜µä¿¡æ¯<br>        print(&quot;<span class="hljs-title class_ inherited__">Move</span> &quot;,<span class="hljs-keyword">self</span>.<span class="hljs-title class_ inherited__">Direction</span>)<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(3):<br>            <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> range(3):<br>                print(<span class="hljs-keyword">self</span>.<span class="hljs-title class_ inherited__">Matrix</span>[j + i * 3],end=&quot; &quot;)<br>            print()<br>        print()<br><br>    def <span class="hljs-title class_ inherited__">Swap</span>(<span class="hljs-keyword">self</span>, <span class="hljs-title class_ inherited__">Cu_index</span>, <span class="hljs-title class_ inherited__">Next_index</span>, <span class="hljs-title class_ inherited__">NState</span>):#äº¤æ¢çŸ©é˜µå½“ä¸­çš„ä¸¤ä¸ªæ•°<br>        temp = <span class="hljs-title class_ inherited__">NState</span>[<span class="hljs-title class_ inherited__">Cu_index</span>]<br>        <span class="hljs-title class_ inherited__">NState</span>[<span class="hljs-title class_ inherited__">Cu_index</span>] = <span class="hljs-title class_ inherited__">NState</span>[<span class="hljs-title class_ inherited__">Next_index</span>]<br>        <span class="hljs-title class_ inherited__">NState</span>[<span class="hljs-title class_ inherited__">Next_index</span>] = temp<br><br>    def <span class="hljs-title class_ inherited__">Create_Next_State</span>(<span class="hljs-keyword">self</span>, <span class="hljs-title class_ inherited__">Cu_index</span>, <span class="hljs-title class_ inherited__">Next_index</span>, <span class="hljs-title class_ inherited__">Fir_State</span>, <span class="hljs-title class_ inherited__">Dir</span>):#é€šè¿‡ä¸Šä¸€ä¸ªèŠ‚ç‚¹æ¥äº§ç”Ÿä¸€ä¸ªæ–°çš„<span class="hljs-title class_ inherited__">Stateç±»ï¼Œå«æœ‰æ–°çš„æ–¹å‘å’Œæ•°ç»„</span><br>        <span class="hljs-title class_ inherited__">Next_State</span> = <span class="hljs-title class_ inherited__">State</span>(<br>            <span class="hljs-title class_ inherited__">CuState</span>=<span class="hljs-title class_ inherited__">Fir_State</span>.<span class="hljs-title class_ inherited__">Matrix</span>.copy(),<br>            index=<span class="hljs-title class_ inherited__">Next_index</span>,<br>            parent=<span class="hljs-title class_ inherited__">Fir_State</span>, #æŒ‡å‘ä¸Šä¸€ä¸ªèŠ‚ç‚¹<br>            dir=<span class="hljs-title class_ inherited__">Dir</span>)<br>        <span class="hljs-keyword">self</span>.<span class="hljs-title class_ inherited__">Swap</span>(<span class="hljs-title class_ inherited__">Cu_index</span>, <span class="hljs-title class_ inherited__">Next_index</span>, <span class="hljs-title class_ inherited__">Next_State</span>.<span class="hljs-title class_ inherited__">Matrix</span>)<br>        <span class="hljs-keyword">return</span> <span class="hljs-title class_ inherited__">Next_State</span><br><br>    def is_<span class="hljs-title class_ inherited__">State_Existed</span>(<span class="hljs-keyword">self</span>,<span class="hljs-title class_ inherited__">CLOSE</span>,<span class="hljs-title class_ inherited__">Next_State</span>):#ç”¨æ¥åˆ¤è¯»æ–°çš„çŠ¶æ€æ˜¯å¦å’Œ<span class="hljs-title class_ inherited__">CLOSEè¡¨é‡Œé¢çš„æœ‰é‡å </span><br>        <span class="hljs-keyword">for</span> node <span class="hljs-keyword">in</span> <span class="hljs-title class_ inherited__">CLOSE</span>._queue:<br>            <span class="hljs-keyword">if</span>(<span class="hljs-title class_ inherited__">Next_State</span>.<span class="hljs-title class_ inherited__">Matrix</span> == node.<span class="hljs-title class_ inherited__">Matrix</span>).all():<br>                <span class="hljs-keyword">return</span> 1 #è¡¨ç¤ºå·²ç»æœ‰å…ƒç´ å­˜åœ¨ï¼Œä¸ä¼šå°†è¯¥çŠ¶æ€å…¥é˜Ÿ<br>        <span class="hljs-keyword">return</span> 0 <br>    <br><br>    def <span class="hljs-title class_ inherited__">Find</span>(<span class="hljs-keyword">self</span>):<br>        global <span class="hljs-title class_ inherited__">OPEN</span>,<span class="hljs-title class_ inherited__">CLOSE</span>,  <span class="hljs-title class_ inherited__">TargetState</span><br>        <span class="hljs-title class_ inherited__">OPEN</span>.push(<span class="hljs-keyword">self</span>)<br>        state<span class="hljs-title class_ inherited__">Num</span> = 0<br>        <span class="hljs-title class_ inherited__">Index</span> = <span class="hljs-keyword">self</span>.<span class="hljs-title class_ inherited__">CuIndex</span>  # å½“å‰ç´¢å¼•ä½ç½®<br>        <span class="hljs-keyword">while</span> <span class="hljs-title class_ inherited__">True</span>:<br>            <span class="hljs-keyword">if</span> (<span class="hljs-title class_ inherited__">OPEN</span>.is<span class="hljs-title class_ inherited__">Empty</span>()):  # è‹¥è¡¨ç©ºï¼Œåˆ™è¡¨ç¤ºæŸ¥è¯¢å¤±è´¥<br>                <span class="hljs-keyword">break</span><br>            <span class="hljs-title class_ inherited__">Fir_State</span> = <span class="hljs-title class_ inherited__">OPEN</span>.get<span class="hljs-title class_ inherited__">Font</span>()<br>            <span class="hljs-title class_ inherited__">First_State</span> = <span class="hljs-keyword">copy</span>.deepcopy(<span class="hljs-title class_ inherited__">Fir_State</span>) #è¿™é‡Œç”¨æ·±æ‹·è´æ˜¯å› ä¸ºä¹‹å‰å››ä¸ªçŠ¶æ€éƒ½è¢«åŒä¸€ä¸ªåå­—æŒ‡å‘äº†<br>            <span class="hljs-title class_ inherited__">Index</span> = <span class="hljs-title class_ inherited__">First_State</span>.<span class="hljs-title class_ inherited__">CuIndex</span><br>            <span class="hljs-title class_ inherited__">OPEN</span>.pop()<br>            <span class="hljs-title class_ inherited__">CLOSE</span>.push(<span class="hljs-title class_ inherited__">First_State</span>)<br><br>            <span class="hljs-keyword">if</span> ((<span class="hljs-title class_ inherited__">Index</span> + 1) % 3 != 0):  #å³è¾¹ç•Œæ¡ä»¶<br>                <span class="hljs-title class_ inherited__">Next_State</span> = <span class="hljs-keyword">self</span>.<span class="hljs-title class_ inherited__">Create_Next_State</span>(<span class="hljs-title class_ inherited__">Index</span>, <span class="hljs-title class_ inherited__">Index</span> + 1, <span class="hljs-title class_ inherited__">First_State</span>, &quot;<span class="hljs-title class_ inherited__">Right</span>&quot;)<br>                <span class="hljs-keyword">if</span> not <span class="hljs-keyword">self</span>.is<span class="hljs-keyword">_</span><span class="hljs-title class_ inherited__">State_Existed</span>(<span class="hljs-title class_ inherited__">CLOSE</span>,<span class="hljs-title class_ inherited__">Next_State</span>):<br>                    print(&quot;<span class="hljs-title class_ inherited__">Move</span> <span class="hljs-title class_ inherited__">Right</span>&quot;)# ä»£è¡¨å¯ä»¥å‘å³ç§»åŠ¨<br>                    state<span class="hljs-title class_ inherited__">Num</span> += 1<br>                    <span class="hljs-keyword">if</span> (<span class="hljs-title class_ inherited__">Next_State</span>.<span class="hljs-title class_ inherited__">Matrix</span> == <span class="hljs-title class_ inherited__">TargetState</span>).all():<br>                        <span class="hljs-keyword">return</span> <span class="hljs-title class_ inherited__">Next_State</span><br>                    <span class="hljs-keyword">else</span>:<br>                        #<span class="hljs-title class_ inherited__">Next_State</span>.<span class="hljs-title class_ inherited__">ShowState</span>()<br>                        <span class="hljs-title class_ inherited__">OPEN</span>.push(<span class="hljs-title class_ inherited__">Next_State</span>)<br><br>            <span class="hljs-keyword">if</span> (<span class="hljs-title class_ inherited__">Index</span> % 3 != 0):  # ä»£è¡¨å¯ä»¥å‘å·¦ç§»åŠ¨<br>                <span class="hljs-title class_ inherited__">Next_State</span> = <span class="hljs-keyword">self</span>.<span class="hljs-title class_ inherited__">Create_Next_State</span>(<span class="hljs-title class_ inherited__">Index</span>, <span class="hljs-title class_ inherited__">Index</span> - 1, <span class="hljs-title class_ inherited__">First_State</span>, &quot;<span class="hljs-title class_ inherited__">Left</span>&quot;)<br>                <span class="hljs-keyword">if</span> not <span class="hljs-keyword">self</span>.is<span class="hljs-keyword">_</span><span class="hljs-title class_ inherited__">State_Existed</span>(<span class="hljs-title class_ inherited__">CLOSE</span>,<span class="hljs-title class_ inherited__">Next_State</span>):<br>                    print(&quot;<span class="hljs-title class_ inherited__">Move</span> <span class="hljs-title class_ inherited__">Left</span>&quot;)<br>                    state<span class="hljs-title class_ inherited__">Num</span> += 1<br>                    <span class="hljs-keyword">if</span> (<span class="hljs-title class_ inherited__">Next_State</span>.<span class="hljs-title class_ inherited__">Matrix</span> == <span class="hljs-title class_ inherited__">TargetState</span>).all():<br>                        <span class="hljs-keyword">return</span> <span class="hljs-title class_ inherited__">Next_State</span><br>                    <span class="hljs-keyword">else</span>:<br>                        #<span class="hljs-title class_ inherited__">Next_State</span>.<span class="hljs-title class_ inherited__">ShowState</span>()<br>                        <span class="hljs-title class_ inherited__">OPEN</span>.push(<span class="hljs-title class_ inherited__">Next_State</span>)<br><br>            <span class="hljs-keyword">if</span> (<span class="hljs-title class_ inherited__">Index</span> - 3 &gt;= 0):  # ä»£è¡¨å¯ä»¥å‘ä¸Šç§»åŠ¨<br>                <span class="hljs-title class_ inherited__">Next_State</span> = <span class="hljs-keyword">self</span>.<span class="hljs-title class_ inherited__">Create_Next_State</span>(<span class="hljs-title class_ inherited__">Index</span>, <span class="hljs-title class_ inherited__">Index</span> - 3, <span class="hljs-title class_ inherited__">First_State</span>, &quot;<span class="hljs-title class_ inherited__">Up</span>&quot;)<br>                <span class="hljs-keyword">if</span> not <span class="hljs-keyword">self</span>.is<span class="hljs-keyword">_</span><span class="hljs-title class_ inherited__">State_Existed</span>(<span class="hljs-title class_ inherited__">CLOSE</span>,<span class="hljs-title class_ inherited__">Next_State</span>):<br>                    print(&quot;<span class="hljs-title class_ inherited__">Move</span> <span class="hljs-title class_ inherited__">Up</span>&quot;)<br>                    state<span class="hljs-title class_ inherited__">Num</span> += 1<br>                    <span class="hljs-keyword">if</span> (<span class="hljs-title class_ inherited__">Next_State</span>.<span class="hljs-title class_ inherited__">Matrix</span> == <span class="hljs-title class_ inherited__">TargetState</span>).all():<br>                        <span class="hljs-keyword">return</span> <span class="hljs-title class_ inherited__">Next_State</span><br>                    <span class="hljs-keyword">else</span>:<br>                        #<span class="hljs-title class_ inherited__">Next_State</span>.<span class="hljs-title class_ inherited__">ShowState</span>()<br>                        <span class="hljs-title class_ inherited__">OPEN</span>.push(<span class="hljs-title class_ inherited__">Next_State</span>)<br><br>            <span class="hljs-keyword">if</span> (<span class="hljs-title class_ inherited__">Index</span> + 3 &lt;= 8):  # ä»£è¡¨å¯ä»¥å‘ä¸‹ç§»åŠ¨<br>                <span class="hljs-title class_ inherited__">Next_State</span> = <span class="hljs-keyword">self</span>.<span class="hljs-title class_ inherited__">Create_Next_State</span>(<span class="hljs-title class_ inherited__">Index</span>, <span class="hljs-title class_ inherited__">Index</span> + 3, <span class="hljs-title class_ inherited__">First_State</span>, &quot;<span class="hljs-title class_ inherited__">Down</span>&quot;)<br>                <span class="hljs-keyword">if</span> not <span class="hljs-keyword">self</span>.is<span class="hljs-keyword">_</span><span class="hljs-title class_ inherited__">State_Existed</span>(<span class="hljs-title class_ inherited__">CLOSE</span>,<span class="hljs-title class_ inherited__">Next_State</span>):<br>                    print(&quot;<span class="hljs-title class_ inherited__">Move</span> <span class="hljs-title class_ inherited__">Down</span>&quot;)<br>                    state<span class="hljs-title class_ inherited__">Num</span> += 1<br>                    <span class="hljs-keyword">if</span> (<span class="hljs-title class_ inherited__">Next_State</span>.<span class="hljs-title class_ inherited__">Matrix</span> == <span class="hljs-title class_ inherited__">TargetState</span>).all():<br>                        <span class="hljs-keyword">return</span> <span class="hljs-title class_ inherited__">Next_State</span><br>                    <span class="hljs-keyword">else</span>:<br>                        #<span class="hljs-title class_ inherited__">Next_State</span>.<span class="hljs-title class_ inherited__">ShowState</span>()<br>                        <span class="hljs-title class_ inherited__">OPEN</span>.push(<span class="hljs-title class_ inherited__">Next_State</span>)<br>            print(&quot;<span class="hljs-title class_ inherited__">One</span> <span class="hljs-title class_ inherited__">Layer</span> throughï¼Œnow <span class="hljs-title class_ inherited__">StateNum</span> <span class="hljs-keyword">is</span> &quot;,state<span class="hljs-title class_ inherited__">Num</span>)<br>        print()<br>        <span class="hljs-keyword">return</span> <span class="hljs-title class_ inherited__">Or_State</span><br><br><br><span class="hljs-keyword">if</span> __name__ == &#x27;__main__&#x27;:<br>    # <span class="hljs-title class_ inherited__">OriginStatus</span> = input()<br>    <span class="hljs-keyword">if</span> 0:<br>        <span class="hljs-title class_ inherited__">OriginState</span> = np.array([2, 8, 3,<br>                    1, 0, 4,<br>                    7, 6, 5])<br>    <span class="hljs-keyword">if</span> 1:<br>        <span class="hljs-title class_ inherited__">OriginState</span> = np.array([1, 6, 2,<br>                    8, 0, 3,<br>                    7, 5, 4])                <br>    <span class="hljs-title class_ inherited__">TargetState</span> = np.array([1, 2, 3,<br>                   8, 0, 4,<br>                   7, 6, 5])         <br>    <span class="hljs-title class_ inherited__">OPEN</span> = <span class="hljs-title class_ inherited__">MyQueue</span>(300)<br>    <span class="hljs-title class_ inherited__">CLOSE</span> = <span class="hljs-title class_ inherited__">MyQueue</span>(300)<br>    <span class="hljs-title class_ inherited__">Or_State</span> = <span class="hljs-title class_ inherited__">State</span>(<span class="hljs-title class_ inherited__">CuState</span>=<span class="hljs-title class_ inherited__">OriginState</span>, index=4)<br>    <span class="hljs-title class_ inherited__">EndState</span> = <span class="hljs-title class_ inherited__">Or_State</span>.<span class="hljs-title class_ inherited__">Find</span>() #è‹¥æŸ¥è¯¢å¤±è´¥è¿”å›<span class="hljs-title class_ inherited__">OriginèŠ‚ç‚¹ï¼Œæ²¡æœ‰çˆ¶ç±»ï¼Œå› æ­¤ä¸è¾“å‡º</span><br>    <span class="hljs-title class_ inherited__">Path</span> = [] # ç”¨æ¥å­˜å‚¨èŠ‚ç‚¹è·¯å¾„ï¼Œç”¨äºæ­£åºè¾“å‡º<br>    <span class="hljs-keyword">while</span> (<span class="hljs-title class_ inherited__">EndState</span>.parent <span class="hljs-keyword">is</span> not <span class="hljs-title class_ inherited__">None</span>):<br>        <span class="hljs-title class_ inherited__">Path</span>.append(<span class="hljs-title class_ inherited__">EndState</span>)<br>        <span class="hljs-title class_ inherited__">EndState</span> = <span class="hljs-title class_ inherited__">EndState</span>.parent<br>    <span class="hljs-keyword">if</span>(<span class="hljs-title class_ inherited__">Path</span>):<br>        <span class="hljs-title class_ inherited__">Or_State</span>.<span class="hljs-title class_ inherited__">ShowState</span>()<br>        <span class="hljs-title class_ inherited__">Path</span>.reverse()<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-title class_ inherited__">Path</span>:<br>            i.<span class="hljs-title class_ inherited__">ShowState</span>()<br>            <br><br></code></pre></td></tr></table></figure></code></pre></li></ul>]]></content>
    
    
    <categories>
      
      <category>æœ¬ç§‘</category>
      
      <category>å¤§ä¸‰ä¸Š</category>
      
      <category>äººå·¥æ™ºèƒ½å¯¼è®º</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>è…¾è®¯æœåŠ¡å™¨å®ç°ipadè¿æ¥è¿œç¨‹ç”µè„‘æ¡Œé¢</title>
    <link href="/2022/10/28/%E5%90%84%E7%A7%8D%E9%9A%8F%E7%AC%94%E7%BB%8F%E9%AA%8C%E8%AE%B0%E5%BD%95/%E5%A6%82%E4%BD%95%E8%BF%9C%E7%A8%8B%E6%A1%8C%E9%9D%A2/"/>
    <url>/2022/10/28/%E5%90%84%E7%A7%8D%E9%9A%8F%E7%AC%94%E7%BB%8F%E9%AA%8C%E8%AE%B0%E5%BD%95/%E5%A6%82%E4%BD%95%E8%BF%9C%E7%A8%8B%E6%A1%8C%E9%9D%A2/</url>
    
    <content type="html"><![CDATA[<h2 id="ç”¨è…¾è®¯äº‘æœåŠ¡å™¨å®ç°ipadè¿æ¥è¿œç¨‹ç”µè„‘æ¡Œé¢recordï¼ˆè¯¦ç»†ï¼‰ï¼ˆå«ç¨³å®šè¿æ¥æ–¹æ³•ï¼‰"><a href="#ç”¨è…¾è®¯äº‘æœåŠ¡å™¨å®ç°ipadè¿æ¥è¿œç¨‹ç”µè„‘æ¡Œé¢recordï¼ˆè¯¦ç»†ï¼‰ï¼ˆå«ç¨³å®šè¿æ¥æ–¹æ³•ï¼‰" class="headerlink" title="ç”¨è…¾è®¯äº‘æœåŠ¡å™¨å®ç°ipadè¿æ¥è¿œç¨‹ç”µè„‘æ¡Œé¢recordï¼ˆè¯¦ç»†ï¼‰ï¼ˆå«ç¨³å®šè¿æ¥æ–¹æ³•ï¼‰"></a>ç”¨è…¾è®¯äº‘æœåŠ¡å™¨å®ç°ipadè¿æ¥è¿œç¨‹ç”µè„‘æ¡Œé¢recordï¼ˆè¯¦ç»†ï¼‰ï¼ˆå«ç¨³å®šè¿æ¥æ–¹æ³•ï¼‰</h2><blockquote><p>è¿™å‡ å¤©æƒ³ç”¨ipadè¿æ¥ç”µè„‘è¯•ä¸€ä¸‹ï¼Œè¿™æ ·ä¸Šè¯¾çš„æ—¶å€™å°±ä¸ç”¨æ¬æŠ¬è¿™ä¹ˆé‡çš„è‡­å±ç”µè„‘äº†ï¼Œäºæ˜¯å¼€å§‹å°è¯•äº†å‡ ç§æ–¹æ³•ï¼Œä¸€å¼€å§‹å…ˆå¼€é€šäº†windowsä¸“ä¸šç‰ˆï¼Œæƒ³ç”¨å­¦æ ¡æœºæˆ¿ç”µè„‘æµ‹è¯•ä¸€ä¸‹ï¼Œç»“æœä¸è¡Œï¼Œåé¢è¿˜æ˜¯æ‰“ç®—ç ”ç©¶åœ¨ipadä¸Šå¦‚ä½•ä½¿ç”¨ï¼Œè¿™æ ·å°±å¯ä»¥æ–¹ä¾¿æºå¸¦äº†ï¼Œ2023.2.22åˆšå…¥æ‰‹äº†ç›Šåšæ–¯é”®ç›˜å’Œå‘æ—¥è‘µçš„é¼ æ ‡ï¼Œå‡†å¤‡å°è¯•ä¸€ä¸‹ï¼Œç”¨å‡ å¤©ï¼Œä¸è¡Œå°±é€€æ‰å‡†å¤‡å…¥äºŒæ‰‹è½»è–„æœ¬äº†ã€‚</p></blockquote><blockquote><p>ç©äº†ä¸€å‘¨ï¼Œæœ€åè¿˜æ˜¯ç”¨äº†cygwinä¸‹çš„autosshæ‰èƒ½å®ç°è¶³å¤Ÿç¨³å®šçš„è¿æ¥ï¼Œåè¡€äº†è¦</p></blockquote><blockquote><p>æå‰è¯´æ˜è¿™é‡Œåé¢çš„æ•™ç¨‹éœ€è¦æœ‰äº›è®¸åŸºç¡€çš„linuxçŸ¥è¯†ã€‚</p><p>è¿™é‡Œç»™å‡ºå†…å®¹å¤§çº²</p></blockquote><p>[TOC]</p><h3 id="1-ä½¿ç”¨è½¯ä»¶è¿æ¥"><a href="#1-ä½¿ç”¨è½¯ä»¶è¿æ¥" class="headerlink" title="1. ä½¿ç”¨è½¯ä»¶è¿æ¥"></a>1. ä½¿ç”¨è½¯ä»¶è¿æ¥</h3><p>è¿™é‡Œæ¨èä½¿ç”¨å‘æ—¥è‘µï¼Œç›´æ¥ç”¨å°±å¯ä»¥äº†ï¼Œå½“ç„¶è¿˜æœ‰ç±»ä¼¼teamviwerä¹‹ç±»çš„è½¯ä»¶ã€‚</p><p>ä¸è¿‡è¿™ç±»è½¯ä»¶çš„åŸç†æ˜¯ç›´æ¥æŠ•å±ã€‚</p><p>é‚£å…è´¹ç‰ˆè‚¯å®šå°±æ˜¯ä¼šç”»é¢å¡ä¸€ç‚¹ï¼ŒæœåŠ¡å™¨èµ„æºè‚¯å®šç»™æ°ªé‡‘ç”¨æˆ·çš„äº†ï¼Œä¸è¿‡ç›®å‰å¯¹æ¯”èµ·æ¥æ„Ÿè§‰å’Œrd-clientä¹Ÿå·®ä¸äº†å¤šå°‘ã€‚</p><p>å¹¶ä¸”æŠ•å±çš„å¦ä¸€ä¸ªç¼ºç‚¹å°±æ˜¯ä½ çš„ç”µè„‘ä¼šè·Ÿç€ä¸€èµ·ç‚¹äº®å±å¹•ï¼Œç„¶åä½ åœ¨ipadåšä»€ä¹ˆåˆ«äººéƒ½èƒ½çœ‹åˆ°ä½ çš„ç”µè„‘ä¸Šä¹Ÿåœ¨å¹²è¿™ä¸ªï¼Œæ‰€ä»¥å°±ç¨å¾®éšç§æ€§å·®ä¸€ç‚¹ï¼Œå½“ç„¶å¦‚æœä½ ç”µè„‘æ”¾å®¶é‡Œä¹Ÿæ²¡å•¥ï¼Œåªä¸è¿‡æˆ‘ç”µè„‘ä¸€èˆ¬æ”¾åœ¨å®éªŒå®¤ï¼Œemmå°±æœ‰ä¸å¤ªå¥½å§ã€‚</p><h3 id="2-ä½¿ç”¨windowsè‡ªå¸¦è¿œç¨‹"><a href="#2-ä½¿ç”¨windowsè‡ªå¸¦è¿œç¨‹" class="headerlink" title="2. ä½¿ç”¨windowsè‡ªå¸¦è¿œç¨‹"></a>2. ä½¿ç”¨windowsè‡ªå¸¦è¿œç¨‹</h3><p>ä½¿ç”¨è¿™ä¸ªå‘¢ç½‘ä¸Šä¹Ÿæœ‰å¾ˆå¤šç›¸å…³æ•™ç¨‹äº†ï¼Œè¿™é‡Œç€é‡æ¨èè¿™ä¸ªï¼Œä»–å†™çš„å¥½åˆ°ä»¥è‡³äºæˆ‘éƒ½ä¸å¥½æ„æ€å†™äº†ï¼Œæ„Ÿè§‰åƒæ˜¯å†å†™ä¸€éã€‚</p><p><a href="https://zhuanlan.zhihu.com/p/400086370">ä»ä»»ä½•åœ°æ–¹è¿œç¨‹æ¡Œé¢è¿æ¥åˆ°å®¶é‡Œçš„ç”µè„‘ - çŸ¥ä¹ (zhihu.com)</a></p><h4 id="2-1-éœ€è¦å‡†å¤‡çš„"><a href="#2-1-éœ€è¦å‡†å¤‡çš„" class="headerlink" title="2.1 éœ€è¦å‡†å¤‡çš„"></a>2.1 éœ€è¦å‡†å¤‡çš„</h4><ul><li>windowsä¸“ä¸šç‰ˆ</li></ul><p>é¦–å…ˆæ˜¯éœ€è¦è¢«è¿æ¥çš„é‚£ä¸ªç”µè„‘æ˜¯ä¸“ä¸šç‰ˆï¼Œä¸è¿‡ä¸“ä¸šç‰ˆå¾—800å¤šï¼Œæ‰€ä»¥æ²¡æœ‰é¢„ç®—çš„å¯ä»¥å»ç ´è§£ï¼Œè¿™é‡Œçš„è¯æ¨èæœheu kmsï¼Œä¸€ä¸ªè½¯ä»¶ï¼Œå¾ˆæ–¹ä¾¿å‡çº§åˆ°ä¸“ä¸šç‰ˆã€‚</p><ul><li>ä¸€å°äº‘æœåŠ¡å™¨ä»¥åŠä¸€ç‚¹linxuçŸ¥è¯†</li></ul><h4 id="2-2-å¼€å¯è¿œç¨‹æ¡Œé¢"><a href="#2-2-å¼€å¯è¿œç¨‹æ¡Œé¢" class="headerlink" title="2.2 å¼€å¯è¿œç¨‹æ¡Œé¢"></a>2.2 å¼€å¯è¿œç¨‹æ¡Œé¢</h4><p>æœ‰äº†ä¸“ä¸šç‰ˆä¹‹åå°±å¯ä»¥å¼€å¯è¿œç¨‹æ¡Œé¢äº†ï¼Œè¿™é‡Œå¯ä»¥åœ¨æ§åˆ¶é¢æ¿æ‰¾åˆ°å¼€å¯ï¼Œwin10ä¹Ÿå¯ä»¥ç›´æ¥åœ¨è®¾ç½®é‡Œé¢æ‰¾</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230223001144799.png" alt="image-20230223001144799"></p><p>è¿™é‡Œç›´æ¥æœè¿œç¨‹å°±å¯ä»¥é€‰æ‹©äº†ï¼Œ</p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230223001824698.png" alt="image-20230223001824698" style="zoom: 67%;" /><p>åœ¨é€‰æ‹©ç”¨æˆ·é‚£é‡Œå¯ä»¥çœ‹åˆ°è‡ªå·±ç”µè„‘çš„ç”¨æˆ·åï¼ˆè¿™ä¸ªæœ‰æ—¶å€™å¾ˆå¤šäººä¼šå¼„é”™ï¼‰</p><h3 id="3-link-startï¼"><a href="#3-link-startï¼" class="headerlink" title="3. link startï¼"></a>3. link startï¼</h3><h4 id="3-1ç”µè„‘ç«¯è¿æ¥"><a href="#3-1ç”µè„‘ç«¯è¿æ¥" class="headerlink" title="3.1ç”µè„‘ç«¯è¿æ¥"></a>3.1ç”µè„‘ç«¯è¿æ¥</h4><p>ç”µè„‘ç«¯è¿æ¥ä¸éœ€è¦æœ¬ç”µè„‘æ˜¯ä¸“ä¸šç‰ˆï¼Œwindowç”µè„‘æœ¬èº«è‡ªå¸¦è¿œç¨‹æ¡Œé¢è¿æ¥ï¼Œè¾“å…¥å¥½æ­£ç¡®çš„ipåœ°å€å°±å¯ä»¥äº†ã€‚</p><p>è·å–ipåœ°å€çš„æ–¹æ³•å¯ä»¥åœ¨æ§åˆ¶å°è¾“å…¥<code>ipconfig</code></p><p>æ‰¾åˆ°ä¸‹é¢è¿™é‡Œçš„ipåœ°å€</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/v2-a518d44fbb2c07cb9840c98af800a591_r.jpg" alt="img">è¿™é‡Œå¼•ç”¨äº†çŸ¥ä¹çš„ç”¨æˆ·çš„</p><h4 id="3-2-ipadè®¾å¤‡"><a href="#3-2-ipadè®¾å¤‡" class="headerlink" title="3.2 ipadè®¾å¤‡"></a>3.2 ipadè®¾å¤‡</h4><p>è¿™é‡Œæˆ‘å°±ä¸æä¾›å…¶ä»–æ“ä½œç³»ç»Ÿçš„äº†ï¼Œæœ‰å…´è¶£çš„äººå¯ä»¥å»æœä¸‹ã€‚</p><p>è¿™é‡Œè¿æ¥æ–¹æ³•æœ¬è´¨ä¸Šæ˜¯å’Œç”µè„‘ç«¯ç±»ä¼¼çš„ï¼Œå› ä¸ºæˆ‘ä»¬ç”¨çš„æ˜¯RD-clientï¼Œæ˜¯å¾®è½¯å®˜æ–¹é€€å‡ºçš„è¿æ¥å®¢æˆ·ç«¯ï¼Œ</p><p>ä¹Ÿè®¸åœ¨APP-Storeä¸Šé¢æœåˆ°çš„ä¸å«è¿™ä¸ªåå­—ï¼Œä¹Ÿä¸æ˜¯å¾ˆå¤šäººç”¨ï¼Œä½†æ˜¯å°±æ˜¯ç›¸å…³åº¦æœ€é«˜é‚£ä¸ªï¼Œä¸‹è½½å®Œä¹‹åï¼Œåå­—å°±æ˜¯rd-clientã€‚</p><p>è¿™é‡Œçš„è¿æ¥ä¹Ÿæ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œè¾“å…¥idå³å¯</p><p><strong>è¿æ¥å¤±è´¥åŸå› </strong>ï¼š</p><p>åŸå› æœ‰å¾ˆå¤šç§</p><ul><li><p>æ¯”å¦‚å¯èƒ½ç”¨æˆ·åå¼„é”™äº†ï¼Œå¯†ç ä¸€èˆ¬æ˜¯æˆ‘ä»¬ç™»å½•å¾®è½¯è´¦å·çš„é‚£ä¸ªï¼Œä¸è¦è¾“pinçš„ã€‚</p></li><li><p>å¯ä»¥æŠŠé‚£ä¸ªâ€ä»…é™ç½‘ç»œèº«ä»½çº§åˆ«è¿æ¥çš„å‹¾é€‰â€œç»™å»æ‰å°è¯•ä¸€ä¸‹ã€‚</p></li><li><p>ipåœ°å€ä¹Ÿè¦æ³¨æ„ä¸è¦å†™é”™ï¼Œæ¯”å¦‚æˆ‘ä»¬çš„æ ¡å›­ç½‘çš„ipåœ°å€æ¯å¤©éƒ½ä¼šå˜çš„ã€‚</p></li></ul><p>æ³¨æ„äº†ï¼Œä»¥ä¸Šçš„æ–¹æ³•éƒ½æ˜¯<strong>åªèƒ½åœ¨åŒä¸€ä¸ªå±€åŸŸç½‘ä¸‹ä½¿ç”¨çš„</strong>ï¼Œä¾‹å¦‚æ ¡å›­ç½‘ï¼Œé‚£è¿™ä¸ªæ—¶å€™å°±æœ‰äººä¸æ»¡äº†ï¼Œé‚£æˆ‘éƒ½åŒä¸€ä¸ªå±€åŸŸç½‘äº†ï¼Œé‚£ç®—ä»€ä¹ˆè¿œç¨‹å•Šï¼Œæµªè´¹æˆ‘æ—¶é—´å—è¿™ä¸ã€‚</p><p>okä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡<strong>å†…ç½‘ç©¿é€çš„æ–¹å¼</strong>æ¥å®ç°åœ¨å…¶ä»–ç½‘ç»œè¿œç¨‹æ§åˆ¶ï¼ˆä½†æ˜¯ä¸¤éƒ¨è®¾å¤‡ä¹Ÿä¸€æ ·éœ€è¦è”ç½‘ï¼‰ã€‚ç›¸ä¿¡å¤§å®¶åº”è¯¥éƒ½å¬è¿‡è¿™ä¸ªè¯å§ï¼Œè¿™é‡Œå°±ä¸åšè¯¦ç»†é˜è¿°äº†ï¼Œåªéœ€è¦çŸ¥é“æˆ‘ä»¬è¦ä¸€ä¸ªæœ‰å…¬ç½‘ipçš„æœåŠ¡å™¨æ¥å¸®å¿™è½¬æ¥ç«¯å£å°±å¯ä»¥äº†ã€‚</p><h4 id="3-3-é€šè¿‡äº‘æœåŠ¡å™¨å®ç°å†…ç½‘ç©¿é€"><a href="#3-3-é€šè¿‡äº‘æœåŠ¡å™¨å®ç°å†…ç½‘ç©¿é€" class="headerlink" title="3.3 é€šè¿‡äº‘æœåŠ¡å™¨å®ç°å†…ç½‘ç©¿é€"></a>3.3 é€šè¿‡äº‘æœåŠ¡å™¨å®ç°å†…ç½‘ç©¿é€</h4><blockquote><p>è¿™é‡Œç”¨çš„æ˜¯è…¾è®¯äº‘æœåŠ¡å™¨æ¥åšä¸€ä¸ªå†…ç½‘ç©¿é€ã€‚</p></blockquote><h5 id="3-3-1é¦–å…ˆæ‰“å¼€æœåŠ¡å™¨é˜²ç«å¢™3389ç«¯å£"><a href="#3-3-1é¦–å…ˆæ‰“å¼€æœåŠ¡å™¨é˜²ç«å¢™3389ç«¯å£" class="headerlink" title="3.3.1é¦–å…ˆæ‰“å¼€æœåŠ¡å™¨é˜²ç«å¢™3389ç«¯å£"></a>3.3.1é¦–å…ˆæ‰“å¼€æœåŠ¡å™¨é˜²ç«å¢™3389ç«¯å£</h5><p>åœ¨äº‘æœåŠ¡å™¨æ§åˆ¶å°å’Œ<strong>å®å¡”</strong>ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰é‚£é‡Œéƒ½è¦æ‰“å¼€</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230224220507199.png" alt="image-20230224220507199"></p><p>å½“ç„¶å¦‚æœä¸ºäº†æ›´åŠ å®‰å…¨ï¼Œå¯ä»¥ä¸è¦ç”¨3389ç«¯å£</p><h5 id="3-3-2-é…ç½®å…å¯†ç™»å½•"><a href="#3-3-2-é…ç½®å…å¯†ç™»å½•" class="headerlink" title="3.3.2 é…ç½®å…å¯†ç™»å½•"></a>3.3.2 é…ç½®å…å¯†ç™»å½•</h5><p>è¿™é‡Œæ¯”è¾ƒç®€å•</p><p>é¦–å…ˆå¯ä»¥åœ¨æœ¬æœºç”µè„‘åˆ›å»ºsshå¯†é’¥ï¼ˆå¦‚æœå·²ç»åˆ›å»ºäº†ä¼šæœ‰æç¤ºï¼‰</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">ssh-keygen<br></code></pre></td></tr></table></figure><p>æˆåŠŸæ‰§è¡Œåè¯¥å‘½ä»¤ä¼šåœ¨<code>~/.ssh</code>æ–‡ä»¶å¤¹ä¸‹ç”Ÿæˆ<code>id_rsa</code>æ–‡ä»¶å’Œ<code>id_rsa.pub</code>æ–‡ä»¶ï¼Œå‰è€…æ˜¯ç§é’¥ï¼Œéœ€è¦å¦¥å–„ä¿ç®¡é˜²æ­¢æ³„éœ²ï¼Œåè€…æ˜¯å…¬é’¥ï¼Œéœ€è¦ä¿å­˜åˆ°æœåŠ¡å™¨ä¸Šã€‚å¯ä»¥é€šè¿‡æ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ¥è‡ªåŠ¨å°†å…¬é’¥ä¸Šä¼ è‡³æœåŠ¡å™¨ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">ssh-copy-id &lt;æœåŠ¡å™¨ç”¨æˆ·å&gt;@&lt;æœåŠ¡å™¨IP&gt;<br></code></pre></td></tr></table></figure><p>å½“ç„¶å¦‚æœä½ çš„ç”µè„‘ä¸Šæ²¡æœ‰<code>ssh-copy-id</code>å‘½ä»¤ï¼Œå¯ä»¥æ‰‹åŠ¨å°†æœ¬åœ°çš„<code>~/.ssh/id_rsa.pub</code>æ–‡ä»¶ä¸­çš„å†…å®¹<strong>å…¨éƒ¨</strong>è¿½åŠ åˆ°åˆ°æœåŠ¡å™¨ä¸­çš„<code>~/.ssh/authorized_keys</code>æ–‡ä»¶åé¢ï¼ˆè®°å¾—è¦æ¢è¡Œå“¦ï¼Œä¸€è¡Œæ˜¯ä¸€ä¸ªä¸ä½Ÿçš„sshå¯†é’¥ï¼‰ã€‚</p><p>å¯ä»¥ä½¿ç”¨vimå‘½ä»¤å»ç¼–è¾‘è¯¥æ–‡ä»¶ï¼Œå¦‚æœvimä¸ä¼šçš„è¯ï¼ˆå»ºè®®å»å­¦ä¸€å­¦ï¼Œå¾ˆå®ç”¨ï¼Œè®°ä½å¸¸ç”¨çš„å‘½ä»¤å³å¯ï¼‰</p><p>å¯ä»¥åœ¨æœ¬åœ°æ‰§è¡Œä¸€ä¸‹å‘½ä»¤</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">scp ~/.ssh/id_rsa.pub &lt;æœåŠ¡å™¨ç”¨æˆ·å&gt;@&lt;æœåŠ¡å™¨IP&gt;:~/<br></code></pre></td></tr></table></figure><p>ç„¶ååœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">cat</span> ~/id_rsa.pub &gt;&gt; ~/.ssh/authorized_keys<br><span class="hljs-built_in">rm</span> ~/id_rsa.pub<br></code></pre></td></tr></table></figure><p>sshå°è¯•è¿æ¥æœåŠ¡å™¨æ—¶ï¼Œä¼šè‡ªåŠ¨åŒ¹é…<code>~/.ssh/authorized_keys</code>ä¸­çš„å…¬é’¥å’Œä½ çš„ç§é’¥ï¼Œå¦‚æœæˆåŠŸé…å¯¹ï¼Œåˆ™ä¸éœ€è¦è¾“å…¥å¯†ç å°±å¯ä»¥è¿æ¥åˆ°æœåŠ¡å™¨äº†ã€‚</p><p>å¦‚æœä¸è¡Œçš„è¯å¯ä»¥å¾€ä¸‹ç¿»é˜…ï¼Œä¸‹é¢æœ‰å†™è¿æ¥å¤±è´¥çš„åŸå› </p><h5 id="3-3-3-é…ç½®æœåŠ¡å™¨çš„sshdæœåŠ¡"><a href="#3-3-3-é…ç½®æœåŠ¡å™¨çš„sshdæœåŠ¡" class="headerlink" title="3.3.3 é…ç½®æœåŠ¡å™¨çš„sshdæœåŠ¡"></a>3.3.3 é…ç½®æœåŠ¡å™¨çš„sshdæœåŠ¡</h5><p>åœ¨æœåŠ¡å™¨ä¸Šç¼–è¾‘<code>/etc/ssh/sshd_config</code>æ–‡ä»¶ï¼Œï¼Œæ‰¾åˆ°<code>#GatewayPorts no</code>æ”¹ä¸º<code>yes</code>å¹¶å»æ‰æ³¨é‡Šã€‚</p><p>é‡å¯sshdæœåŠ¡</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">sudo</span> systemctl restart sshd<br></code></pre></td></tr></table></figure><h5 id="3-3-4-è¢«æ§åˆ¶ç«¯sshç«¯å£è½¬å‘"><a href="#3-3-4-è¢«æ§åˆ¶ç«¯sshç«¯å£è½¬å‘" class="headerlink" title="3.3.4 è¢«æ§åˆ¶ç«¯sshç«¯å£è½¬å‘"></a>3.3.4 è¢«æ§åˆ¶ç«¯sshç«¯å£è½¬å‘</h5><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">ssh -NfR &lt;æœåŠ¡å™¨IP&gt;:&lt;æœåŠ¡å™¨Port&gt;:&lt;æœ¬åœ°IP&gt;:&lt;æœ¬åœ°Port&gt; &lt;æœåŠ¡å™¨ç”¨æˆ·å&gt;@&lt;æœåŠ¡å™¨IP&gt;<br><br></code></pre></td></tr></table></figure><p>å…¶ä¸­ï¼š</p><ul><li><strong>æœåŠ¡å™¨IP</strong>ä¸ºä½ çš„äº‘æœåŠ¡å™¨çš„å…¬ç½‘IP</li><li><strong>æœåŠ¡å™¨Port</strong>ä¸ºä¹‹å‰åœ¨é˜²ç«å¢™ä¸­æ‰“å¼€çš„ç«¯å£ï¼Œé»˜è®¤ä¸º3389</li><li><strong>æœ¬åœ°IP</strong>ä¸€èˆ¬å¡«å†™<code>localhost</code></li><li><strong>æœ¬åœ°Port</strong>ä¸ºå¯ç”¨è¿œç¨‹æ¡Œé¢çš„é«˜çº§è®¾ç½®ä¸­æŒ‡å®šçš„ç«¯å£ï¼Œé»˜è®¤ä¸º3389</li><li><strong>æœåŠ¡å™¨ç”¨æˆ·å</strong>ä¸ºä½ ç™»é™†äº‘æœåŠ¡å™¨çš„ç”¨æˆ·å</li><li>**<code>-R</code>**è¡¨ç¤ºè¿œç¨‹ç«¯å£è½¬å‘</li><li>**<code>-N</code>**è¡¨ç¤ºä¸æ‰§è¡Œå‘½ä»¤ï¼Œåªè¿›è¡Œç«¯å£è½¬å‘</li><li>**<code>-f</code>**è¡¨ç¤ºå°†sshæ”¾åˆ°åå°æ‰§è¡Œ</li></ul><p>äº‹å®ä¸Šå½“æˆ‘ä»¬å‡†å¤‡å¥½æ‰€æœ‰ä¸œè¥¿åï¼Œæœ¬åœ°ç”µè„‘å¼€æœºçš„æ—¶å€™æˆ‘ä»¬åªéœ€è¦æ‰§è¡Œä¸Šè¿°è¿™ä¸€æ¡å‘½ä»¤å°±å¯ä»¥å®ç°ç«¯å£è½¬å‘äº†ï¼Œä½ å°±å¯ä»¥åœ¨ä»»ä½•æœ‰äº’è”ç½‘çš„åœ°æ–¹è¿œç¨‹è¿æ¥ç”µè„‘å•¦ï¼</p><p>ä½†æ˜¯sshçš„è¿æ¥æ˜¯<strong>éå¸¸ä¸ç¨³å®š</strong>çš„ï¼Œé‚£ä¹ˆå¦‚ä½•æ¥è§£å†³è¿™ä¸ªé—®é¢˜å‘¢ã€‚</p><h4 id="4-ä¿æŒsshè¿æ¥ç¨³å®š"><a href="#4-ä¿æŒsshè¿æ¥ç¨³å®š" class="headerlink" title="4. ä¿æŒsshè¿æ¥ç¨³å®š"></a>4. ä¿æŒsshè¿æ¥ç¨³å®š</h4><blockquote><p>è¿™é‡Œæˆ‘å°è¯•äº†å¥½å‡ ç§æ–¹æ³•ï¼Œä½†æ˜¯å¾ˆå¤šéƒ½ä¸å¤ªæˆåŠŸï¼Œå°±åœ¨è¿™é‡Œå†™ä¸‹æ¥ï¼Œä¾›å¤§å®¶å‚è€ƒï¼Œé¡ºä¾¿çœ‹çœ‹èƒ½ä¸èƒ½æ‰¾å‡ºé—®é¢˜ï¼Œä¸€åŠ³æ°¸é€¸çš„è§£å†³å§</p></blockquote><h5 id="æ–¹æ³•1-ä½¿ç”¨ç”µè„‘è‡ªå¸¦çš„åˆ›å»ºè®¡åˆ’ä»»åŠ¡æ¥æ‰§è¡Œã€‚ï¼ˆä¸å¤ªæ¨èï¼‰"><a href="#æ–¹æ³•1-ä½¿ç”¨ç”µè„‘è‡ªå¸¦çš„åˆ›å»ºè®¡åˆ’ä»»åŠ¡æ¥æ‰§è¡Œã€‚ï¼ˆä¸å¤ªæ¨èï¼‰" class="headerlink" title="æ–¹æ³•1 ä½¿ç”¨ç”µè„‘è‡ªå¸¦çš„åˆ›å»ºè®¡åˆ’ä»»åŠ¡æ¥æ‰§è¡Œã€‚ï¼ˆä¸å¤ªæ¨èï¼‰"></a>æ–¹æ³•1 ä½¿ç”¨ç”µè„‘è‡ªå¸¦çš„åˆ›å»ºè®¡åˆ’ä»»åŠ¡æ¥æ‰§è¡Œã€‚ï¼ˆä¸å¤ªæ¨èï¼‰</h5><h5 id="ï¼ˆæˆåŠŸç‡ä¸é«˜ï¼Œæœ‰çš„æ—¶å€™å¯èƒ½å¯ä»¥è¿æ¥å¾ˆä¹…ï¼Œæœ‰æ—¶å¾ˆå¿«å°±æ–­è”äº†ï¼‰"><a href="#ï¼ˆæˆåŠŸç‡ä¸é«˜ï¼Œæœ‰çš„æ—¶å€™å¯èƒ½å¯ä»¥è¿æ¥å¾ˆä¹…ï¼Œæœ‰æ—¶å¾ˆå¿«å°±æ–­è”äº†ï¼‰" class="headerlink" title="ï¼ˆæˆåŠŸç‡ä¸é«˜ï¼Œæœ‰çš„æ—¶å€™å¯èƒ½å¯ä»¥è¿æ¥å¾ˆä¹…ï¼Œæœ‰æ—¶å¾ˆå¿«å°±æ–­è”äº†ï¼‰"></a>ï¼ˆæˆåŠŸç‡ä¸é«˜ï¼Œæœ‰çš„æ—¶å€™å¯èƒ½å¯ä»¥è¿æ¥å¾ˆä¹…ï¼Œæœ‰æ—¶å¾ˆå¿«å°±æ–­è”äº†ï¼‰</h5><p>è¯¥æ–¹æ³•æ¯”è¾ƒç®€å•ï¼Œä½†æ˜¯ä¸ç®—å¾ˆæœ‰æ•ˆ</p><p>å¤§æ¦‚æ–¹æ³•å¦‚ä¸‹</p><ul><li><p>æ‰¾åˆ° <strong>ä»»åŠ¡è®¡åˆ’ç¨‹åº</strong></p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230224222136764.png" alt="image-20230224222136764" style="zoom:80%;" /></li><li><p>åˆ›å»ºä»»åŠ¡</p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230224222249147.png" alt="image-20230224222249147" style="zoom: 67%;" /></li><li><p>å¸¸è§„å¦‚ä¸‹</p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230224222351820.png" alt="image-20230224222351820" style="zoom:67%;" /></li><li><p>åˆ›å»ºè§¦å‘å™¨</p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230224222442579.png" alt="image-20230224222442579" style="zoom:67%;" /></li><li><p>åˆ›å»ºæ–°çš„æ“ä½œï¼Œå‚æ•°æ˜¯è‡ªå·±çš„é‚£äº›ipåœ°å€</p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230224222635395.png" alt="image-20230224222635395" style="zoom:80%;" /></li><li><p>æœ€åæ˜¯è®¾ç½®</p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20230224222705230.png" alt="image-20230224222705230" style="zoom:80%;" /><p>æ¥ä¸‹æ¥æˆ‘ä»¬å¯åŠ¨è¯¥ä»»åŠ¡å°±å¯ä»¥å•¦</p></li></ul><p><strong>ä½†æ˜¯</strong>ï¼Œå³ä½¿æ˜¯è¿™æ ·ä¹Ÿè¿˜æ˜¯ä¼šæ–­è”ï¼Œä½†æ˜¯ç›®å‰æ²¡æ‰¾å‡ºæ˜¯ä»€ä¹ˆåŸå› ï¼Œè€Œä¸”wifiæœ‰æ—¶å€™ä¹Ÿä¼šæ–­è¿ï¼Œæ ¡å›­ç½‘ä¹Ÿå¯èƒ½ä¼šæœ‰æ—¶æŠŠæˆ‘çš„è´¦å·ç»™ç™»å‡ºå»ï¼Œæ‰€ä»¥emmæˆ‘ç»§ç»­å¯»æ‰¾å…¶ä»–åŠæ³•ã€‚</p><h5 id="æ–¹æ³•2-autosshï¼ˆæˆåŠŸç‡é«˜ï¼‰"><a href="#æ–¹æ³•2-autosshï¼ˆæˆåŠŸç‡é«˜ï¼‰" class="headerlink" title="æ–¹æ³•2 autosshï¼ˆæˆåŠŸç‡é«˜ï¼‰"></a>æ–¹æ³•2 autosshï¼ˆæˆåŠŸç‡é«˜ï¼‰</h5><ol><li><strong>é…ç½®cygwin</strong>ï¼ˆwindowséœ€è¦é…ç½®cygwinæ‰èƒ½ç”¨autosshï¼‰</li></ol><p>è¿™ä¸€ç¯‡æ˜¯å‘½ä»¤çš„è§£é‡Šå‚è€ƒ</p><p><a href="https://zhuanlan.zhihu.com/p/112227542">åˆ©ç”¨AutoSSHå»ºç«‹SSHéš§é“ï¼Œå®ç°å†…ç½‘ç©¿é€ - çŸ¥ä¹ (zhihu.com)</a></p><p>è¿™é‡Œæ”¾ä¸Šä¸‹è½½cygwinçš„æ–‡ç« ï¼Œcygwinä¸‹è½½è¿˜æ˜¯å¾ˆæ–¹ä¾¿çš„ï¼Œä¸»è¦å°±æ˜¯ä¸‹è½½å„ç§æ’ä»¶ï¼Œå¦‚æœæ¼è£…äº†å°±é‡æ–°è¿è¡Œå®‰è£…ç¨‹åºï¼Œè¡¥å……åŒ…å°±å¯ä»¥äº†</p><p><a href="https://blog.csdn.net/hu_yinghui/article/details/125263154?spm=1001.2014.3001.5501">(127æ¡æ¶ˆæ¯) windowsä¸‹å®‰è£…Cygwinè¯¦ç»†æ•™ç¨‹_å¿«ä¹å°èƒ¡ï¼çš„åšå®¢-CSDNåšå®¢</a></p><p>å®‰è£…autosshå’Œå¯åŠ¨çš„æ–‡ç« </p><p><a href="https://blog.csdn.net/hu_yinghui/article/details/125286383">(153æ¡æ¶ˆæ¯) å¦‚ä½•åœ¨ Windows ä¸Šå®‰è£… AutosshæœåŠ¡_autossh windows_å¿«ä¹å°èƒ¡ï¼çš„åšå®¢-CSDNåšå®¢</a></p><p><strong>æ³¨æ„äº‹é¡¹</strong>ï¼šè¿™é‡Œå‘¢ä»–ä»¬ä¸¤ä¸ªçš„æ–‡ç« éƒ½æœ‰äº›åœ°æ–¹å†™çš„ä¸æ˜¯å¾ˆè¯¦ç»†</p><p>è¿™é‡Œè¡¥å……ä¸€äº›</p><ul><li>ç”¨win+Rè¿›å…¥services.mscï¼Œç„¶åæ›´æ”¹autosshç™»å½•ä¿¡æ¯ï¼Œè¾“å…¥è‡ªå·±çš„è´¦æˆ·ï¼Œæœ€åå¯åŠ¨</li><li>å¦‚æœå…¨éƒ¨éƒ½å¼„å¥½åå‘ç°è¿˜æ˜¯æ— æ³•è¿›è¡Œsshè¿æ¥ï¼Œçœ‹ä¸€ä¸‹æœ‰æ²¡æœ‰åœ¨cygwinçš„æƒ…å†µä¸‹ç”Ÿæˆ<strong>ä¸€ä¸ªæ–°çš„å…¬é’¥</strong>ï¼Œå› ä¸ºç”µè„‘æœ¬åœ°çš„é‚£ä¸ªæ˜¯æ— æ³•è®©cygwinè¿ä¸Šè¿œç¨‹æœåŠ¡å™¨çš„ï¼Œå¹¶ä¸”ç”Ÿæˆå…¬é’¥çš„åœ°å€ä¹Ÿä¸ä¸€æ ·ï¼ˆåœ°å€åå­—å¾ˆç›¸ä¼¼ï¼‰</li><li>å¦‚æœæ‰§è¡Œä¸€äº›å‘½ä»¤å‘ç”Ÿç±»ä¼¼<code>cygrunsrv: Error installing a service</code>çš„é”™è¯¯ï¼Œå¯èƒ½æ˜¯æ²¡æœ‰ä»¥ç®¡ç†å‘˜æƒé™è¿è¡Œã€‚</li></ul><ol start="2"><li><strong>autosshå‘½ä»¤</strong>ï¼š</li></ol><p>å¦‚æœä½ çš„ç”µè„‘æ˜¯Linuxæ“ä½œç³»ç»Ÿï¼Œé‚£ä¹ˆä½¿ç”¨autosshå°±å¾ˆç®€å•äº†</p><p>é¦–å…ˆæ˜¯åœ¨è‡ªå·±çš„æœ¬åœ°ç”µè„‘ä¸Šæ‰§è¡Œå‘½ä»¤å®‰è£…Autossh</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">yum install autossh<br></code></pre></td></tr></table></figure><ol start="3"><li><p><strong>å°†autosshå®‰è£…ä¸ºwindowsæœåŠ¡å‘½ä»¤</strong>ï¼š</p><figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmd">cygrunsrv -I AutoSSH -p /bin/autossh -e AUTOSSH_NTSERVICE=yes<br></code></pre></td></tr></table></figure></li></ol><p>ç„¶åå»ºç«‹SSHéš§é“ï¼Œåªéœ€è¦ä¸€æ¡ä»£ç ï¼Œéå¸¸çš„ç®€å•</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash">autossh -M 4010 -NR 80:localhost:4000 username@xxx.xxx.xxx.xxx (-p xxxx)<br>å‘å¸ƒçš„æ—¶å€™è®°å¾—åˆ æ‰ä¸‹é¢çš„ï¼<br>autossh -M 21133 -f -N -R 11233:localhost:3389 root@114.132.247.232<br><br>cygrunsrv -I AutoSSH -p /bin/autossh -a <span class="hljs-string">&quot;-M 21133 -fNR 11233:localhost:3389 root@114.132.247.232&quot;</span> -e AUTOSSH_NTSERVICE=<span class="hljs-built_in">yes</span><br><br>è¿™é‡Œå¯ä»¥ç›´æ¥ç”¨autosshæ¥å»ºç«‹éš§é“ï¼Œä¹Ÿå¯ä»¥ç”¨cygwinæ¥å¼€å¯ä¸€ä¸ªæœåŠ¡ï¼Œç”¨æ¥è‡ªåŠ¨è¿è¡Œautossh<br><br></code></pre></td></tr></table></figure><p> <strong>å‚æ•°è§£é‡Šï¼š</strong></p><ul><li>â€œ-M 4010â€æ„æ€æ˜¯ä½¿ç”¨å†…ç½‘ä¸»æœº A çš„ 4010 ç«¯å£ç›‘è§† SSH è¿æ¥çŠ¶æ€ï¼Œè¿æ¥å‡ºé—®é¢˜äº†ä¼šè‡ªåŠ¨é‡è¿</li><li>â€œ -Nâ€æ„æ€æ˜¯ä¸æ‰§è¡Œè¿œç¨‹å‘½ä»¤</li><li>â€œ-Râ€æ„æ€æ˜¯å°†è¿œç¨‹ä¸»æœºï¼ˆå…¬ç½‘ä¸»æœº Bï¼‰çš„æŸä¸ªç«¯å£è½¬å‘åˆ°æœ¬åœ°æŒ‡å®šæœºå™¨çš„æŒ‡å®šç«¯å£</li></ul><p> <strong>ä»£ç è§£é‡Šï¼š</strong></p><ul><li>â€œ80:localhost:4000â€æ„æ€æ˜¯å°†å†…ç½‘ä¸»æœº A çš„ 4000 å·ç«¯å£è½¬å‘è‡³å…¬ç½‘ä¸»æœº B çš„ 80 å·ç«¯å£ä¸Š</li><li>â€œ<a href="mailto:&#x75;&#115;&#x65;&#x72;&#x6e;&#97;&#x6d;&#101;&#64;&#x78;&#x78;&#120;&#46;&#x78;&#x78;&#x78;&#46;&#120;&#120;&#120;&#x2e;&#x78;&#120;&#120;">username@xxx.xxx.xxx.xxx</a>â€æ„æ€æ˜¯å…¬ç½‘ä¸»æœº B çš„ç”¨æˆ·åå’Œ IP</li><li>â€œ-p xxxxâ€æ„æ€æ˜¯å…¬ç½‘ä¸»æœº B çš„ SSH ç«¯å£ï¼Œå¦‚æœæ˜¯é»˜è®¤çš„ 22 å·ç«¯å£ï¼Œåˆ™å¯ä»¥ä¸è¾“å…¥.</li></ul><hr><h3 id="ä¸€äº›æ³¨æ„äº‹é¡¹"><a href="#ä¸€äº›æ³¨æ„äº‹é¡¹" class="headerlink" title="ä¸€äº›æ³¨æ„äº‹é¡¹"></a>ä¸€äº›æ³¨æ„äº‹é¡¹</h3><h4 id="1-ç™»å½•sshçš„æ—¶å€™permission-deny"><a href="#1-ç™»å½•sshçš„æ—¶å€™permission-deny" class="headerlink" title="1. ç™»å½•sshçš„æ—¶å€™permission deny"></a>1. ç™»å½•sshçš„æ—¶å€™permission deny</h4><p>è¿™ç§æƒ…å†µæœ‰å¾ˆå¤šï¼Œç½‘ä¸Šä¹Ÿæœ‰å¾ˆå¤šæ•™ç¨‹</p><p>è¿™é‡Œåˆ—ä¸¾ä¸€äº›æ¯”è¾ƒå¥½çš„</p><p><a href="https://blog.csdn.net/imliuqun123/article/details/99862506?ops_request_misc=&request_id=&biz_id=102&utm_term=%E7%94%A8%E4%BA%86%E5%AF%86%E9%92%A5%E8%BF%98%E6%98%AF%E8%A6%81%E5%AF%86%E7%A0%81&utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduweb~default-1-99862506.142%5Ev73%5Econtrol,201%5Ev4%5Eadd_ask,239%5Ev2%5Einsert_chatgpt&spm=1018.2226.3001.4187">(150æ¡æ¶ˆæ¯) ã€Linuxã€‘sshè®¾ç½®äº†å¯†é’¥ï¼Œä½†sshç™»é™†çš„æ—¶å€™è¿˜éœ€è¦è¾“å…¥å¯†ç _zclinux_çš„åšå®¢-CSDNåšå®¢_sftpå¯†é’¥ç™»é™†åè¿˜éœ€è¦å¯†ç </a></p><p>æˆ‘å½“æ—¶æ€»æ˜¯è¾“å…¥å¯†ç é”™è¯¯ï¼Œåé¢ä¸è®°å¾—è°ƒäº†ä»€ä¹ˆå°±åˆå¯ä»¥äº†ï¼Œåº”è¯¥æ˜¯å¼€äº†é‚£ä¸ª<code>PermitRootLogin yes</code>åœ¨æˆ‘çš„æ–‡ä»¶é‡Œé¢é»˜è®¤è¿™ä¸ªæ˜¯è¢«æ³¨é‡Šæ‰äº†</p><ul><li><p>è¿˜æœ‰è¿™ä¸ª<code>RSAAuthentication yes</code>æˆ‘æ‰¾ä¸åˆ°ï¼Œå…¶ä»–åŸºæœ¬éƒ½æ˜¯æ­£ç¡®çš„ã€‚</p></li><li><p>æˆ–è€…sshå¯†é’¥å·²ç»è®¾ç½®å¥½äº†çš„æ—¶å€™è¿˜æ˜¯è¦å¯†ç ï¼Œè¦å»ç¡®è®¤ä¸€ä¸‹authorized_keyæ–‡ä»¶åˆ°åº•æœ‰æ²¡æœ‰å†™é”™ï¼Œè®°å¾—è¦åˆ†è¡Œï¼Œä¸€ä¸ªsshå…¬é’¥æ˜¯ä¸€è¡Œï¼ˆç”»é¢æ˜¾ç¤ºçš„æ—¶å€™å¯èƒ½ä¼šå› ä¸ºå±å¹•ä¸å¤Ÿé•¿æ¢æˆå¤šè¡Œï¼‰</p></li><li><p>Permission denied (publickey,gssapi-keyex,gssapi-with-mic,password</p><p>å¦‚æœæ˜¯æç¤ºè¿™ä¸ªçš„æ—¶å€™å‘¢ï¼Œå…¶å®å¯èƒ½å°±çœŸçš„æ˜¯å…¬é’¥å‡ºé—®é¢˜å•¦ï¼Œè®°å¾—è¦å»çœ‹ä¸€ä¸‹ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ä¸Šç½‘æœå…¶ä»–æ–¹æ³•</p></li></ul><h4 id="2-ç”µè„‘æ— æ³•æˆåŠŸè¿æ¥"><a href="#2-ç”µè„‘æ— æ³•æˆåŠŸè¿æ¥" class="headerlink" title="2. ç”µè„‘æ— æ³•æˆåŠŸè¿æ¥"></a>2. ç”µè„‘æ— æ³•æˆåŠŸè¿æ¥</h4><ul><li><p>æ¯”å¦‚å¯èƒ½ç”¨æˆ·åå¼„é”™äº†ï¼Œå¯†ç ä¸€èˆ¬æ˜¯æˆ‘ä»¬ç™»å½•å¾®è½¯è´¦å·çš„é‚£ä¸ªï¼Œä¸è¦è¾“pinçš„ã€‚</p></li><li><p>å¯ä»¥æŠŠé‚£ä¸ªâ€ä»…é™ç½‘ç»œèº«ä»½çº§åˆ«è¿æ¥çš„å‹¾é€‰â€œç»™å»æ‰å°è¯•ä¸€ä¸‹ã€‚</p></li><li><p>ipåœ°å€ä¹Ÿè¦æ³¨æ„ä¸è¦å†™é”™ï¼Œæ¯”å¦‚æˆ‘ä»¬çš„æ ¡å›­ç½‘çš„ipåœ°å€æ¯å¤©éƒ½ä¼šå˜çš„ã€‚ï¼ˆå¦‚æœåšäº†å†…ç½‘ç©¿é€å°±ä¸ä¼šå˜ï¼‰</p></li><li><p>å¦‚æœæœ‰ç”¨<strong>å®å¡”é¡µé¢</strong>ï¼Œåˆ™è®°å¾—ä¹Ÿè¦å»å®å¡”é‚£é‡Œå¼€å¯3389çš„ç«¯å£ï¼Œå¦åˆ™ä¹Ÿæ˜¯æ— æ³•è¿œç¨‹è¿æ¥çš„</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>å„ç§éšç¬”ç»éªŒè®°å½•</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>A*ç®—æ³•å®ç°å…«æ•°ç .md</title>
    <link href="/2022/10/21/%E6%9C%AC%E7%A7%91/%E5%A4%A7%E4%B8%89%E4%B8%8A/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%E5%AF%BC%E8%AE%BA/A%E7%AE%97%E6%B3%95%E5%AE%9E%E7%8E%B0%E5%85%AB%E6%95%B0%E7%A0%81/"/>
    <url>/2022/10/21/%E6%9C%AC%E7%A7%91/%E5%A4%A7%E4%B8%89%E4%B8%8A/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD%E5%AF%BC%E8%AE%BA/A%E7%AE%97%E6%B3%95%E5%AE%9E%E7%8E%B0%E5%85%AB%E6%95%B0%E7%A0%81/</url>
    
    <content type="html"><![CDATA[<h1 id="A-ç®—æ³•å®ç°å…«æ•°ç "><a href="#A-ç®—æ³•å®ç°å…«æ•°ç " class="headerlink" title="A*ç®—æ³•å®ç°å…«æ•°ç "></a>A*ç®—æ³•å®ç°å…«æ•°ç </h1><blockquote><p>å¯å‘å¼æœç´¢(Heuristically Search)åˆç§°ä¸ºæœ‰ä¿¡æ¯æœç´¢(Informed Search)ï¼Œå®ƒæ˜¯åˆ©ç”¨é—®é¢˜æ‹¥æœ‰çš„å¯å‘ä¿¡æ¯æ¥å¼•å¯¼æœç´¢ï¼Œè¾¾åˆ°å‡å°‘æœç´¢èŒƒå›´ã€é™ä½é—®é¢˜å¤æ‚åº¦çš„ç›®çš„ï¼Œè¿™ç§åˆ©ç”¨å¯å‘ä¿¡æ¯çš„æœç´¢è¿‡ç¨‹ç§°ä¸ºå¯å‘å¼æœç´¢ã€‚å…¶ä»£è¡¨ç®—æ³•ä¸ºï¼šè´ªå©ªæœ€ä½³ä¼˜å…ˆæœç´¢(Greedy best-first search)å’ŒA âˆ— æœç´¢</p></blockquote><h4 id="å…·ä½“å®ç°æ€è·¯å¯å‚è€ƒä»¥ä¸‹æ–‡ç« "><a href="#å…·ä½“å®ç°æ€è·¯å¯å‚è€ƒä»¥ä¸‹æ–‡ç« " class="headerlink" title="å…·ä½“å®ç°æ€è·¯å¯å‚è€ƒä»¥ä¸‹æ–‡ç« "></a>å…·ä½“å®ç°æ€è·¯å¯å‚è€ƒä»¥ä¸‹æ–‡ç« </h4><p>å…«æ•°ç çš„å¯¹åº”è§£æ³•ï¼š <a href="https://blog.csdn.net/weixin_45336082/article/details/115264396">(113æ¡æ¶ˆæ¯) ã€å…«æ•°ç é—®é¢˜ã€‘åŸºäºçŠ¶æ€ç©ºé—´æ³•çš„çŸ¥è¯†è¡¨ç¤ºä¸çŠ¶æ€æœç´¢:æ— ä¿¡æ¯æœç´¢(BFS&#x2F;DFS) &amp; å¯å‘å¼æœç´¢(A*)_DtxGogogoçš„åšå®¢-CSDNåšå®¢_å…«æ•°ç é—®é¢˜çš„çŠ¶æ€ç©ºé—´å›¾</a></p><p>å¯å‘å¼æœç´¢ç®—æ³•æ€è·¯è®²è§£ï¼ˆè¿™ä¸€ç¯‡è®²çš„æŒºæ¸…æ™°çš„äº†ï¼Œçœ‹ç»™å‡ºçš„ä¾‹å­åŸºæœ¬å¯ä»¥çœ‹æ‡‚äº†ï¼‰ï¼š<a href="https://zhiqianghe.blog.csdn.net/article/details/104211475">(114æ¡æ¶ˆæ¯) å¯å‘å¼æœç´¢ (Heuristically Search)-ã€è´ªå©ªæœ€ä½³ä¼˜å…ˆæœç´¢ã€‘å’Œã€A*æœç´¢ã€‘_å°å°ä½•å…ˆç”Ÿçš„åšå®¢-CSDNåšå®¢_è´ªå©ªæœ€ä½³ä¼˜å…ˆæœç´¢</a></p><hr><h2 id="å®ç°æ€è·¯"><a href="#å®ç°æ€è·¯" class="headerlink" title="å®ç°æ€è·¯"></a>å®ç°æ€è·¯</h2><p><strong>ç®—æ³•æ€è·¯</strong></p><ul><li>ç®—æ³•é‡Œé¢ï¼Œå…¶è¯„ä»·å‡½æ•°ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼Œå®šä¹‰å¦‚ä¸‹ï¼š</li></ul><p>$$<br>fï¼ˆnï¼‰ &#x3D; gï¼ˆnï¼‰ + hï¼ˆnï¼‰<br>$$</p><ul><li>g ( n ) è¡¨ç¤ºçš„æ˜¯ä»<strong>èµ·å§‹</strong>èŠ‚ç‚¹åˆ°<strong>å½“å‰</strong>çš„èŠ‚ç‚¹nçš„<strong>å®é™…è·¯å¾„</strong>ï¼›h ( n ) è¡¨ç¤ºä»å½“å‰èŠ‚ç‚¹nåˆ°ç›®æ ‡èŠ‚ç‚¹è·¯å¾„ä¸­æ‰€ä¼°ç®—çš„<strong>æœ€å°è·¯å¾„</strong>ï¼ˆä¹Ÿå°±æ˜¯ç›´çº¿è·¯å¾„ï¼‰ã€‚</li></ul><p><strong>å…«æ•°ç å¯¹åº”æ€è·¯</strong></p><p><strong>gï¼ˆnï¼‰</strong>ï¼š</p><p>åœ¨å…«æ•°ç ä¸­å¯ä»¥è§†ä¸º<strong>ç©ºæ ¼èµ°è¿‡çš„æ­¥æ•°</strong>ï¼Œå…¶å®å°±æ˜¯æ ‘çš„æ·±åº¦</p><p><strong>æ¬§å¼è·ç¦»æ³•æ±‚hï¼ˆnï¼‰</strong>:<br>æ¬§å¼è·ç¦»: åˆå§‹çŠ¶æ€ä¸­çš„æ¯ä¸€ä¸ªæ£‹å­ä½ç½®ä¸ç›®æ ‡çŠ¶æ€çš„ç›¸åº”æ£‹å­ä½ç½®çš„å‡ ä½•è·ç¦»</p><p>â€ƒâ€ƒä¾‹å¦‚ï¼šåˆå§‹çŠ¶æ€çš„6å’Œç›®æ ‡çŠ¶æ€çš„6ç›¸å·®äº†1ä¸ªå•ä½è·ç¦»ï¼Œåˆå§‹çŠ¶æ€çš„8å’Œç›®æ ‡çŠ¶æ€çš„8ç›¸å·®äº†æ ¹å·2ä¸ªå•ä½è·ç¦»<img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/20210323213339711.png" alt="æ¥è‡ªCSDN"><br>â€ƒâ€ƒå› æ­¤æˆ‘ä»¬çš„å¯å‘å‡½æ•°å°±æ˜¯å»æ‰¾å‡º<strong>å½“å‰çŠ¶æ€</strong>æ‰€æœ‰ä¸åœ¨ç›®æ ‡ä½ç½®çš„æ£‹å­ï¼Œå®ƒä»¬è·ç¦»ç›®æ ‡ä½ç½®çš„<strong>æ¬§å¼è·ç¦»ä¹‹å’Œ</strong>å°±æ˜¯å½“å‰çŠ¶æ€åˆ°ç›®æ ‡çŠ¶æ€çš„å¼€é”€ä¼°è®¡ä»£ä»·h ( n )ã€‚</p><hr><h2 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h2><blockquote><p>æœ‰äº†å¤§æ¦‚æ€è·¯ä¹‹åï¼Œå…¶å®å°±å¾ˆå¥½å†™äº†ï¼Œåªéœ€è¦å‚ç…§åŸæ¥BFSçš„æ¡†æ¶å»æ”¹åŠ¨å°±å¯ä»¥äº†ï¼Œä»£ç æ€è·¯<strong>è¦ç»“åˆBFSçš„æ€è·¯</strong>ä¸€èµ·é£Ÿç”¨ï¼Œå› ä¸ºæ˜¯åŸºäºå®ƒçš„æ¡†æ¶æ¥è¿›è¡Œä¿®æ”¹</p></blockquote><h3 id="æ”¹åŠ¨éƒ¨åˆ†ï¼š"><a href="#æ”¹åŠ¨éƒ¨åˆ†ï¼š" class="headerlink" title="æ”¹åŠ¨éƒ¨åˆ†ï¼š"></a>æ”¹åŠ¨éƒ¨åˆ†ï¼š</h3><h3 id="1-Mainå‡½æ•°"><a href="#1-Mainå‡½æ•°" class="headerlink" title="1.Mainå‡½æ•°"></a>1.Mainå‡½æ•°</h3><p>mainå‡½æ•°éƒ¨åˆ†å‡ ä¹<strong>æ²¡æœ‰æ”¹åŠ¨</strong></p><ul><li>åœ¨æœ€åˆçš„Stateç±»ä¸Šé¢å¤šäº†ä¸€ä¸ªdeepnum,è¡¨ç¤ºçš„æ˜¯å±‚æ•°ï¼Œä¹Ÿè¡¨ç¤ºgï¼ˆnï¼‰ï¼Œå³èµ°è¿‡çš„æ­¥æ•°</li><li>ä¸éœ€è¦OPENè¡¨</li></ul><h3 id="2-Stateç±»æˆå‘˜å˜é‡"><a href="#2-Stateç±»æˆå‘˜å˜é‡" class="headerlink" title="2.Stateç±»æˆå‘˜å˜é‡"></a>2.Stateç±»æˆå‘˜å˜é‡</h3><p>æ–°å¢äº†<strong>ä¸¤ä¸ª</strong>æˆå‘˜å˜é‡å’Œä¸€ä¸ªé™æ€æˆå‘˜å˜é‡</p><ul><li><p>æ–°å¢Deepè¡¨ç¤ºå±‚æ•°</p></li><li><p>æ–°å¢Evaluationè¡¨ç¤º<strong>è¯„ä¼°å‡½æ•°</strong> F(n)ï¼Œåé¢ä¼šæœ‰è®¡ç®—è¯„ä¼°å‡½æ•°çš„æˆå‘˜æ–¹æ³•</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">State</span>:<br>    Tar_State = <span class="hljs-literal">None</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, CuState, index, deepNum, parent=<span class="hljs-literal">None</span>, <span class="hljs-built_in">dir</span>=<span class="hljs-literal">None</span></span>):<br>        <span class="hljs-variable language_">self</span>.parent = parent  <span class="hljs-comment"># çˆ¶äº²èŠ‚ç‚¹</span><br>        <span class="hljs-variable language_">self</span>.Direction = <span class="hljs-built_in">dir</span><br>        <span class="hljs-variable language_">self</span>.Matrix = CuState<br>        <span class="hljs-variable language_">self</span>.CuIndex = index<br>        <span class="hljs-variable language_">self</span>.Deep = deepNum <span class="hljs-comment">#g(n): èŠ‚ç‚¹æ·±åº¦ï¼Œè¡¨ç¤ºç©ºæ ¼èµ°è¿‡çš„æ­¥æ•°</span><br>        <span class="hljs-variable language_">self</span>.Evaluation = <span class="hljs-number">0.0</span> <span class="hljs-comment">#è¯„ä¼°å‡½æ•° = g(n) + h(n)</span><br></code></pre></td></tr></table></figure></li></ul><h3 id="3-Stateç±»æˆå‘˜å‡½æ•°"><a href="#3-Stateç±»æˆå‘˜å‡½æ•°" class="headerlink" title="3.Stateç±»æˆå‘˜å‡½æ•°"></a>3.Stateç±»æˆå‘˜å‡½æ•°</h3><p>æ–°å¢<strong>ä¸¤ä¸ª</strong>æˆå‘˜å‡½æ•°,Findï¼ˆï¼‰å’ŒCreate_Next_Stateï¼ˆï¼‰å‡½æ•°æœ‰æ‰€æ”¹åŠ¨</p><ul><li><p><code>GetIndex(int indexNum)</code> ç”¨æ¥æŸ¥æ‰¾<strong>æŸä¸ªæ•°å­—</strong>åœ¨<strong>ç›®æ ‡çŠ¶æ€</strong>çš„çŸ©é˜µçš„å“ªä¸ªä½ç½®</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20221008223239483.png" alt="image-20221008223239483"></p></li><li><p><code>Get_H_fun(State Next_State)</code> è®¡ç®—è¯„ä¼°å‡½æ•°å½“ä¸­hï¼ˆnï¼‰çš„å€¼å¹¶ä¸”è¿”å›</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20221008223408892.png" alt="image-20221008223408892"></p></li><li><p><code> Create_Next_State(self, Cu_index, Next_index, Fir_State, Dir)</code> å’ŒåŸæ¥çš„å·®ä¸å¤šï¼Œä½†æ˜¯å¤šäº†ä¸ªdeepNumä¸”æ¯æ¬¡è‡ªå¢ä¼šï¼‹1</p><p>å…¶æ¬¡åœ¨æœ€åè¦å¤šä¸€è¡Œ<strong>è®¡ç®—è¯„ä¼°å‡½æ•°</strong>çš„ä»£ç </p></li><li><p>Findï¼ˆï¼‰å‡½æ•°çš„è¯ï¼Œæ•´ä½“æ€è·¯æ˜¯å·®ä¸å¤šçš„ï¼Œä¹Ÿæ˜¯åœ¨ä¸€ä¸ªwhileå¾ªç¯é‡Œé¢ä¸æ–­è·å–æ–°çš„çŠ¶æ€å¹¶ä¸”åˆ¤æ–­ï¼Œè¿™é‡Œæ˜¯è¦è®¡ç®—æ¯ä¸€æ¬¡æ–°çŠ¶æ€çš„è¯„ä¼°å‡½æ•°ï¼Œ</p><p>å¹¶ä¸”æ¯”è¾ƒå››ä¸ªæ–°çŠ¶æ€ï¼ˆå¦‚æœæœ‰çŠ¶æ€åœ¨CLOSEè¡¨é‡Œé¢é‡å¤äº†åˆ™ä¸ä¼šå‚ä¸æ¯”è¾ƒï¼Œè¿™æ ·å¯ä»¥<strong>èŠ‚çœ</strong>æ¯”è¾ƒæ¬¡æ•°ï¼Œå¹¶ä¸”<strong>ä¸ä¼šæ­»å¾ªç¯</strong>ï¼‰çš„è¯„ä¼°å‡½æ•°å¤§å°ï¼Œä¸‹ä¸€æ¬¡å¾ªç¯åˆ™ç”¨å½“å‰fï¼ˆnï¼‰æœ€å°çš„é‚£ä¸€ä¸ª</p><p>å‰©ä¸‹çš„å°±æ˜¯ä¸€äº›å…·ä½“å°ç»†èŠ‚è¦æ³¨æ„ï¼Œä¾‹å¦‚Indexè®°å¾—æ›´æ–°ï¼Œç„¶ååŒºåˆ†å¥½MinPathå’Œ_MinPathçš„ä½œç”¨ï¼ˆåœ¨ä»£ç ä¸­çš„å˜é‡ï¼‰</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">Find</span>(<span class="hljs-params">self</span>):<br>    <span class="hljs-keyword">global</span> CLOSE<br>    stateNum = <span class="hljs-number">0</span><br>    Index = <span class="hljs-variable language_">self</span>.CuIndex<br>    _MinPath=MinPath = <span class="hljs-variable language_">self</span><span class="hljs-comment"># ç”¨æ¥æ ‡è®°æœ€å°å€¼</span><br>    MinPath.Evaluation = <span class="hljs-number">9999.0</span><br>    <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>        CLOSE.push(MinPath)<br>        MinPath = copy.deepcopy(_MinPath)<br>        Index = MinPath.CuIndex<br>        _MinPath = <span class="hljs-variable language_">self</span> <span class="hljs-comment">#é‡æ–°å¯»æ‰¾å½“å‰çˆ¶èŠ‚ç‚¹ä¸‹çš„æœ€å°å€¼</span><br>        <span class="hljs-keyword">if</span> ((Index + <span class="hljs-number">1</span>) % <span class="hljs-number">3</span> != <span class="hljs-number">0</span>):  <span class="hljs-comment">#å³è¾¹ç•Œæ¡ä»¶</span><br>            Right_State = <span class="hljs-variable language_">self</span>.Create_Next_State(Index, Index + <span class="hljs-number">1</span>, MinPath, <span class="hljs-string">&quot;Right&quot;</span>)<br>            <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> <span class="hljs-variable language_">self</span>.is_State_Existed(CLOSE,Right_State): <span class="hljs-comment">#åˆ¤æ–­æ˜¯å¦å·²ç»èµ°è¿‡äº†è¿™æ¡è·¯å¾„</span><br>                <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Move Right&quot;</span>)<span class="hljs-comment"># ä»£è¡¨å¯ä»¥å‘å³ç§»åŠ¨</span><br>                <span class="hljs-keyword">if</span> (Right_State.Matrix == TargetState).<span class="hljs-built_in">all</span>(): <span class="hljs-comment"># numpyä¸­å¯¹æ¯”æ•°ç»„ä¸­æ‰€æœ‰å…ƒç´ çš„æ–¹æ³•</span><br>                    <span class="hljs-keyword">return</span> Right_State<br>                    <span class="hljs-comment">#Next_State.ShowState()</span><br>                    <span class="hljs-comment">#åˆ¤æ–­ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„ä¼°å€¼å‡½æ•°æ˜¯å¦æ¯”å½“å‰å­˜å‚¨çš„å°</span><br>                <span class="hljs-keyword">elif</span>(_MinPath.Evaluation &gt; Right_State.Evaluation):<br>                    _MinPath = Right_State        <span class="hljs-comment"># å…ˆç”¨_MinPathæ¥æš‚æ—¶å­˜å‚¨æœ€å°è·¯å¾„ï¼Œä¸‹ä¸€ä¸ªå¾ªç¯çš„æ—¶å€™å†ä½¿ç”¨ </span><br>                CLOSE.push(Right_State)<br>  <br>        <span class="hljs-keyword">if</span> (Index % <span class="hljs-number">3</span> != <span class="hljs-number">0</span>):  <span class="hljs-comment">#å³è¾¹ç•Œæ¡ä»¶</span><br>            Left_State = <span class="hljs-variable language_">self</span>.Create_Next_State(Index, Index - <span class="hljs-number">1</span>, MinPath, <span class="hljs-string">&quot;Left&quot;</span>)<br>            <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> <span class="hljs-variable language_">self</span>.is_State_Existed(CLOSE,Left_State): <span class="hljs-comment">#åˆ¤æ–­æ˜¯å¦å·²ç»èµ°è¿‡äº†è¿™æ¡è·¯å¾„</span><br>                <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Move Left&quot;</span>)<span class="hljs-comment"># ä»£è¡¨å¯ä»¥å‘å³ç§»åŠ¨</span><br>                <span class="hljs-keyword">if</span> (Left_State.Matrix == TargetState).<span class="hljs-built_in">all</span>(): <span class="hljs-comment"># numpyä¸­å¯¹æ¯”æ•°ç»„ä¸­æ‰€æœ‰å…ƒç´ çš„æ–¹æ³•</span><br>                    <span class="hljs-keyword">return</span> Left_State<br>                    <span class="hljs-comment">#Next_State.ShowState()</span><br>                    <span class="hljs-comment">#åˆ¤æ–­ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„ä¼°å€¼å‡½æ•°æ˜¯å¦æ¯”å½“å‰å­˜å‚¨çš„å°</span><br>                <span class="hljs-keyword">elif</span>(_MinPath.Evaluation &gt; Left_State.Evaluation):<br>                    _MinPath = Left_State    <span class="hljs-comment"># å…ˆç”¨_MinPathæ¥æš‚æ—¶å­˜å‚¨æœ€å°è·¯å¾„ï¼Œä¸‹ä¸€ä¸ªå¾ªç¯çš„æ—¶å€™å†ä½¿ç”¨ </span><br>                CLOSE.push(Left_State)                        <br>  <br>        <span class="hljs-keyword">if</span> (Index - <span class="hljs-number">3</span> &gt;= <span class="hljs-number">0</span>):  <span class="hljs-comment">#ä¸Šè¾¹ç•Œæ¡ä»¶</span><br>            Up_State = <span class="hljs-variable language_">self</span>.Create_Next_State(Index, Index - <span class="hljs-number">3</span>, MinPath, <span class="hljs-string">&quot;Up&quot;</span>)<br>            <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> <span class="hljs-variable language_">self</span>.is_State_Existed(CLOSE,Up_State): <span class="hljs-comment">#åˆ¤æ–­æ˜¯å¦å·²ç»èµ°è¿‡äº†è¿™æ¡è·¯å¾„</span><br>                <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Move Up&quot;</span>)<span class="hljs-comment"># ä»£è¡¨å¯ä»¥å‘å³ç§»åŠ¨</span><br>                <span class="hljs-keyword">if</span> (Up_State.Matrix == TargetState).<span class="hljs-built_in">all</span>(): <span class="hljs-comment"># numpyä¸­å¯¹æ¯”æ•°ç»„ä¸­æ‰€æœ‰å…ƒç´ çš„æ–¹æ³•</span><br>                    <span class="hljs-keyword">return</span> Up_State<br>                    <span class="hljs-comment">#Next_State.ShowState()</span><br>                    <span class="hljs-comment">#åˆ¤æ–­ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„ä¼°å€¼å‡½æ•°æ˜¯å¦æ¯”å½“å‰å­˜å‚¨çš„å°</span><br>                <span class="hljs-keyword">elif</span>(_MinPath.Evaluation &gt; Up_State.Evaluation):<br>                    _MinPath = Up_State        <span class="hljs-comment"># å…ˆç”¨_MinPathæ¥æš‚æ—¶å­˜å‚¨æœ€å°è·¯å¾„ï¼Œä¸‹ä¸€ä¸ªå¾ªç¯çš„æ—¶å€™å†ä½¿ç”¨ </span><br>                CLOSE.push(Up_State)                        <br>        <br>        <span class="hljs-keyword">if</span> (Index + <span class="hljs-number">3</span> &lt;= <span class="hljs-number">8</span>):  <span class="hljs-comment">#ä¸‹è¾¹ç•Œæ¡ä»¶</span><br>            Down_State = <span class="hljs-variable language_">self</span>.Create_Next_State(Index, Index + <span class="hljs-number">3</span>, MinPath, <span class="hljs-string">&quot;Down&quot;</span>)<br>            <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> <span class="hljs-variable language_">self</span>.is_State_Existed(CLOSE,Down_State): <span class="hljs-comment">#åˆ¤æ–­æ˜¯å¦å·²ç»èµ°è¿‡äº†è¿™æ¡è·¯å¾„</span><br>                <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Move Down&quot;</span>)<span class="hljs-comment"># ä»£è¡¨å¯ä»¥å‘å³ç§»åŠ¨</span><br>                <span class="hljs-keyword">if</span> (Down_State.Matrix == TargetState).<span class="hljs-built_in">all</span>(): <span class="hljs-comment"># numpyä¸­å¯¹æ¯”æ•°ç»„ä¸­æ‰€æœ‰å…ƒç´ çš„æ–¹æ³•</span><br>                    <span class="hljs-keyword">return</span> Down_State<br>                    <span class="hljs-comment">#Next_State.ShowState()</span><br>                    <span class="hljs-comment">#åˆ¤æ–­ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„ä¼°å€¼å‡½æ•°æ˜¯å¦æ¯”å½“å‰å­˜å‚¨çš„å°</span><br>                <span class="hljs-keyword">elif</span>(_MinPath.Evaluation &gt; Down_State.Evaluation):<br>                    _MinPath = Down_State         <span class="hljs-comment"># å…ˆç”¨_MinPathæ¥æš‚æ—¶å­˜å‚¨æœ€å°è·¯å¾„ï¼Œä¸‹ä¸€ä¸ªå¾ªç¯çš„æ—¶å€™å†ä½¿ç”¨</span><br>                CLOSE.push(Down_State)<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;One layer Throughï¼Œnow Min f(n) = &quot;</span>,_MinPath.Evaluation)<br></code></pre></td></tr></table></figure><p>æœ€åè¯´ä¸€ä¸‹ï¼Œè¯¥å¾ªç¯æ˜¯èµ°ä¸å‡ºå»çš„ï¼Œå¿…å®šè¦æ‰¾åˆ°ç›®æ ‡çŠ¶æ€æ‰ä¼šåœä¸‹æ¥ï¼Œè€Œæ€ä¹ˆåˆ¤æ–­æ˜¯å¦è¯¥åˆå§‹çŠ¶æ€æ˜¯å¦æœ€ç»ˆèƒ½å¤Ÿè¾¾åˆ°ç›®æ ‡çŠ¶æ€æˆ‘å¥½åƒè¿˜ä¸çŸ¥é“æ€ä¹ˆå†™ï¼Œåˆ°æ—¶å€™å†å®Œå–„å§ï¼ˆæ²¡æœ‰é‚£ä¸ªæ—¶å€™äº†å¯èƒ½å“ˆå“ˆå“ˆï¼‰</p></li></ul><hr><h2 id="æœ€åæ€»ç»“"><a href="#æœ€åæ€»ç»“" class="headerlink" title="æœ€åæ€»ç»“"></a>æœ€åæ€»ç»“</h2><p>  æœ¬æ¬¡å®éªŒä¹Ÿæ˜¯å‚ç…§äº†å¾ˆå¤šåšå®¢çš„æ€è·¯ï¼Œå…¶ä¸­å¸®åŠ©æ¯”è¾ƒå¤§çš„ä¹Ÿå·²ç»å†™åœ¨æ–‡ç« çš„ä¸Šæ–¹äº†ï¼Œç”±äºç¬”è€…æœ¬äººå¯¹äºpythonè¿˜ä¸æ˜¯å¾ˆç†Ÿç»ƒï¼Œå› æ­¤å†™å‡ºæ¥çš„ä»£ç éš¾å…ä¼šæœ‰è®¸å¤šå†—ä½™çš„åœ°æ–¹ï¼Œä¹Ÿè¯·å¤šå¤šè°…è§£ï¼Œæœ¬èº«å†™è¿™ç¯‡ä¸œè¥¿çš„ç›®çš„å°±æ˜¯ä¸ºäº†åšä¸€ä¸ªè®°å½•ï¼Œä¹Ÿæ–¹ä¾¿ä»¥åå†æ¬¡æŸ¥é˜…ï¼Œè‹¥èƒ½å¤Ÿå¯¹ä»–äººèµ·åˆ°å¸®åŠ©åˆ™æ˜¯é”¦ä¸Šæ·»èŠ±äº†ã€‚</p><p>  A*ç®—æ³•å…¶å®ç†è§£ä¸‹æ¥ä¹‹åä¹Ÿä¸æ˜¯å¾ˆéš¾ï¼Œé‡ç‚¹è¿˜æ˜¯æ€ä¹ˆæ ·å»æ„å»ºä¸€ä¸ªè¯„ä¼°å‡½æ•°å¯ä»¥è®©å…¶æ›´å¥½çš„å‘æŒ¥æ•ˆæœï¼Œæƒ³å†™å‡ºä¸€ä¸ªä»£ç æ¡†æ¶ä¸ç®—ç‰¹åˆ«éš¾ï¼Œä¸è¿‡ç¬”è€…èƒ½åŠ›æœ‰é™ï¼Œå› æ­¤æ­å»ºå¥½ä»£ç æ¡†æ¶ä¹‹åï¼ŒèŠ±äº†å¾ˆå¤šæ—¶é—´å»debugè‡ªå·±å†™çš„ä¸œè¥¿ï¼Œç»§ç»­åŠªåŠ›å§ï¼Œå…±å‹‰</p><hr><h2 id="é™„ä¸Šå…¨éƒ¨ä»£ç "><a href="#é™„ä¸Šå…¨éƒ¨ä»£ç " class="headerlink" title="é™„ä¸Šå…¨éƒ¨ä»£ç "></a>é™„ä¸Šå…¨éƒ¨ä»£ç </h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> copy<br><span class="hljs-keyword">import</span> math<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyQueue</span>:  <span class="hljs-comment"># é˜Ÿåˆ—æ•°æ®ç»“æ„</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, size</span>):<br>        <span class="hljs-variable language_">self</span>.front = -<span class="hljs-number">1</span><br>        <span class="hljs-variable language_">self</span>.rear = -<span class="hljs-number">1</span><br>        <span class="hljs-variable language_">self</span>._size = size<br>        <span class="hljs-variable language_">self</span>._queue = []<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">push</span>(<span class="hljs-params">self, data</span>):<br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> (<span class="hljs-variable language_">self</span>.isFull()):<br>            <span class="hljs-variable language_">self</span>._queue.append(data)<br>            <span class="hljs-variable language_">self</span>.rear += <span class="hljs-number">1</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">pop</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> (<span class="hljs-variable language_">self</span>.isEmpty()):<br>            <span class="hljs-variable language_">self</span>._queue.pop(<span class="hljs-number">0</span>)<br>            <span class="hljs-variable language_">self</span>.rear -= <span class="hljs-number">1</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">isFull</span>(<span class="hljs-params">self</span>):  <span class="hljs-comment"># é˜Ÿåˆ—æ»¡æ—¶è¿”å›1</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">self</span>.rear == <span class="hljs-variable language_">self</span>._size - <span class="hljs-number">1</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">isEmpty</span>(<span class="hljs-params">self</span>):  <span class="hljs-comment"># é˜Ÿåˆ—ç©ºæ—¶è¿”å›1</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">self</span>.rear == -<span class="hljs-number">1</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">getFont</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">self</span>.isEmpty() == <span class="hljs-number">0</span>):<br>            <span class="hljs-keyword">return</span> <span class="hljs-variable language_">self</span>._queue[<span class="hljs-number">0</span>]<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">State</span>:<br>    Tar_State = <span class="hljs-literal">None</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, CuState, index, deepNum, parent=<span class="hljs-literal">None</span>, <span class="hljs-built_in">dir</span>=<span class="hljs-literal">None</span></span>):<br>        <span class="hljs-variable language_">self</span>.parent = parent  <span class="hljs-comment"># çˆ¶äº²èŠ‚ç‚¹</span><br>        <span class="hljs-variable language_">self</span>.Direction = <span class="hljs-built_in">dir</span><br>        <span class="hljs-variable language_">self</span>.Matrix = CuState<br>        <span class="hljs-variable language_">self</span>.CuIndex = index<br>        <span class="hljs-variable language_">self</span>.Deep = deepNum <span class="hljs-comment">#g(n): èŠ‚ç‚¹æ·±åº¦ï¼Œè¡¨ç¤ºç©ºæ ¼èµ°è¿‡çš„æ­¥æ•°</span><br>        <span class="hljs-variable language_">self</span>.Evaluation = <span class="hljs-number">0.0</span> <span class="hljs-comment">#è¯„ä¼°å‡½æ•° = g(n) + h(n)</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">ShowState</span>(<span class="hljs-params">self</span>):<span class="hljs-comment">#æ‰“å°çŸ©é˜µä¿¡æ¯</span><br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Move &quot;</span>,<span class="hljs-variable language_">self</span>.Direction,<span class="hljs-string">&quot; f(n) = &quot;</span>,<span class="hljs-variable language_">self</span>.Evaluation)<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">3</span>):<br>            <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">3</span>):<br>                <span class="hljs-built_in">print</span>(<span class="hljs-variable language_">self</span>.Matrix[j + i * <span class="hljs-number">3</span>],end=<span class="hljs-string">&quot; &quot;</span>)<br>            <span class="hljs-built_in">print</span>()<br>        <span class="hljs-built_in">print</span>()<br>    <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">GetIndex</span>(<span class="hljs-params">self,indexNum</span>): <span class="hljs-comment">#ç”¨æ¥æŸ¥æ‰¾æŸä¸ªæ•°å­—åœ¨çŸ©é˜µçš„å“ªä¸ªä½ç½®</span><br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">9</span>):<br>            <span class="hljs-keyword">if</span>(indexNum == State.Tar_State[i]):<br>                <span class="hljs-keyword">return</span> i<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span> <span class="hljs-comment">#è¿”å›æ•°ç»„å¤±è´¥</span><br><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">Swap</span>(<span class="hljs-params">self, Cu_index, Next_index, NState</span>):<span class="hljs-comment">#äº¤æ¢çŸ©é˜µå½“ä¸­çš„ä¸¤ä¸ªæ•°</span><br>        temp = NState[Cu_index]<br>        NState[Cu_index] = NState[Next_index]<br>        NState[Next_index] = temp<br><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">calculate_Reverse</span>(<span class="hljs-params">self,Matrix</span>): <span class="hljs-comment">#è®¡ç®—é€†åºæ•°</span><br>        State_Matrix = []<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">9</span>):<br>            State_Matrix.append(Matrix[i])<br>        State_Matrix.remove(<span class="hljs-number">0</span>)<br>        reverse_number = <span class="hljs-number">0</span><br>        <span class="hljs-keyword">for</span> cur <span class="hljs-keyword">in</span> State_Matrix:<br>            index = State_Matrix.index(cur)<br>            <span class="hljs-comment"># éå†curåé¢çš„æ•°å­—</span><br>            <span class="hljs-keyword">for</span> after_cur <span class="hljs-keyword">in</span> State_Matrix[index:]:<br>                <span class="hljs-keyword">if</span> cur &gt; after_cur:<br>                    reverse_number += <span class="hljs-number">1</span><br>        <span class="hljs-keyword">if</span> reverse_number % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>:<br>            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span><br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-keyword">return</span> <span class="hljs-number">1</span><br>    <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">is_Solvable</span>(<span class="hljs-params">self</span>): <span class="hljs-comment">#åˆ¤æ–­è¯¥çŠ¶æ€æ˜¯å¦æœ‰è§£</span><br>        init_Reverse_Num = <span class="hljs-variable language_">self</span>.calculate_Reverse(<span class="hljs-variable language_">self</span>.Matrix)<br>        Tar_Reverse_Num = <span class="hljs-variable language_">self</span>.calculate_Reverse(<span class="hljs-variable language_">self</span>.Tar_State)<br>        <span class="hljs-keyword">if</span> init_Reverse_Num == Tar_Reverse_Num:<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;The State is solvable&quot;</span>)<br>            <span class="hljs-keyword">return</span> <span class="hljs-number">1</span><br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;The State is unsolvable&quot;</span>)<br>            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">is_State_Existed</span>(<span class="hljs-params">self,CLOSE,Next_State</span>):<span class="hljs-comment">#ç”¨æ¥åˆ¤è¯»æ–°çš„çŠ¶æ€æ˜¯å¦å’ŒCLOSEè¡¨é‡Œé¢çš„æœ‰é‡å </span><br>        <span class="hljs-keyword">for</span> node <span class="hljs-keyword">in</span> CLOSE._queue:<br>            <span class="hljs-keyword">if</span>(Next_State.Matrix == node.Matrix).<span class="hljs-built_in">all</span>():<br>                <span class="hljs-keyword">return</span> <span class="hljs-number">1</span> <span class="hljs-comment">#è¡¨ç¤ºå·²ç»æœ‰å…ƒç´ å­˜åœ¨ï¼Œä¸ä¼šå°†è¯¥çŠ¶æ€å…¥é˜Ÿ</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span> <br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">Get_H_fun</span>(<span class="hljs-params">self,Next_State</span>):<span class="hljs-comment"># è®¡ç®—hï¼ˆnï¼‰çš„å¤§å°å¹¶ä¸”è¿”å›h(n)çš„å€¼</span><br>        h_distance = <span class="hljs-number">0.0</span><br>        <span class="hljs-keyword">for</span> index_cur <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">9</span>):<br>            <span class="hljs-keyword">if</span> Next_State.Matrix[index_cur] != State.Tar_State[index_cur]:<br>                x_cur = index_cur % <span class="hljs-number">3</span><span class="hljs-comment">#è¯¥æ•°å­—å½“å‰çš„ç´¢å¼• ç©ºé—´åæ ‡</span><br>                y_cur = <span class="hljs-built_in">int</span>(index_cur / <span class="hljs-number">3</span>)<br>                index_tar = <span class="hljs-variable language_">self</span>.GetIndex(Next_State.Matrix[index_cur])<span class="hljs-comment">#ç›®æ ‡çŸ©é˜µè¯¥æ•°å­—çš„å¯¹åº”ç´¢å¼•ä½ç½®</span><br>                x_tar = index_tar % <span class="hljs-number">3</span><span class="hljs-comment">#è¯¥æ•°å­—å½“å‰çš„ç´¢å¼• ç©ºé—´åæ ‡</span><br>                y_tar = <span class="hljs-built_in">int</span>(index_tar / <span class="hljs-number">3</span>) <span class="hljs-comment">#å¼ºåˆ¶è½¬æ¢æ˜¯ä¸ºäº†è®©yè½´åªæœ‰0~2è¿™ä¸‰ä¸ªæ•°</span><br>                h_n_each = math.sqrt((x_cur - x_tar) ** <span class="hljs-number">2</span> + (y_cur - y_tar) ** <span class="hljs-number">2</span>)<br>                h_distance += h_n_each<br>        <span class="hljs-keyword">return</span> h_distance<br>        <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">Create_Next_State</span>(<span class="hljs-params">self, Cu_index, Next_index, Fir_State, Dir</span>):<span class="hljs-comment">#é€šè¿‡ä¸Šä¸€ä¸ªèŠ‚ç‚¹æ¥äº§ç”Ÿä¸€ä¸ªæ–°çš„Stateç±»ï¼Œå«æœ‰æ–°çš„æ–¹å‘å’Œæ•°ç»„</span><br>        Next_State = State(<br>            CuState=Fir_State.Matrix.copy(),<br>            index=Next_index,<br>            deepNum=Fir_State.Deep + <span class="hljs-number">1</span>,<br>            parent=Fir_State, <span class="hljs-comment">#æŒ‡å‘ä¸Šä¸€ä¸ªèŠ‚ç‚¹</span><br>            <span class="hljs-built_in">dir</span>=Dir)<br>        <span class="hljs-variable language_">self</span>.Swap(Cu_index, Next_index, Next_State.Matrix)<br>        Next_State.Evaluation = <span class="hljs-variable language_">self</span>.Get_H_fun(Next_State) + Next_State.Deep<br>        <span class="hljs-keyword">return</span> Next_State<br>    <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">Find</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">global</span> CLOSE<br>        Index = <span class="hljs-variable language_">self</span>.CuIndex<br>        _MinPath=MinPath = <span class="hljs-variable language_">self</span><span class="hljs-comment"># ç”¨æ¥æ ‡è®°æœ€å°å€¼</span><br>        MinPath.Evaluation = <span class="hljs-number">9999.0</span><br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> <span class="hljs-variable language_">self</span>.is_Solvable(): <span class="hljs-comment"># ç”¨é€†åºæ•°æ¥åˆ¤æ–­æ˜¯å¦æœ‰è§£</span><br>            <span class="hljs-keyword">return</span> <span class="hljs-variable language_">self</span><br>        <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>            CLOSE.push(MinPath)<br>            MinPath = copy.deepcopy(_MinPath)<br>            Index = MinPath.CuIndex<br>            _MinPath = <span class="hljs-variable language_">self</span> <span class="hljs-comment">#é‡æ–°å¯»æ‰¾å½“å‰çˆ¶èŠ‚ç‚¹ä¸‹çš„æœ€å°å€¼</span><br>            <span class="hljs-keyword">if</span> ((Index + <span class="hljs-number">1</span>) % <span class="hljs-number">3</span> != <span class="hljs-number">0</span>):  <span class="hljs-comment">#å³è¾¹ç•Œæ¡ä»¶</span><br>                Right_State = <span class="hljs-variable language_">self</span>.Create_Next_State(Index, Index + <span class="hljs-number">1</span>, MinPath, <span class="hljs-string">&quot;Right&quot;</span>)<br>                <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> <span class="hljs-variable language_">self</span>.is_State_Existed(CLOSE,Right_State): <span class="hljs-comment">#åˆ¤æ–­æ˜¯å¦å·²ç»èµ°è¿‡äº†è¿™æ¡è·¯å¾„</span><br>                    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Move Right ,&quot;</span>,end=<span class="hljs-string">&#x27; &#x27;</span>)<span class="hljs-comment"># ä»£è¡¨å¯ä»¥å‘å³ç§»åŠ¨</span><br>                    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;its f(n) = &#x27;</span>,Right_State.Evaluation)<br>                    <span class="hljs-keyword">if</span> (Right_State.Matrix == TargetState).<span class="hljs-built_in">all</span>(): <span class="hljs-comment"># numpyä¸­å¯¹æ¯”æ•°ç»„ä¸­æ‰€æœ‰å…ƒç´ çš„æ–¹æ³•</span><br>                        <span class="hljs-keyword">return</span> Right_State<br>                        <span class="hljs-comment">#Next_State.ShowState()</span><br>                        <span class="hljs-comment">#åˆ¤æ–­ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„ä¼°å€¼å‡½æ•°æ˜¯å¦æ¯”å½“å‰å­˜å‚¨çš„å°</span><br>                    <span class="hljs-keyword">elif</span>(_MinPath.Evaluation &gt; Right_State.Evaluation):<br>                        _MinPath = Right_State        <span class="hljs-comment"># å…ˆç”¨_MinPathæ¥æš‚æ—¶å­˜å‚¨æœ€å°è·¯å¾„ï¼Œä¸‹ä¸€ä¸ªå¾ªç¯çš„æ—¶å€™å†ä½¿ç”¨ </span><br>                    CLOSE.push(Right_State)<br><br>            <span class="hljs-keyword">if</span> (Index % <span class="hljs-number">3</span> != <span class="hljs-number">0</span>):  <span class="hljs-comment">#å³è¾¹ç•Œæ¡ä»¶</span><br>                Left_State = <span class="hljs-variable language_">self</span>.Create_Next_State(Index, Index - <span class="hljs-number">1</span>, MinPath, <span class="hljs-string">&quot;Left&quot;</span>)<br>                <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> <span class="hljs-variable language_">self</span>.is_State_Existed(CLOSE,Left_State): <span class="hljs-comment">#åˆ¤æ–­æ˜¯å¦å·²ç»èµ°è¿‡äº†è¿™æ¡è·¯å¾„</span><br>                    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Move Left ,&quot;</span>,end=<span class="hljs-string">&#x27; &#x27;</span>)<span class="hljs-comment"># ä»£è¡¨å¯ä»¥å‘å³ç§»åŠ¨</span><br>                    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;its f(n) = &#x27;</span>,Left_State.Evaluation)<br>                    <span class="hljs-keyword">if</span> (Left_State.Matrix == TargetState).<span class="hljs-built_in">all</span>(): <span class="hljs-comment"># numpyä¸­å¯¹æ¯”æ•°ç»„ä¸­æ‰€æœ‰å…ƒç´ çš„æ–¹æ³•</span><br>                        <span class="hljs-keyword">return</span> Left_State<br>                        <span class="hljs-comment">#Next_State.ShowState()</span><br>                        <span class="hljs-comment">#åˆ¤æ–­ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„ä¼°å€¼å‡½æ•°æ˜¯å¦æ¯”å½“å‰å­˜å‚¨çš„å°</span><br>                    <span class="hljs-keyword">elif</span>(_MinPath.Evaluation &gt; Left_State.Evaluation):<br>                        _MinPath = Left_State    <span class="hljs-comment"># å…ˆç”¨_MinPathæ¥æš‚æ—¶å­˜å‚¨æœ€å°è·¯å¾„ï¼Œä¸‹ä¸€ä¸ªå¾ªç¯çš„æ—¶å€™å†ä½¿ç”¨ </span><br>                    CLOSE.push(Left_State)                        <br><br>            <span class="hljs-keyword">if</span> (Index - <span class="hljs-number">3</span> &gt;= <span class="hljs-number">0</span>):  <span class="hljs-comment">#ä¸Šè¾¹ç•Œæ¡ä»¶</span><br>                Up_State = <span class="hljs-variable language_">self</span>.Create_Next_State(Index, Index - <span class="hljs-number">3</span>, MinPath, <span class="hljs-string">&quot;Up&quot;</span>)<br>                <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> <span class="hljs-variable language_">self</span>.is_State_Existed(CLOSE,Up_State): <span class="hljs-comment">#åˆ¤æ–­æ˜¯å¦å·²ç»èµ°è¿‡äº†è¿™æ¡è·¯å¾„</span><br>                    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Move Up ,&quot;</span>,end=<span class="hljs-string">&#x27; &#x27;</span>)<span class="hljs-comment"># ä»£è¡¨å¯ä»¥å‘å³ç§»åŠ¨</span><br>                    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;its f(n) = &#x27;</span>,Up_State.Evaluation)<br>                    <span class="hljs-keyword">if</span> (Up_State.Matrix == TargetState).<span class="hljs-built_in">all</span>(): <span class="hljs-comment"># numpyä¸­å¯¹æ¯”æ•°ç»„ä¸­æ‰€æœ‰å…ƒç´ çš„æ–¹æ³•</span><br>                        <span class="hljs-keyword">return</span> Up_State<br>                        <span class="hljs-comment">#Next_State.ShowState()</span><br>                        <span class="hljs-comment">#åˆ¤æ–­ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„ä¼°å€¼å‡½æ•°æ˜¯å¦æ¯”å½“å‰å­˜å‚¨çš„å°</span><br>                    <span class="hljs-keyword">elif</span>(_MinPath.Evaluation &gt; Up_State.Evaluation):<br>                        _MinPath = Up_State        <span class="hljs-comment"># å…ˆç”¨_MinPathæ¥æš‚æ—¶å­˜å‚¨æœ€å°è·¯å¾„ï¼Œä¸‹ä¸€ä¸ªå¾ªç¯çš„æ—¶å€™å†ä½¿ç”¨ </span><br>                    CLOSE.push(Up_State)                        <br>            <br>            <span class="hljs-keyword">if</span> (Index + <span class="hljs-number">3</span> &lt;= <span class="hljs-number">8</span>):  <span class="hljs-comment">#ä¸‹è¾¹ç•Œæ¡ä»¶</span><br>                Down_State = <span class="hljs-variable language_">self</span>.Create_Next_State(Index, Index + <span class="hljs-number">3</span>, MinPath, <span class="hljs-string">&quot;Down&quot;</span>)<br>                <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> <span class="hljs-variable language_">self</span>.is_State_Existed(CLOSE,Down_State): <span class="hljs-comment">#åˆ¤æ–­æ˜¯å¦å·²ç»èµ°è¿‡äº†è¿™æ¡è·¯å¾„</span><br>                    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Move Down ,&quot;</span>,end=<span class="hljs-string">&#x27; &#x27;</span>)<span class="hljs-comment"># ä»£è¡¨å¯ä»¥å‘å³ç§»åŠ¨</span><br>                    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;its f(n) = &#x27;</span>,Down_State.Evaluation)<br>                    <span class="hljs-keyword">if</span> (Down_State.Matrix == TargetState).<span class="hljs-built_in">all</span>(): <span class="hljs-comment"># numpyä¸­å¯¹æ¯”æ•°ç»„ä¸­æ‰€æœ‰å…ƒç´ çš„æ–¹æ³•</span><br>                        <span class="hljs-keyword">return</span> Down_State<br>                        <span class="hljs-comment">#Next_State.ShowState()</span><br>                        <span class="hljs-comment">#åˆ¤æ–­ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„ä¼°å€¼å‡½æ•°æ˜¯å¦æ¯”å½“å‰å­˜å‚¨çš„å°</span><br>                    <span class="hljs-keyword">elif</span>(_MinPath.Evaluation &gt; Down_State.Evaluation):<br>                        _MinPath = Down_State         <span class="hljs-comment"># å…ˆç”¨_MinPathæ¥æš‚æ—¶å­˜å‚¨æœ€å°è·¯å¾„ï¼Œä¸‹ä¸€ä¸ªå¾ªç¯çš„æ—¶å€™å†ä½¿ç”¨</span><br>                    CLOSE.push(Down_State)<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;One layer Throughï¼Œnow Min f(n) = &quot;</span>,_MinPath.Evaluation)<br>            <span class="hljs-built_in">print</span>()                                        <br>                    <br><br>    <br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">&quot;__main__&quot;</span>:<br>    <span class="hljs-keyword">if</span> <span class="hljs-number">1</span>:<br>        OriginState = np.array([<span class="hljs-number">2</span>, <span class="hljs-number">8</span>, <span class="hljs-number">3</span>,<br>                    <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">4</span>,<br>                    <span class="hljs-number">7</span>, <span class="hljs-number">6</span>, <span class="hljs-number">5</span>])<br>        Or_Index = <span class="hljs-number">4</span><br>    <span class="hljs-keyword">elif</span> <span class="hljs-number">0</span>:<br>        OriginState = np.array([<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">3</span>,<br>                    <span class="hljs-number">8</span>, <span class="hljs-number">2</span>, <span class="hljs-number">6</span>,<br>                    <span class="hljs-number">7</span>, <span class="hljs-number">5</span>, <span class="hljs-number">4</span>])    <br>        Or_Index = <span class="hljs-number">1</span><br>    <span class="hljs-keyword">elif</span> <span class="hljs-number">0</span>:<br>        OriginState = np.array([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>,<br>                    <span class="hljs-number">4</span>, <span class="hljs-number">0</span>, <span class="hljs-number">5</span>,<br>                    <span class="hljs-number">8</span>, <span class="hljs-number">7</span>, <span class="hljs-number">6</span>])    <br>        Or_Index = <span class="hljs-number">4</span><br>    <span class="hljs-keyword">elif</span> <span class="hljs-number">0</span>:<br>        OriginState = np.array([<span class="hljs-number">4</span>, <span class="hljs-number">8</span>, <span class="hljs-number">3</span>,<br>                    <span class="hljs-number">1</span>, <span class="hljs-number">6</span>, <span class="hljs-number">5</span>,<br>                    <span class="hljs-number">0</span>, <span class="hljs-number">4</span>, <span class="hljs-number">7</span>])<br>        Or_Index = <span class="hljs-number">6</span><br>                                                 <br>    TargetState = np.array([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>,<br>                   <span class="hljs-number">8</span>, <span class="hljs-number">0</span>, <span class="hljs-number">4</span>,<br>                   <span class="hljs-number">7</span>, <span class="hljs-number">6</span>, <span class="hljs-number">5</span>])<br>    CLOSE = MyQueue(<span class="hljs-number">300</span>)<br>    State.Tar_State = TargetState<br>    Or_State = State(CuState=OriginState,deepNum=<span class="hljs-number">0</span>, index=Or_Index)<br>    EndState = Or_State.Find() <span class="hljs-comment">#è‹¥æŸ¥è¯¢å¤±è´¥è¿”å›OriginèŠ‚ç‚¹ï¼Œæ²¡æœ‰çˆ¶ç±»ï¼Œå› æ­¤ä¸è¾“å‡º</span><br>    Path = [] <span class="hljs-comment"># ç”¨æ¥å­˜å‚¨èŠ‚ç‚¹è·¯å¾„ï¼Œç”¨äºæ­£åºè¾“å‡º</span><br>    <span class="hljs-keyword">while</span> (EndState.parent <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span>):<br>        Path.append(EndState)<br>        EndState = EndState.parent<br>    <span class="hljs-keyword">if</span>(Path):<br>        Or_State.ShowState()<br>        Path.reverse()<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> Path:<br>            i.ShowState()    <br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>æœ¬ç§‘</category>
      
      <category>å¤§ä¸‰ä¸Š</category>
      
      <category>äººå·¥æ™ºèƒ½å¯¼è®º</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>åŸºäºç”µç£å¾ªè¿¹çš„STC16å››è½®è½¦</title>
    <link href="/2022/08/20/%E5%A4%A7%E5%AD%A6%E7%AB%9E%E8%B5%9B/%E6%99%BA%E8%83%BD%E8%BD%A6/%E5%9F%BA%E4%BA%8E%E7%94%B5%E7%A3%81%E5%BE%AA%E8%BF%B9%E7%9A%84STC16%E5%9B%9B%E8%BD%AE%E8%BD%A6%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3/"/>
    <url>/2022/08/20/%E5%A4%A7%E5%AD%A6%E7%AB%9E%E8%B5%9B/%E6%99%BA%E8%83%BD%E8%BD%A6/%E5%9F%BA%E4%BA%8E%E7%94%B5%E7%A3%81%E5%BE%AA%E8%BF%B9%E7%9A%84STC16%E5%9B%9B%E8%BD%AE%E8%BD%A6%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3/</url>
    
    <content type="html"><![CDATA[<h1 id="åŸºäºç”µç£å¾ªè¿¹çš„STC16å››è½®è½¦ï¼ˆæ‹–å»¶ç—‡ã€‚ã€‚è¿˜æ²¡æ€ä¹ˆå†™ï¼‰"><a href="#åŸºäºç”µç£å¾ªè¿¹çš„STC16å››è½®è½¦ï¼ˆæ‹–å»¶ç—‡ã€‚ã€‚è¿˜æ²¡æ€ä¹ˆå†™ï¼‰" class="headerlink" title="åŸºäºç”µç£å¾ªè¿¹çš„STC16å››è½®è½¦ï¼ˆæ‹–å»¶ç—‡ã€‚ã€‚è¿˜æ²¡æ€ä¹ˆå†™ï¼‰"></a>åŸºäºç”µç£å¾ªè¿¹çš„STC16å››è½®è½¦ï¼ˆæ‹–å»¶ç—‡ã€‚ã€‚è¿˜æ²¡æ€ä¹ˆå†™ï¼‰</h1><blockquote><p>é¡¹ç›®æ—¶é—´ï¼š2022.2 ~ 2022.7</p><p>æ¯”èµ›åç§°ï¼šå…¨å›½å¤§å­¦ç”Ÿæ™ºèƒ½è½¦ç«èµ›</p><p>æ¯”èµ›é¡¹ç›®ï¼šä¸‰è¾†å››è½®è½¦å®Œæˆä¸€å®šçš„å¾ªè¿¹è¦æ±‚</p><p>é˜Ÿå‹ï¼šä¸€å…±äº”äººï¼Œä¸‰ä¸ªäººåˆ†åˆ«è´Ÿè´£ä¸€è¾†è½¦çš„å…¨éƒ¨å†…å®¹ï¼ŒåŒ…æ‹¬è£…é…ï¼Œè°ƒè¯•ï¼Œå¦å¤–ä¸¤ä¸ªäººè´Ÿè´£ç”»æ¿å­å’Œç„Šæ¿å­</p><p>ä¸ªäººè´Ÿè´£é¡¹ç›®ï¼šåŸºäºç”µç£å¾ªè¿¹çš„ä¸€è¾†å››è½®è½¦</p><p>è½¦æ¨¡ï¼šBè½¦è½¦æ¨¡</p><p>ä½¿ç”¨èŠ¯ç‰‡ï¼šSTC16F</p><p>ç¼–è¯‘å·¥å…·ï¼šKeil4</p><p>çƒ§å½•å·¥å…· ï¼šstc-isp</p></blockquote>]]></content>
    
    
    <categories>
      
      <category>å¤§å­¦ç«èµ›</category>
      
      <category>æ™ºèƒ½è½¦</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Projects</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Typora+Github+Picgoå»ºç«‹å›¾åºŠï¼ˆåé¢è½¬Giteeäº†ï¼‰</title>
    <link href="/2022/08/09/%E5%90%84%E7%A7%8D%E9%9A%8F%E7%AC%94%E7%BB%8F%E9%AA%8C%E8%AE%B0%E5%BD%95/%E5%90%84%E7%A7%8D%E8%BD%AF%E4%BB%B6%E9%9A%8F%E7%AC%94/typora%E5%9B%BE%E5%BA%8A%E6%8D%A3%E9%BC%93/"/>
    <url>/2022/08/09/%E5%90%84%E7%A7%8D%E9%9A%8F%E7%AC%94%E7%BB%8F%E9%AA%8C%E8%AE%B0%E5%BD%95/%E5%90%84%E7%A7%8D%E8%BD%AF%E4%BB%B6%E9%9A%8F%E7%AC%94/typora%E5%9B%BE%E5%BA%8A%E6%8D%A3%E9%BC%93/</url>
    
    <content type="html"><![CDATA[<h1 id="Typora-Github-Picgo-å»ºç«‹å›¾åºŠç„¶åè½¬æˆ˜giteeçš„æ•…äº‹ï¼ˆè¡€æ³ªå²ï¼‰"><a href="#Typora-Github-Picgo-å»ºç«‹å›¾åºŠç„¶åè½¬æˆ˜giteeçš„æ•…äº‹ï¼ˆè¡€æ³ªå²ï¼‰" class="headerlink" title="Typora + Github + Picgo å»ºç«‹å›¾åºŠç„¶åè½¬æˆ˜giteeçš„æ•…äº‹ï¼ˆè¡€æ³ªå²ï¼‰"></a>Typora + Github + Picgo å»ºç«‹å›¾åºŠç„¶åè½¬æˆ˜giteeçš„æ•…äº‹ï¼ˆè¡€æ³ªå²ï¼‰</h1><blockquote><p>ä¸»è¦èµ„æ–™è¿˜æ˜¯å‚ç…§csdnä¸Šé¢çš„åšå®¢ï¼ˆæ–¹æ³•åŸºæœ¬éƒ½ä¸€æ ·ï¼‰ï¼Œæˆ‘åœ¨ä¸‹é¢ä¼šåˆ—é“¾æ¥å‡ºæ¥ï¼Œä½†æ˜¯æˆ‘æŒ‰ç…§ä»–ä»¬çš„æ­¥éª¤æ—¶åˆ°æœ€åæ˜¯å¯ä»¥æ­£å¸¸ä¸Šä¼ åˆ°githubï¼Œpicgoä¹Ÿæ­£å¸¸ï¼Œä½†æ˜¯typoraå°±æ˜¯æ²¡æœ‰åŠæ³•æ­£å¸¸æ˜¾ç¤ºï¼ˆä¸çŸ¥é“æ˜¯ä¸æ˜¯æˆ‘ä¸æ˜¯æ­£ç‰ˆçš„åŸå› ï¼‰</p><p>å™¢åé¢giteeä¹Ÿæå®šäº†ï¼Œå»ºè®®å›½å†…è¿˜æ˜¯ç”¨giteeï¼Œè¿™æ ·å°±ä¸ç”¨å¼€æ¢¯å­ä¹Ÿå¯ä»¥æ¯”è¾ƒå¥½çš„åŠ è½½å›¾ç‰‡äº†</p></blockquote><p><a href="https://blog.csdn.net/weixin_44800419/article/details/122815681">(104æ¡æ¶ˆæ¯) Typoraä¸­è®¾ç½®å›¾ç‰‡è‡ªåŠ¨ä¸Šä¼ ä»¥åŠå›¾åºŠè®¾ç½®_æ™ºè€…ä¸ruçˆ±æ²³çš„åšå®¢-CSDNåšå®¢_typoraå›¾ç‰‡è‡ªåŠ¨ä¸Šä¼ å›¾åºŠ</a></p><p><a href="https://blog.csdn.net/qq_49137582/article/details/123757025?ops_request_misc=%7B%22request_id%22:%22165994463316781790781814%22,%22scm%22:%2220140713.130102334.pc_all.%22%7D&request_id=165994463316781790781814&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~first_rank_ecpm_v1~rank_v31_ecpm-2-123757025-null-null.142%5Ev39%5Econtrol,185%5Ev2%5Econtrol&utm_term=typora%E5%9B%BE%E5%BA%8Agithub%E6%97%A0%E6%B3%95%E6%98%BE%E7%A4%BA&spm=1018.2226.3001.4187">(104æ¡æ¶ˆæ¯) Typoraé…ç½®githubå›¾åºŠåŠé‡åˆ°çš„é—®é¢˜è§£å†³æ–¹æ¡ˆ_çˆ±å­¦ä¹ çš„å¤§é›„çš„åšå®¢-CSDNåšå®¢_githubå›¾åºŠ typora</a></p><p>è¿™ä¸¤ç¯‡åšå®¢éƒ½å·®ä¸å¤šï¼Œå¦‚æœæ˜¯giteeç‰ˆæœ¬è¯·è‡ªè¡Œcsdnï¼Œæ¥ä¸‹æ¥å¼€å§‹æ­£å¼è®²è§£</p><hr><h2 id="1-é¦–å…ˆæ˜¯ä¸Šè¿°ä¸‰ä¸ªå·¥å…·"><a href="#1-é¦–å…ˆæ˜¯ä¸Šè¿°ä¸‰ä¸ªå·¥å…·" class="headerlink" title="1. é¦–å…ˆæ˜¯ä¸Šè¿°ä¸‰ä¸ªå·¥å…·"></a>1. é¦–å…ˆæ˜¯ä¸Šè¿°ä¸‰ä¸ªå·¥å…·</h2><p>emmå…¶å®ä¸Šé¢çš„æ•™ç¨‹é‡Œé¢éƒ½æœ‰æ•™å®‰è£…å’Œä½¿ç”¨ï¼Œç›´æ¥çœ‹ä»–ä»¬çš„å°±å¥½äº†å“ˆå“ˆå“ˆï¼Œæˆ‘å°±è®²ä¸€ä¸‹å¤§æ¦‚ï¼š</p><p>  githubæ˜¯è®°å¾—ä¿å­˜é‚£ä¸ªtokenå°±å¯ä»¥äº†ï¼Œå¦å¤–ä¸¤ä¸ªå°±æ­£å¸¸å®‰è£…ï¼Œç„¶åpicgoçš„å¡«å†™ä¹ŸæŒ‰ç…§ä»–ä»¬ç»™çš„æ­¥éª¤å°±å¥½ï¼Œä½†æ˜¯å¦‚æœè‡ªå®šä¹‰åŸŸåå…¶å®æˆ‘æ˜¯ç”¨ä¸äº†çš„</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/32695e5cc68f05af4f848e9d8484b4fe.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h2 id="2-è‡ªå®šä¹‰åŸŸåæ›´æ¢"><a href="#2-è‡ªå®šä¹‰åŸŸåæ›´æ¢" class="headerlink" title="2. è‡ªå®šä¹‰åŸŸåæ›´æ¢"></a>2. è‡ªå®šä¹‰åŸŸåæ›´æ¢</h2><p>å¦‚æœä½ å’Œæˆ‘ä¸€æ ·ï¼ŒåŸºæœ¬ä¸ŠæŒ‰ç…§ä¸Šé¢åšå®¢çš„æ­¥éª¤æ¥èµ°ï¼Œç„¶åå‘ç°è¿™ä¸ªåŸŸåï¼Œä½ copyä¸‹æ¥åˆ°<strong>æµè§ˆå™¨</strong>ä¸Šé¢å‘ç°å¯ä»¥æ­£å¸¸æ˜¾ç¤ºå›¾ç‰‡ï¼Œä½†æ˜¯åœ¨typoraæˆ–è€…å…¶ä»–mdç¼–è¾‘å™¨é‡Œé¢å°±æ˜¯æ— æ³•æ‰“å¼€ï¼Œ</p><p>é‚£ä¹ˆä½ å¯ä»¥ç•™æ„ä¸€ä¸‹ï¼Œæ˜¯ä¸æ˜¯ä½ é‚£ä¸ªurlå¤åˆ¶ä¸‹æ¥åï¼Œåˆ°æµè§ˆå™¨æ‰“å¼€æ—¶å€™é‚£ä¸ªurlå°±å˜äº†ã€‚</p><p><strong>åŸæœ¬çš„</strong>ï¼š</p><p><a href="https://cdn.jsdelivr.net/gh/%E7%94%A8%E6%88%B7%E5%90%8D/%E4%BB%93%E5%BA%93%E5%90%8D">https://cdn.jsdelivr.net/gh/ç”¨æˆ·å/ä»“åº“å</a></p><p><strong>æˆ‘çš„æ›´æ¢ç‰ˆæœ¬ï¼š</strong></p><p><a href="https://raw.githubusercontent.com/%E7%94%A8%E6%88%B7%E5%90%8D/%E4%BB%93%E5%BA%93%E5%90%8D/master">https://raw.githubusercontent.com/ç”¨æˆ·å/ä»“åº“å/master</a></p><p>ç„¶åå°±å¯ä»¥æ˜¾ç¤ºè¾£</p><blockquote><p>æœ€åè¯´ä¸€ä¸‹ï¼šå¦‚æœæƒ³è¦ç”¨githubçš„å›¾åºŠï¼Œç„¶åå°†mdæ”¾åˆ°å…¶ä»–å¹³å°ä¸Šé¢ï¼ˆä¾‹å¦‚csdnï¼‰ï¼Œå¯èƒ½ç½‘ç»œä¼šä¸æ˜¯å¾ˆå¥½ï¼Œå¯èƒ½ä¸Šä¼ ä¼šå¤±è´¥ï¼Œè¦å¤šä¸Šä¼ å‡ æ¬¡ï¼ˆå°±æ˜¯é“¾æ¥ä¸Šä¼ å¤±è´¥äº†å°±é‡æ–°ä¸Šä¼ ï¼‰ï¼Œè¿™é‡Œå»ºè®®å¦‚æœæ²¡æœ‰æ¢¯å­ç”¨çš„è¯è¿˜æ˜¯å»ºè®®giteeæˆ–è€…å…¶ä»–å›½å†…ç½‘ç«™æˆ–æœåŠ¡å™¨åšå›¾åºŠ</p></blockquote><hr><h2 id="æˆ‘é”™äº†ï¼Œæˆ‘æ˜¯sb"><a href="#æˆ‘é”™äº†ï¼Œæˆ‘æ˜¯sb" class="headerlink" title="æˆ‘é”™äº†ï¼Œæˆ‘æ˜¯sb"></a>æˆ‘é”™äº†ï¼Œæˆ‘æ˜¯sb</h2><p>å¥½å§æˆ‘å‘ç°å…¶å®éƒ½èƒ½ç”¨ï¼Œåªæ˜¯è®¾å®šé‚£é‡Œè¦æ”¹ä¸€ä¸‹</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20220809004229634.png" alt="image-20220809004229634"></p><p>å¦‚ä¸Šå›¾ï¼Œä¹‹å‰æˆ‘æ˜¯é€‰æ‹©äº†ç¬¬å››ä¸ªYAMLé‚£ä¸ªï¼Œç„¶åå¥½åƒå°±ä¸€ç›´ä¸è¡Œæ‰€ä»¥å°±ä¸è¦é€‰ç¬¬å››ä¸ªã€‚</p><p>andå…¶å®GitHubå›¾åºŠå›½å†…ä¸€ç‚¹éƒ½ä¸å¥½ç”¨ï¼Œæµªè´¹æˆ‘æ—¶é—´å‘œå‘œï¼Œå› ä¸ºä¸å¼€æ¢¯å­æ ¹æœ¬åŠ è½½ä¸äº†å›¾ç‰‡æã€‚ã€‚ã€‚</p><p>ç®—äº†æ¥ä¸‹æ¥æ¢giteeï¼Œè¿˜æ˜¯å¾—ä¹–ä¹–å®‰è£…node.js</p><hr><h2 id="è½¬æˆ˜gitee"><a href="#è½¬æˆ˜gitee" class="headerlink" title="è½¬æˆ˜gitee"></a>è½¬æˆ˜gitee</h2><blockquote><p>å› ä¸ºGitHubä½œä¸ºå›¾åºŠçš„è¯ï¼Œä½ ä¸æŒ‚æ¢¯å­åŸºæœ¬ä¸Šæ˜¯åœ¨typoraæ— æ³•åŠ è½½å›¾ç‰‡ï¼Œç„¶åæˆ‘å°±æƒ³è¯•è¯•giteeï¼Œç„¶åæˆ‘ç«Ÿç„¶è£…node.jsåˆè£…äº†ä¸€ä¸ªæ™šä¸Šã€‚ã€‚ã€‚</p></blockquote><h3 id="è·Ÿnodeåˆæ–—äº‰äº†ä¸€æ™šä¸Š"><a href="#è·Ÿnodeåˆæ–—äº‰äº†ä¸€æ™šä¸Š" class="headerlink" title="è·Ÿnodeåˆæ–—äº‰äº†ä¸€æ™šä¸Š"></a>è·Ÿnodeåˆæ–—äº‰äº†ä¸€æ™šä¸Š</h3><h4 id="1-npmæŒ‡ä»¤æ— æ•ˆï¼Œä½†æ˜¯nodeæŒ‡ä»¤å¯ä»¥"><a href="#1-npmæŒ‡ä»¤æ— æ•ˆï¼Œä½†æ˜¯nodeæŒ‡ä»¤å¯ä»¥" class="headerlink" title="1.npmæŒ‡ä»¤æ— æ•ˆï¼Œä½†æ˜¯nodeæŒ‡ä»¤å¯ä»¥"></a>1.npmæŒ‡ä»¤æ— æ•ˆï¼Œä½†æ˜¯nodeæŒ‡ä»¤å¯ä»¥</h4><p>æˆ‘æœäº†ï¼Œæµªè´¹äº†ä¸€æ™šä¸Šåœ¨è¿™å®‰è£…nodeï¼Œå…¶å®nodeå·²ç»å¯ä»¥æ­£å¸¸å®‰è£…äº†ï¼Œä½†æ˜¯ç½‘ä¸Šè¿˜æœ‰ä¸Šé¢emmï¼Œä¸ºäº†è®©ä½ npmçš„æ‹“å±•åŒ…å®‰è£…åˆ°dç›˜ä¸Šï¼Œç„¶åæœ‰äº›é…ç½®æ–¹æ³•ï¼ŒçœŸç»™æˆ‘æ•´é˜´å½±äº†æ— è¯­äº†ï¼Œå‹æ ¹å°±ä¸è¡Œï¼Œç®—äº†æ˜¯æˆ‘ä¸è¡Œã€‚ã€‚</p><p><a href="https://blog.csdn.net/antma/article/details/86104068">(104æ¡æ¶ˆæ¯) node.js å®‰è£…è¯¦ç»†æ­¥éª¤æ•™ç¨‹_ç¨‹åºå‘˜è€æ²¹æ¡çš„åšå®¢-CSDNåšå®¢_node.js</a></p><p>å°±è¿™ç¯‡æ–‡ç« ï¼Œemmæ²¡ä»€ä¹ˆç”¨ï¼Œç›´æ¥å®‰è£…å°±å¥½ï¼Œç„¶åå¦‚æœå‡ºç°npmæŒ‡ä»¤æ²¡æœ‰ååº”ï¼Œåªæ˜¯ç©ºäº†ä¸€è¡Œcmdï¼Œé‚£çœ‹ä¸‹ä¸€ç¯‡æ–‡ç« </p><p>[(104æ¡æ¶ˆæ¯) ä¸‹è½½äº†nodejsä½†æ˜¯npm -vçš„æ—¶å€™æ²¡æœ‰ååº”å¦‚ä½•è§£å†³_eiä½ å¯æ‹‰å€’å§çš„åšå®¢-CSDNåšå®¢](<a href="https://blog.csdn.net/qq_50497708/article/details/125633745?ops_request_misc=%7B%22request_id%22:%22165996482416780366522243%22,%22scm%22:%2220140713.130102334.pc_all.%22%7D&request_id=165996482416780366522243&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~first_rank_ecpm_v1~rank_v31_ecpm-3-125633745-null-null.142%5Ev39%5Econtrol,185%5Ev2%5Econtrol&utm_term=npm">https://blog.csdn.net/qq_50497708/article/details/125633745?ops_request_misc=%7B%22request%5Fid%22%3A%22165996482416780366522243%22%2C%22scm%22%3A%2220140713.130102334.pc%5Fall.%22%7D&amp;request_id=165996482416780366522243&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~first_rank_ecpm_v1~rank_v31_ecpm-3-125633745-null-null.142^v39^control,185^v2^control&amp;utm_term=npm</a> -væ²¡æœ‰ååº”&amp;spm&#x3D;1018.2226.3001.4187)</p><p>è¿™ä¸ªå§ä»¬éå¸¸æœ‰æ„æ€å•Šå“ˆå“ˆå“ˆ</p><h4 id="2-npmå’Œnodeéƒ½å¯ä»¥äº†ï¼Œï¼Œä½†æ˜¯æ¯”å¦‚è¯´æˆ‘å®‰è£…node-jsåˆ°dç›˜ï¼Œç„¶ååœ¨Cç›˜nodeæ˜¾ç¤ºæ‰¾ä¸åˆ°å‘½ä»¤"><a href="#2-npmå’Œnodeéƒ½å¯ä»¥äº†ï¼Œï¼Œä½†æ˜¯æ¯”å¦‚è¯´æˆ‘å®‰è£…node-jsåˆ°dç›˜ï¼Œç„¶ååœ¨Cç›˜nodeæ˜¾ç¤ºæ‰¾ä¸åˆ°å‘½ä»¤" class="headerlink" title="2.npmå’Œnodeéƒ½å¯ä»¥äº†ï¼Œï¼Œä½†æ˜¯æ¯”å¦‚è¯´æˆ‘å®‰è£…node.jsåˆ°dç›˜ï¼Œç„¶ååœ¨Cç›˜nodeæ˜¾ç¤ºæ‰¾ä¸åˆ°å‘½ä»¤"></a>2.npmå’Œnodeéƒ½å¯ä»¥äº†ï¼Œï¼Œä½†æ˜¯æ¯”å¦‚è¯´æˆ‘å®‰è£…node.jsåˆ°dç›˜ï¼Œç„¶ååœ¨Cç›˜nodeæ˜¾ç¤ºæ‰¾ä¸åˆ°å‘½ä»¤</h4><p>okå…¶å®è¿™ä¸ªè¦é…ç½®ä¸€ä¸‹å…¨å±€å˜é‡ï¼Ÿå…¶å®å¥½åƒä¸ç”¨ï¼Œå› ä¸ºé‡å¯ç”µè„‘ä¹‹åå°±å¯ä»¥äº†ï¼Œåº”è¯¥æ˜¯å·²ç»é…ç½®å¥½äº†ã€‚</p><p>ä½†æˆ‘ä¹Ÿä¸æ¸…æ¥šå…¶å®å“ªäº›è¦é…ç½®å“ªäº›ä¸ç”¨ã€‚æˆ‘csdnäº†å¾ˆå¤šä¹‹åï¼Œå‘ç°é‡å¯å°±å¯ä»¥äº†ï¼Œå½“ç„¶æˆ‘ç¯å¢ƒå˜é‡é‚£è¾¹éƒ½é…äº†ã€‚</p><p>æˆ‘æ™šç‚¹åˆ æ‰è¯•ä¸€è¯•è¿˜èƒ½ä¸èƒ½ï¼Œçœ‹çœ‹æ˜¯ä¸æ˜¯é‡å¯çš„é—®é¢˜ã€‚</p><h2 id="è·Ÿpicgoçš„giteeæ’ä»¶æ–—äº‰äº†ä¸€ä¸ªå°æ—¶ï¼ˆç»ˆäºç»™æˆ‘æå®šäº†ï¼ï¼ï¼‰"><a href="#è·Ÿpicgoçš„giteeæ’ä»¶æ–—äº‰äº†ä¸€ä¸ªå°æ—¶ï¼ˆç»ˆäºç»™æˆ‘æå®šäº†ï¼ï¼ï¼‰" class="headerlink" title="è·Ÿpicgoçš„giteeæ’ä»¶æ–—äº‰äº†ä¸€ä¸ªå°æ—¶ï¼ˆç»ˆäºç»™æˆ‘æå®šäº†ï¼ï¼ï¼‰"></a>è·Ÿpicgoçš„giteeæ’ä»¶æ–—äº‰äº†ä¸€ä¸ªå°æ—¶ï¼ˆç»ˆäºç»™æˆ‘æå®šäº†ï¼ï¼ï¼‰</h2><p>é¦–å…ˆè®°å¾—å®‰è£…gitee-uploaderï¼Œå¦ä¸€ä¸ªå°±å«giteeçš„æ²¡è¯•è¿‡</p><p>å®‰è£…å¥½ä¹‹å<strong>é‡å¯ä¸€ä¸‹</strong>è½¯ä»¶ï¼Œç„¶åæ‰“å¼€é…ç½®</p><p>é…ç½®å¦‚ä¸‹ï¼Œç¬¬ä¸€è¡Œå°±æ˜¯ <strong>ç”¨æˆ·å</strong>&#x2F;<strong>ä»“åº“å</strong> (ä½†æ˜¯<strong>è¦æ³¨æ„æ³¨æ„</strong>ï¼ï¼ï¼ï¼Œæ‰€æœ‰åç§°éƒ½è¦å°å†™ï¼Œæ— è®ºä½ çš„ä»“åº“æˆ–è€…ç”¨æˆ·åé‡Œé¢æ˜¯å¦æœ‰å¤§å†™ï¼Œå› ä¸ºç½‘å€è§£æçš„æ—¶å€™å…¨éƒ½æ˜¯å°å†™ï¼Œæ‰€ä»¥ä»¥urlä¸ºå‡†å•Šå•Šå•Šå•Šå°±æ˜¯è¿™ä¸ªä¸œè¥¿æŠ˜ç£¨æˆ‘)</p><p>ä½†å…¶å®GitHubé‚£è¾¹çš„é…ç½®ï¼Œä»“åº“åå’Œç”¨æˆ·åè§£æå‡ºæ¥çš„urlæ˜¯åˆ†å¤§å°å†™çš„ï¼Œæ‰€ä»¥æˆ‘å°±ä¸€ç›´ä»¥ä¸ºgiteeä¹Ÿæ˜¯è¿™æ ·ï¼Œå¦‚æœä½ ä»¬ä¹Ÿæ˜¯è¿™æ ·å°±è®°å¾—æ”¹è¿‡æ¥å°±å¥½äº†å‘œå‘œå‘œğŸ˜­ğŸ˜­ğŸ˜­</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20220809001817181.png" alt="image-20220809001817181"></p><hr><h3 id="æœ€åæ€»ç»“ä¸€ä¸‹"><a href="#æœ€åæ€»ç»“ä¸€ä¸‹" class="headerlink" title="æœ€åæ€»ç»“ä¸€ä¸‹"></a>æœ€åæ€»ç»“ä¸€ä¸‹</h3><p>é„™äººä¸æ‰ï¼Œä¸‹åˆå¼€å§‹æè¿™ä¸ªï¼Œæåˆ°æ™šä¸ŠåäºŒç‚¹ï¼Œ</p><p>æˆ‘å‘ç°ä»Šå¤©çš„å­¦ä¹ é“è·¯è¶Šåè¶Šè¿œï¼Œä¸€å¼€å§‹æˆ‘åŸæœ¬æ˜¯åœ¨å­¦mysqlçš„ï¼Œ</p><p>ä»Šå¤©æ—©ä¸Šåœ¨å­¦mysqlï¼Œç„¶ååˆ°äº†ä¸­åˆæˆ‘ä¸æƒ³å†windowä¸‹å®‰è£…mysqlï¼Œæ‰€ä»¥æƒ³å…ˆå»è™šæ‹Ÿæœºä¸Šé¢å¼„ä¸€ä¸‹mysql</p><p>ä½†æ˜¯å®‰è£…å¥½åƒåˆæœ‰ç‚¹ä¸ä¸€æ ·ï¼Œå½“æ—¶sudo apt installè¿›ç¨‹æ— ç«¯ç«¯è¢«é”äº†ï¼Œç„¶åæˆ‘å°±å¼€å§‹æ‰¾åŸå› ï¼Œæ‰¾äº†è›®ä¹…ï¼Œé‡å¯ä¸€ä¸‹è™šæ‹Ÿæœºï¼Œæ²¡äº‹äº† â€¦.ç„¶åæˆ‘å°±ç»§ç»­å®‰è£…ï¼Œæœ€åç»ˆäºæˆåŠŸäº†ï¼Œç„¶åå°±å‘ç°ç™»å½•ä¸äº†</p><p>åé¢æ£é¼“äº†ä¸€ä¸‹å‘ç°å¯ä»¥ç›´æ¥rootç”¨æˆ·ç™»å½•ï¼Œå¯ä»¥è·³è¿‡mysqlçš„å¯†ç ã€‚ä¸è¿‡æˆ‘çš„äº‘æœåŠ¡å™¨è¿˜æ˜¯æ²¡æœ‰æƒé™ç™»å½•ï¼Œæ‰€ä»¥å…¶å®è¿˜æ˜¯æ²¡æœ‰ææ‡‚ã€‚</p><p>ç­‰åˆ°ç»ˆäºå¯ä»¥ç”¨mysqläº†ï¼ˆåœ¨ubuntuä¸Šï¼‰ï¼Œç„¶åå­¦ä¹ äº†ä¸€ä¼šï¼Œå¼€å§‹è®°ç¬”è®°äº†å“ˆï¼Œç„¶åå‘ç°æ˜¯ç¬¬ä¸€æ¬¡ç”¨typoraè®°è½½å›¾ç‰‡ç±»çš„ç¬”è®°ï¼Œå› ä¸ºè¦ç»™ç”µè„‘æˆªå›¾å˜›ï¼Œè‚¯å®šè¦ä¸Šä¼ å›¾ç‰‡çš„ã€‚ç„¶åå®ƒä¼šé»˜è®¤æ‰€æœ‰å›¾ç‰‡éƒ½å­˜åœ¨Cç›˜é‡Œé¢ï¼Œå“è¿™æˆ‘è‚¯å®šä¸æ„¿æ„å•¦ï¼ŒCç›˜ç©ºé—´æ‰è¥Ÿè§è‚˜äº†éƒ½ã€‚</p><p>ç„¶åå°±æäº†ä¸€ä¸‹æƒ³è¦åƒä»¥å‰ç”¨marktextä¸€æ ·ï¼Œé»˜è®¤å­˜åˆ°dç›˜ä¸€ä¸ªä½ç½®å§ï¼Œåé¢å‘ç°æ— è®ºæ€ä¹ˆå­˜ï¼Œè¿˜æ˜¯ä¼šå…ˆå­˜åœ¨Cç›˜ï¼Œäºæ˜¯æˆ‘å°±æƒ³è¦ä¸ç”¨GitHubå§ï¼Œçœ‹çœ‹è¿™ä¸ªè¡Œä¸è¡Œï¼Œå¥½åƒæ˜¯åˆšå¥½çœ‹åˆ°csdnä¸Šæœ‰ä¸ªæ–¹æ³•ï¼Œçœ‹ç€ä¹Ÿä¸éš¾hhhï¼Œç„¶åè¿™ä¸ªæ—¶å€™ä¸‹åˆä¸¤ä¸‰ç‚¹äº†ï¼Œå°±å¼€å§‹æ£é¼“ç”¨picogo å’Œ GitHubæ¥å®Œæˆå›¾åºŠçš„è®¾ç½®ã€‚</p><p>å…¶å®è¿™é‡Œè¿˜æ˜¯æŒºå¿«çš„ï¼Œæ²¡æ€ä¹ˆè¢«å¡ä½ï¼Œä¸Šä¼ åˆ°GitHubä¹Ÿå¾ˆé¡ºåˆ©ï¼Œåªä¸è¿‡è¦ä¸Šæ¢¯å­ï¼Œä½†æ˜¯ä¸Šä¼ æˆåŠŸäº†ï¼Œæˆ‘å›¾ç‰‡æ˜¾ç¤ºä¸å‡ºæ¥å“‡ï¼Œç„¶åå°±æ‰¾äº†å¥½å¤šæ–¹æ³•ï¼Œå‘ç°éƒ½ä¸å¤ªå¯è¡Œï¼Œä¹Ÿæ²¡æ€ä¹ˆå°è¯•ï¼Œåé¢å‘ç°æ˜¯æˆ‘çš„ä¸€ä¸ªè®¾å®šæ”¹é”™äº†ï¼ŒYAMLé‚£ä¸ªä¸åº”è¯¥å‹¾é€‰ï¼ˆtyporaä¸Šé¢çš„è®¾ç½®ï¼‰ï¼Œç»“æœå°±å¯ä»¥äº†ï¼Œæˆ‘è¿˜ä»¥ä¸ºæ˜¯urlçš„é—®é¢˜ï¼Œï¼Œï¼Œ</p><p>æˆåŠŸäº†ä¹‹ååƒäº†ä¸ªé¥­ï¼Œæƒ³äº†æƒ³ï¼Œæ¯æ¬¡éƒ½è¦å¼€æ¢¯å­ï¼Œçƒ¦æ­»äº†ï¼Œè¿™ä»¥åä¸Šä¼ ä¹Ÿä¸æ–¹ä¾¿å•Šï¼Œç„¶åå°±æƒ³å¼„giteeäº†ï¼Œç»“æœnodeçš„ç¯å¢ƒé…ç½®æ£é¼“äº†å¥½ä¹…â€¦ç„¶ååŸŸåä¸€å¼€å§‹ä¹Ÿæ²¡ææ‡‚ï¼Œå·´æ‹‰å·´æ‹‰ï¼Œä¸€å¤©å°±è¿‡å»äº†ã€‚</p><p>ä½†æ˜¯ï¼æˆ‘ç›¸ä¿¡ï¼Œæ˜å¤©å¼€å§‹ç”¨typoraå°±ä¼šç”¨çš„å¾ˆçˆ½çš„å•¦å“ˆå“ˆå“ˆå“ˆï¼Œç°åœ¨çš„è¯å¦‚æœæƒ³è¦é€‰GitHubä¸Šä¼ å’Œgiteeä¸Šä¼ ä¹Ÿéƒ½æŒºæ–¹ä¾¿çš„äº†ï¼Œå°±åœ¨picGoé‚£é‡Œæ”¹ä¸€ä¸‹å°±å¥½</p><p>å¥½äº†å›å®¿èˆç¡è§‰å»äº†ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>å„ç§éšç¬”ç»éªŒè®°å½•</category>
      
      <category>å„ç§è½¯ä»¶éšç¬”</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>2021æ•°æ®ç»“æ„è¯¾</title>
    <link href="/2021/11/20/%E6%9C%AC%E7%A7%91/%E5%A4%A7%E4%BA%8C%E4%B8%8B/2021%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E8%AF%BE/"/>
    <url>/2021/11/20/%E6%9C%AC%E7%A7%91/%E5%A4%A7%E4%BA%8C%E4%B8%8B/2021%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E8%AF%BE/</url>
    
    <content type="html"><![CDATA[<h1 id="æ•°æ®ç»“æ„"><a href="#æ•°æ®ç»“æ„" class="headerlink" title="æ•°æ®ç»“æ„"></a><em><u>æ•°æ®ç»“æ„</u></em></h1><hr><h3 id="æœªç†Ÿæ‚‰çš„é¢˜ç›®"><a href="#æœªç†Ÿæ‚‰çš„é¢˜ç›®" class="headerlink" title="æœªç†Ÿæ‚‰çš„é¢˜ç›®"></a>æœªç†Ÿæ‚‰çš„é¢˜ç›®</h3><h2 id="ä¸€-åŸºç¡€ç»ƒä¹ "><a href="#ä¸€-åŸºç¡€ç»ƒä¹ " class="headerlink" title="ä¸€.åŸºç¡€ç»ƒä¹ "></a>ä¸€.åŸºç¡€ç»ƒä¹ </h2><p>ç±»ä¸å¯¹è±¡ ç‚¹åœ†è¿ç®—</p><h2 id="äºŒ-é¡ºåºè¡¨-é“¾è¡¨"><a href="#äºŒ-é¡ºåºè¡¨-é“¾è¡¨" class="headerlink" title="äºŒ..é¡ºåºè¡¨+é“¾è¡¨"></a>äºŒ..é¡ºåºè¡¨+é“¾è¡¨</h2><p>è‚¡ç¥¨è¿è¡Œ</p><p>ç±»å®ç°(è¿™ä¸ªæå®šäº†)</p><p>èŠ‚ç‚¹äº¤æ¢ ï¼ˆè¿™ä¸ªæœ‰æ—¶é—´å†åšåšï¼Œä¸‹é¢é‚£ä¸€é¢˜ä¹Ÿæ˜¯ï¼‰</p><p>å¤šé¡¹å¼</p><h2 id="ä¸‰-æ ˆ"><a href="#ä¸‰-æ ˆ" class="headerlink" title="ä¸‰.æ ˆ"></a>ä¸‰.æ ˆ</h2><p>è¿·å®«æ±‚è§£ è¡¨è¾¾å¼è®¡ç®—</p><h2 id="å››-é˜Ÿåˆ—"><a href="#å››-é˜Ÿåˆ—" class="headerlink" title="å››.é˜Ÿåˆ—"></a>å››.é˜Ÿåˆ—</h2><p>ç»„é˜Ÿåˆ—</p><p>é“¶è¡Œï¼ˆé“¶è¡Œçš„æ€è·¯æ¯”è¾ƒå¤æ‚ï¼Œä½†æƒ³æ¸…æ¥šäº†å°±è¿˜å¥½ï¼‰</p><h2 id="äº”-ä¸²"><a href="#äº”-ä¸²" class="headerlink" title="äº”.ä¸²"></a>äº”.ä¸²</h2><p>kmpç®—æ³•</p><p>æ±‚nextæŒ‡é’ˆ</p><h2 id="å…­-æ ‘"><a href="#å…­-æ ‘" class="headerlink" title="å…­.æ ‘"></a>å…­.æ ‘</h2><p>1.å“ˆå¤«æ›¼æ ‘çš„æ±‚è§£ç¼–ç ï¼ˆä¹‹å‰é‚£å‘¨å¤ªå¿™äº†ä¼°è®¡åšä¸äº†å¤šå°‘é¢˜ï¼‰</p><p>å“ˆå¤«æ›¼ç¼–ç åé¢å››é¢˜éƒ½æ²¡æ¥å¾—åŠè®¤çœŸçœ‹</p><p>2.å±‚æ¬¡éå†ï¼ˆåŸºæœ¬ä¸Šææ‡‚äº†ï¼Œå°±æ˜¯ç”¨é˜Ÿåˆ—å­˜å‚¨ï¼‰</p><p>3.ç”¨æ•°ç»„æ¥å­˜å‚¨æ ‘</p><p>4.äºŒå‰æ ‘ä¸å¤šå‰æ ‘&amp;</p><p>æ ‘ä¸æ£®æ—ä¹‹é—´çš„</p><h2 id="ä¸ƒ-å›¾"><a href="#ä¸ƒ-å›¾" class="headerlink" title="ä¸ƒ.å›¾"></a>ä¸ƒ.å›¾</h2><p>1.æ„å»ºé‚»æ¥è¡¨è¿˜ä¸æ˜¯å¾ˆç†Ÿç»ƒï¼ˆç¨å¾®å¤æ‚ï¼‰</p><p>2.è®¡ç®—å›¾éé›¶é¢ç§¯</p><p>3.æœ€å°ç”Ÿæˆæ ‘ ï¼ˆprimç®—æ³•å’Œkruskalç®—æ³• éœ€è¦å¾ˆç†Ÿæ‚‰ï¼‰</p><p>4.è¿ªæ°æ–¯ç‰¹æ‹‰ç®—æ³•æ¯”è¾ƒéš¾ç†è§£</p><p>5.æ‹“æ‰‘æ’åºçš„STLç‰ˆæœ¬ï¼ˆç”¨åˆ°äº†vetorï¼‰</p><p>6.å…³é”®è·¯å¾„STLç‰ˆæœ¬</p><h2 id="å…«-æŸ¥æ‰¾"><a href="#å…«-æŸ¥æ‰¾" class="headerlink" title="å…«.æŸ¥æ‰¾"></a>å…«.æŸ¥æ‰¾</h2><p>1.é“¾åœ°å€æ³•</p><p>äºŒå‰æ’åºæ ‘çš„æ„å»º</p><p>2.äºŒå‰æ’åºæ ‘çš„åˆ é™¤</p><p>3.å“ˆå¸ŒæŸ¥æ‰¾â€”Trieæ ‘</p><hr><h1 id="è¿˜æœªæŒæ¡çš„æ¦‚å¿µ"><a href="#è¿˜æœªæŒæ¡çš„æ¦‚å¿µ" class="headerlink" title="è¿˜æœªæŒæ¡çš„æ¦‚å¿µ"></a>è¿˜æœªæŒæ¡çš„æ¦‚å¿µ</h1><h2 id="1-é“¾è¡¨"><a href="#1-é“¾è¡¨" class="headerlink" title="1.é“¾è¡¨"></a>1.é“¾è¡¨</h2><p>C++ç±»çš„å®ç°ï¼Œå‡½æ•°çš„é‡è½½ï¼Œæ‹·è´</p><p>å•é“¾è¡¨çš„åˆ›å»º</p><h5 id="å¾ªç¯é“¾è¡¨çš„åˆ›å»ºï¼Œæ¦‚å¿µ-è¿˜æœ‰åŒå‘é“¾è¡¨"><a href="#å¾ªç¯é“¾è¡¨çš„åˆ›å»ºï¼Œæ¦‚å¿µ-è¿˜æœ‰åŒå‘é“¾è¡¨" class="headerlink" title="å¾ªç¯é“¾è¡¨çš„åˆ›å»ºï¼Œæ¦‚å¿µ è¿˜æœ‰åŒå‘é“¾è¡¨"></a>å¾ªç¯é“¾è¡¨çš„åˆ›å»ºï¼Œæ¦‚å¿µ è¿˜æœ‰åŒå‘é“¾è¡¨</h5><p>å¹¿ä¹‰è¡¨ï¼ŒçŸ©é˜µçš„å‹ç¼©ï¼Œï¼ˆæœºè€ƒä¸è€ƒï¼Œç¬”è¯•ä¼šæœ‰ï¼‰</p><p><a href="https://www.notion.so/c2027d21a1d745ddbec118c4a4c5dae9">å¤šé¡¹å¼</a></p><h2 id="2-æ ˆ"><a href="#2-æ ˆ" class="headerlink" title="2.æ ˆ"></a>2.æ ˆ</h2><p>é“¾æ ˆçš„å®ç°</p><h2 id="3-é˜Ÿåˆ—"><a href="#3-é˜Ÿåˆ—" class="headerlink" title="3.é˜Ÿåˆ—"></a>3.é˜Ÿåˆ—</h2><p>é˜Ÿåˆ—çš„å®ç°ï¼ˆä¾‹å¦‚å¾ªç¯é˜Ÿåˆ—çš„å®šä¹‰ï¼‰</p><p>é€†æ³¢å…°å¼å’Œæ³¢å…°å¼çš„è®¡ç®—å’Œè½¬åŒ–</p><h2 id="4-ä¸²"><a href="#4-ä¸²" class="headerlink" title="4.ä¸²"></a>4.ä¸²</h2><p>kmpæ¨¡å¼åŒ¹é…çš„åŸç†è¿˜ä¸å¤ªæ˜ç™½ï¼Œç‰¹åˆ«æ˜¯ä»£ç ï¼Œè™½ç„¶çœ‹ç€ç®€å•ä½†æƒ³ä¸é€šåŸç†ã€‚</p><h2 id="5-æ ‘"><a href="#5-æ ‘" class="headerlink" title="5.æ ‘"></a>5.æ ‘</h2><p>å±‚åºéå†çš„åŸç†ï¼šåˆ©ç”¨é˜Ÿåˆ—ï¼Œæ ¹èŠ‚ç‚¹è¿›é˜Ÿåˆ—ï¼Œå‡ºé˜Ÿåˆ—æ—¶ï¼Œè®©å…¶å·¦å³å­©å­è¿›ç«™</p><p>äºŒå‰æ ‘ä¹‹æ•°ç»„å­˜å‚¨ã€‚</p><p>å“ˆå¤«æ›¼æ ‘çš„æ„å»ºï¼Œç¼–ç ä¸è§£ç ï¼ˆæƒå€¼èµ‹å€¼ç­‰åŸç†ï¼‰</p><h2 id="6-å›¾"><a href="#6-å›¾" class="headerlink" title="6.å›¾"></a>6.å›¾</h2><p><a href="https://www.notion.so/e82d7b4346be412580a2c743d0eefc1e">å›¾ç¬¬ä¸€å‘¨ä½œä¸š</a></p><p><a href="https://www.notion.so/61b0a2be4af548309143a002a28ea0ac">ç¬¬äºŒå‘¨</a></p><p><a href="https://www.notion.so/jb-3bfad75961a942dbb010f3b73ba48967">ç¬¬ä¸‰å‘¨ï¼ˆçœŸjbéš¾ï¼‰</a></p><h2 id="7-æŸ¥æ‰¾"><a href="#7-æŸ¥æ‰¾" class="headerlink" title="7.æŸ¥æ‰¾"></a>7.æŸ¥æ‰¾</h2><p><a href="https://www.notion.so/1e3f6505ea9d4c22bba36e80f05bb975">é™æ€æŸ¥æ‰¾å’ŒäºŒå‰æ’åºæ ‘</a></p><p><a href="https://www.notion.so/37b8c670aad5461ba52f0e8944029003">å“ˆå¸ŒæŸ¥æ‰¾</a></p><p>å¤šè·¯æŸ¥æ‰¾æ ‘æ¦‚å¿µéœ€è¦æŒæ¡ï¼Œå¯èƒ½ä¼šè€ƒ</p><p>å¹³è¡¡äºŒå‰æ ‘çš„æ„å»ºåŸç†è¦æŒæ¡</p><h2 id="8-æ’åº"><a href="#8-æ’åº" class="headerlink" title="8.æ’åº"></a>8.æ’åº</h2><p>æ’åºè‚¯å®šæ˜¯æ‰€æœ‰ç®—æ³•éƒ½è¦æŒæ¡çš„äº†</p><p>åŸºæ•°æ’åºä¹¦ä¸Šæ²¡æœ‰ï¼Œè™½ç„¶ä¸éš¾ï¼Œä½†ä¸€å®šè¦æŒæ¡</p>]]></content>
    
    
    <categories>
      
      <category>æœ¬ç§‘</category>
      
      <category>å¤§äºŒä¸‹</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>RPA+AIæ™ºèƒ½æŒ‘æˆ˜èµ›æŠ€æœ¯æŠ¥å‘Šæ€»ç»“</title>
    <link href="/2021/09/20/%E5%A4%A7%E5%AD%A6%E7%AB%9E%E8%B5%9B/RPA+AI%E6%8C%91%E6%88%98%E8%B5%9B%E6%80%BB%E7%BB%93/"/>
    <url>/2021/09/20/%E5%A4%A7%E5%AD%A6%E7%AB%9E%E8%B5%9B/RPA+AI%E6%8C%91%E6%88%98%E8%B5%9B%E6%80%BB%E7%BB%93/</url>
    
    <content type="html"><![CDATA[<h1 id="RPA-AIæ™ºèƒ½æŒ‘æˆ˜èµ›-æŠ€æœ¯æŠ¥å‘Šæ€»ç»“"><a href="#RPA-AIæ™ºèƒ½æŒ‘æˆ˜èµ›-æŠ€æœ¯æŠ¥å‘Šæ€»ç»“" class="headerlink" title="RPA+AIæ™ºèƒ½æŒ‘æˆ˜èµ› æŠ€æœ¯æŠ¥å‘Šæ€»ç»“"></a>RPA+AIæ™ºèƒ½æŒ‘æˆ˜èµ› æŠ€æœ¯æŠ¥å‘Šæ€»ç»“</h1><hr><h2 id="å¤§æ¦‚æ¡†æ¶ï¼ˆé¢˜ç›®å¦‚ä¸‹ï¼‰"><a href="#å¤§æ¦‚æ¡†æ¶ï¼ˆé¢˜ç›®å¦‚ä¸‹ï¼‰" class="headerlink" title="å¤§æ¦‚æ¡†æ¶ï¼ˆé¢˜ç›®å¦‚ä¸‹ï¼‰"></a>å¤§æ¦‚æ¡†æ¶ï¼ˆé¢˜ç›®å¦‚ä¸‹ï¼‰</h2><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20220921153623937.png" alt="image-20220921153623937"></p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20220921153636285.png" alt="image-20220921153636285"></p><p><strong>ä¸Šé¢å°±æ˜¯æˆ‘ä»¬çš„å¤§æ¦‚æ¡†æ¶æµç¨‹å›¾äº†</strong></p><p>ä¸»è¦æ˜¯å›´ç»•<strong>æ ¡å›­èµ›äº‹</strong>è¿™æ ·ä¸€ä¸ªä¸»é¢˜æ¥å®šåˆ¶ä¸€ä¸ªæ™ºèƒ½æœºå™¨äººçš„æµç¨‹ï¼Œ</p><p>æ€»å…±æœ‰4ä¸ªä¸»è¦æ¨¡å—ï¼Œç„¶åæ¨¡å—æ‰§è¡Œå®Œåä¼šå›åˆ°æœ€åˆé¡µé¢ç­‰å¾…</p><p><img src="https://gitee.com/cheesheep/typora-photo-bed/raw/master/Timg/image-20220921154008654.png" alt="image-20220921154008654"></p><p>æ€»çš„æ¥è¯´å°±æ˜¯æ‚ç³…äº†å„ç§åŠŸèƒ½ï¼Œä¸è¿‡æœ€ä¸»è¦çš„åŠŸèƒ½æ˜¯<strong>ç§¯åˆ†æ’è¡Œæ¦œ</strong>ï¼Œå¯ä»¥è‡ªåŠ¨å¤„ç†æ•°æ®ï¼Œå¹¶ä¸”å‘é€åˆ°å…¬ä¼—å·ä¸Šé¢ã€‚</p><hr><h2 id="åŠŸèƒ½å®ç°"><a href="#åŠŸèƒ½å®ç°" class="headerlink" title="åŠŸèƒ½å®ç°"></a>åŠŸèƒ½å®ç°</h2><h3 id="ç§¯åˆ†æ’è¡Œæ¦œ"><a href="#ç§¯åˆ†æ’è¡Œæ¦œ" class="headerlink" title="ç§¯åˆ†æ’è¡Œæ¦œ"></a>ç§¯åˆ†æ’è¡Œæ¦œ</h3><ul><li>é¦–å…ˆæ˜¯æ”¶é›†æ•°æ®ï¼Œæˆ‘ä»¬è‡ªå·±æ‹Ÿå®šä¸€å¼ excelè¡¨å‡ºæ¥ï¼Œé‡Œé¢æœ‰æ¯åœºæ¯”èµ›çš„èµ›å†µ</li><li>èµ›å†µæ˜¯æœ‰å›ºå®šæ ¼å¼å»å¡«å†™çš„ï¼Œæ–¹ä¾¿åé¢ä»£ç è¯»å–å¯ä»¥è§„èŒƒç»Ÿä¸€å»å–æ•°æ®</li><li>å–å¾—æ•°æ®åè¿›è¡Œè‡ªåŠ¨å¤„ç†ï¼Œå°†æ‰€æœ‰æ¯”èµ›çš„æ•°æ®å¡«åˆ°ä¸€å¼ æ–°çš„excelè¡¨é‡Œé¢</li><li>å¹¶ä¸”è¿›è¡Œæ’åå’Œç»Ÿè®¡ï¼Œexcelé‡Œé¢æœ‰ä¸€ä¸ªåŠŸèƒ½æ˜¯å¯ä»¥è¯»å–å…¶ä»–æ–‡ä»¶å¤¹ä¸‹çš„excelè¡¨é‡Œé¢çš„æ•°æ®</li><li>åœ¨åšå®Œè¡¨åå°±å¯ä»¥è‡ªåŠ¨å‘é€åˆ°ç§€ç±³ä¸Šé¢åˆ¶ä½œå¥½æ¨æ–‡ï¼Œç„¶åç­‰å¾…å®¡æ‰¹é€šè¿‡å°±å¯ä»¥å‘å…¬ä¼—å·æ¨æ–‡äº†</li></ul><h3 id="è‡ªåŠ¨æ—¶é—´æ’ç­"><a href="#è‡ªåŠ¨æ—¶é—´æ’ç­" class="headerlink" title="è‡ªåŠ¨æ—¶é—´æ’ç­"></a>è‡ªåŠ¨æ—¶é—´æ’ç­</h3><ul><li>è¿™é‡Œæˆ‘ä»¬æ²¡æœ‰ç”¨RPAè½¯ä»¶ç»™å‡ºçš„æ¥å£ï¼Œè€Œæ˜¯è‡ªå·±ç¼–å†™äº†ä¸€ä¸²pythonç¨‹åºè¿›è¡Œæ•°æ®çš„å¤„ç†</li><li>é¦–å…ˆæ˜¯æ”¶é›†æ¯ä¸ªé˜Ÿä¼ç»™å‡ºçš„ç©ºé—²æ—¶é—´ï¼ˆåœ¨ä¸€å‘¨é‡Œé¢æŒ‘å¤§æ¦‚æ—¶é—´ï¼‰</li><li>ç„¶åæ ¹æ®è¿™äº›ç©ºé—²æ—¶é—´æ¥å®‰æ’æ‰€æœ‰é˜Ÿä¼ä¹‹é—´çš„æ¯”èµ›ï¼Œä¿è¯æ²¡æœ‰æ—¶é—´ä¸Šçš„å†²çª</li><li>å¦‚æœå®åœ¨ä¼šå’Œç»™å‡ºçš„æ—¶é—´è¡¨æœ‰å†²çªåˆ™è¦é€šçŸ¥æ¯”èµ›é˜Ÿä¼ï¼Œåå•†</li></ul><h3 id="ä¿é™©å½•å…¥"><a href="#ä¿é™©å½•å…¥" class="headerlink" title="ä¿é™©å½•å…¥"></a>ä¿é™©å½•å…¥</h3><ul><li>è¿™ä¸ªå°±æ¯”è¾ƒç®€å•ï¼Œå› ä¸ºæ¯”èµ›é˜Ÿå‘˜éƒ½è¦ä¹°ä¿é™©ï¼ˆä¸ºäº†å®‰å…¨èµ·è§ï¼‰</li><li>ç„¶åä¹Ÿæ˜¯è¦ä¸€ä»½excelè¡¨æ ¼æ”¶é›†å¥½ä¸ªäººä¿¡æ¯</li><li>ç„¶åå†å»æŸä¸ªä¿é™©å®˜ç½‘ä¸Šé¢è¿›è¡Œé¡µé¢çš„æ“ä½œï¼Œå¸®å¿™å½•å…¥èº«ä»½è¯ç­‰ä¿¡æ¯</li></ul><h3 id="ä¿å•è‡ªåŠ¨å‘é€"><a href="#ä¿å•è‡ªåŠ¨å‘é€" class="headerlink" title="ä¿å•è‡ªåŠ¨å‘é€"></a>ä¿å•è‡ªåŠ¨å‘é€</h3><ul><li>è¿™ä¸ªæ˜¯åˆ©ç”¨é‚®ä»¶çš„åè®®ï¼ŒRPAçš„è½¯ä»¶é‡Œé¢æä¾›æœ‰æ¥å£ç”¨äºå‘é€é‚®ä»¶</li></ul>]]></content>
    
    
    <categories>
      
      <category>å¤§å­¦ç«èµ›</category>
      
    </categories>
    
    
  </entry>
  
  
  
  
</search>
